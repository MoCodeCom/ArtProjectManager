var QI=Object.defineProperty,mP=Object.defineProperties;var yP=Object.getOwnPropertyDescriptors;var yu=Object.getOwnPropertySymbols;var YI=Object.prototype.hasOwnProperty,JI=Object.prototype.propertyIsEnumerable;var KI=(t,e,n)=>e in t?QI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P=(t,e)=>{for(var n in e||={})YI.call(e,n)&&KI(t,n,e[n]);if(yu)for(var n of yu(e))JI.call(e,n)&&KI(t,n,e[n]);return t},we=(t,e)=>mP(t,yP(e));var XI=(t,e)=>{var n={};for(var r in t)YI.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&yu)for(var r of yu(t))e.indexOf(r)<0&&JI.call(t,r)&&(n[r]=t[r]);return n};var vP=(t,e)=>{for(var n in e)QI(t,n,{get:e[n],enumerable:!0})};var p=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var ZI=null;var Kf=1;function Ft(t){let e=ZI;return ZI=t,e}var eE={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _P(t){if(!(Jf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Kf)){if(!t.producerMustRecompute(t)&&!Qf(t)){t.dirty=!1,t.lastCleanEpoch=Kf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Kf}}function tE(t){return t&&(t.nextProducerIndex=0),Ft(t)}function nE(t,e){if(Ft(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Jf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Yf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Qf(t){vu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(_P(n),r!==n.version))return!0}return!1}function rE(t){if(vu(t),Jf(t))for(let e=0;e<t.producerNode.length;e++)Yf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Yf(t,e){if(wP(t),vu(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Yf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];vu(i),i.producerIndexOfThis[r]=e}}function Jf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function vu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function wP(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function IP(){throw new Error}var EP=IP;function iE(t){EP=t}function z(t){return typeof t=="function"}function rs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var _u=rs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function oi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Be=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(z(r))try{r()}catch(s){e=s instanceof _u?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{sE(s)}catch(o){e=e??[],o instanceof _u?e=[...e,...o.errors]:e.push(o)}}if(e)throw new _u(e)}}add(e){var n;if(e&&e!==this)if(this.closed)sE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&oi(n,e)}remove(e){let{_finalizers:n}=this;n&&oi(n,e),e instanceof t&&e._removeParent(this)}};Be.EMPTY=(()=>{let t=new Be;return t.closed=!0,t})();var Xf=Be.EMPTY;function wu(t){return t instanceof Be||t&&"closed"in t&&z(t.remove)&&z(t.add)&&z(t.unsubscribe)}function sE(t){z(t)?t():t.unsubscribe()}var rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var is={setTimeout(t,e,...n){let{delegate:r}=is;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=is;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Iu(t){is.setTimeout(()=>{let{onUnhandledError:e}=rn;if(e)e(t);else throw t})}function Wo(){}var oE=(()=>Zf("C",void 0,void 0))();function aE(t){return Zf("E",void 0,t)}function cE(t){return Zf("N",t,void 0)}function Zf(t,e,n){return{kind:t,value:e,error:n}}var ai=null;function ss(t){if(rn.useDeprecatedSynchronousErrorHandling){let e=!ai;if(e&&(ai={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ai;if(ai=null,n)throw r}}else t()}function uE(t){rn.useDeprecatedSynchronousErrorHandling&&ai&&(ai.errorThrown=!0,ai.error=t)}var ci=class extends Be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wu(e)&&e.add(this)):this.destination=TP}static create(e,n,r){return new os(e,n,r)}next(e){this.isStopped?tp(cE(e),this):this._next(e)}error(e){this.isStopped?tp(aE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?tp(oE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CP=Function.prototype.bind;function ep(t,e){return CP.call(t,e)}var np=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Eu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Eu(r)}else Eu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Eu(n)}}},os=class extends ci{constructor(e,n,r){super();let i;if(z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&rn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ep(e.next,s),error:e.error&&ep(e.error,s),complete:e.complete&&ep(e.complete,s)}):i=e}this.destination=new np(i)}};function Eu(t){rn.useDeprecatedSynchronousErrorHandling?uE(t):Iu(t)}function bP(t){throw t}function tp(t,e){let{onStoppedNotification:n}=rn;n&&is.setTimeout(()=>n(t,e))}var TP={closed:!0,next:Wo,error:bP,complete:Wo};var as=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function Lt(t){return t}function rp(...t){return ip(t)}function ip(t){return t.length===0?Lt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var J=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=AP(n)?n:new os(n,r,i);return ss(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=lE(r),new r((i,s)=>{let o=new os({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[as](){return this}pipe(...n){return ip(n)(this)}toPromise(n){return n=lE(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function lE(t){var e;return(e=t??rn.Promise)!==null&&e!==void 0?e:Promise}function DP(t){return t&&z(t.next)&&z(t.error)&&z(t.complete)}function AP(t){return t&&t instanceof ci||DP(t)&&wu(t)}function sp(t){return z(t?.lift)}function se(t){return e=>{if(sp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(t,e,n,r,i){return new op(t,e,n,r,i)}var op=class extends ci{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function cs(){return se((t,e)=>{let n=null;t._refCount++;let r=X(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var us=class extends J{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,sp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Be;let n=this.getSubject();e.add(this.source.subscribe(X(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Be.EMPTY)}return e}refCount(){return cs()(this)}};var dE=rs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Dt=(()=>{class t extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Cu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new dE}next(n){ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Xf:(this.currentObservers=null,s.push(n),new Be(()=>{this.currentObservers=null,oi(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new J;return n.source=this,n}}return t.create=(e,n)=>new Cu(e,n),t})(),Cu=class extends Dt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Xf}};var he=class extends Dt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ap={now(){return(ap.delegate||Date).now()},delegate:void 0};var bu=class extends Be{constructor(e,n){super()}schedule(e,n=0){return this}};var Ko={setInterval(t,e,...n){let{delegate:r}=Ko;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ko;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ls=class extends bu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ko.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ko.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,oi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ds=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ds.now=ap.now;var hs=class extends ds{constructor(e,n=ds.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Qo=new hs(ls);var Tu=class extends ls{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Du=class extends hs{};var cp=new Du(Tu);var Kt=new J(t=>t.complete());function hE(t){return t&&z(t.schedule)}function fE(t){return t[t.length-1]}function Au(t){return z(fE(t))?t.pop():void 0}function Ir(t){return hE(fE(t))?t.pop():void 0}function up(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function pE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ui(t){return this instanceof ui?(this.v=t,this):new ui(t)}function mE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,w){s.push([h,f,g,w])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){h.value instanceof ui?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function yE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof pE=="function"?pE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Su=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ru(t){return z(t?.then)}function xu(t){return z(t[as])}function Mu(t){return Symbol.asyncIterator&&z(t?.[Symbol.asyncIterator])}function Pu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function SP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nu=SP();function ku(t){return z(t?.[Nu])}function Ou(t){return mE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ui(n.read());if(i)return yield ui(void 0);yield yield ui(r)}}finally{n.releaseLock()}})}function Fu(t){return z(t?.getReader)}function qe(t){if(t instanceof J)return t;if(t!=null){if(xu(t))return RP(t);if(Su(t))return xP(t);if(Ru(t))return MP(t);if(Mu(t))return vE(t);if(ku(t))return PP(t);if(Fu(t))return NP(t)}throw Pu(t)}function RP(t){return new J(e=>{let n=t[as]();if(z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xP(t){return new J(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function MP(t){return new J(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Iu)})}function PP(t){return new J(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function vE(t){return new J(e=>{kP(t,e).catch(n=>e.error(n))})}function NP(t){return vE(Ou(t))}function kP(t,e){var n,r,i,s;return gE(this,void 0,void 0,function*(){try{for(n=yE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function At(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Xn(t,e=0){return se((n,r)=>{n.subscribe(X(r,i=>At(r,t,()=>r.next(i),e),()=>At(r,t,()=>r.complete(),e),i=>At(r,t,()=>r.error(i),e)))})}function Er(t,e=0){return se((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function _E(t,e){return qe(t).pipe(Er(e),Xn(e))}function wE(t,e){return qe(t).pipe(Er(e),Xn(e))}function IE(t,e){return new J(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function EE(t,e){return new J(n=>{let r;return At(n,e,()=>{r=t[Nu](),At(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>z(r?.return)&&r.return()})}function Lu(t,e){if(!t)throw new Error("Iterable cannot be null");return new J(n=>{At(n,e,()=>{let r=t[Symbol.asyncIterator]();At(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function CE(t,e){return Lu(Ou(t),e)}function bE(t,e){if(t!=null){if(xu(t))return _E(t,e);if(Su(t))return IE(t,e);if(Ru(t))return wE(t,e);if(Mu(t))return Lu(t,e);if(ku(t))return EE(t,e);if(Fu(t))return CE(t,e)}throw Pu(t)}function fe(t,e){return e?bE(t,e):qe(t)}function V(...t){let e=Ir(t);return fe(t,e)}function fs(t,e){let n=z(t)?t:()=>t,r=i=>i.error(n());return new J(e?i=>e.schedule(r,0,i):r)}function lp(t){return!!t&&(t instanceof J||z(t.lift)&&z(t.subscribe))}var Zn=rs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $(t,e){return se((n,r)=>{let i=0;n.subscribe(X(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:OP}=Array;function FP(t,e){return OP(e)?t(...e):t(e)}function Vu(t){return $(e=>FP(t,e))}var{isArray:LP}=Array,{getPrototypeOf:VP,prototype:UP,keys:jP}=Object;function Uu(t){if(t.length===1){let e=t[0];if(LP(e))return{args:e,keys:null};if(BP(e)){let n=jP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function BP(t){return t&&typeof t=="object"&&VP(t)===UP}function ju(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Yo(...t){let e=Ir(t),n=Au(t),{args:r,keys:i}=Uu(t);if(r.length===0)return fe([],e);let s=new J($P(r,e,i?o=>ju(i,o):Lt));return n?s.pipe(Vu(n)):s}function $P(t,e,n=Lt){return r=>{TE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)TE(e,()=>{let u=fe(t[c],e),l=!1;u.subscribe(X(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function TE(t,e,n){t?At(n,t,e):e()}function DE(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=w=>u<r?g(w):c.push(w),g=w=>{s&&e.next(w),u++;let m=!1;qe(n(w,l++)).subscribe(X(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){let I=c.shift();o?At(e,o,()=>g(I)):g(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(X(e,f,()=>{d=!0,h()})),()=>{a?.()}}function ze(t,e,n=1/0){return z(e)?ze((r,i)=>$((s,o)=>e(r,s,i,o))(qe(t(r,i))),n):(typeof e=="number"&&(n=e),se((r,i)=>DE(r,i,t,n)))}function Cr(t=1/0){return ze(Lt,t)}function AE(){return Cr(1)}function ps(...t){return AE()(fe(t,Ir(t)))}function Bu(t){return new J(e=>{qe(t()).subscribe(e)})}function dp(...t){let e=Au(t),{args:n,keys:r}=Uu(t),i=new J(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;qe(n[l]).subscribe(X(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?ju(r,a):a),s.complete())}))}});return e?i.pipe(Vu(e)):i}function St(t,e){return se((n,r)=>{let i=0;n.subscribe(X(r,s=>t.call(e,s,i++)&&r.next(s)))})}function br(t){return se((e,n)=>{let r=null,i=!1,s;r=e.subscribe(X(n,void 0,void 0,o=>{s=qe(t(o,br(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function SE(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(X(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function er(t,e){return z(e)?ze(t,e,1):ze(t,1)}function hp(t,e=Qo){return se((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=s;s=null,r.next(u)}};function c(){let u=o+t,l=e.now();if(l<u){i=this.schedule(void 0,u-l),r.add(i);return}a()}n.subscribe(X(r,u=>{s=u,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function Tr(t){return se((e,n)=>{let r=!1;e.subscribe(X(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function tr(t){return t<=0?()=>Kt:se((e,n)=>{let r=0;e.subscribe(X(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function fp(t){return $(()=>t)}function $u(t=HP){return se((e,n)=>{let r=!1;e.subscribe(X(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function HP(){return new Zn}function Dr(t){return se((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function sn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,s)=>t(i,s,r)):Lt,tr(1),n?Tr(e):$u(()=>new Zn))}function gs(t){return t<=0?()=>Kt:se((e,n)=>{let r=[];e.subscribe(X(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function pp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,s)=>t(i,s,r)):Lt,gs(1),n?Tr(e):$u(()=>new Zn))}function gp(t,e){return se(SE(t,e,arguments.length>=2,!0))}function mp(...t){let e=Ir(t);return se((n,r)=>{(e?ps(t,n,e):ps(t,n)).subscribe(r)})}function tt(t,e){return se((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(X(r,c=>{i?.unsubscribe();let u=0,l=s++;qe(t(c,l)).subscribe(i=X(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function yp(t){return se((e,n)=>{qe(t).subscribe(X(n,()=>n.complete(),Wo)),!n.closed&&e.subscribe(n)})}function Ne(t,e,n){let r=z(t)||e||n?{next:t,error:e,complete:n}:t;return r?se((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(X(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Lt}function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function Hu(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function yt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function RE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var qP=be({__forward_ref__:be});function ar(t){return t.__forward_ref__=ar,t.toString=function(){return yt(this())},t}function mt(t){return g0(t)?t():t}function g0(t){return typeof t=="function"&&t.hasOwnProperty(qP)&&t.__forward_ref__===ar}function m0(t){return t&&!!t.\u0275providers}var y0="https://g.co/ng/security#xss",O=class extends Error{constructor(e,n){super(Al(e,n)),this.code=e}};function Al(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var zP=be({\u0275cmp:be}),GP=be({\u0275dir:be}),WP=be({\u0275pipe:be}),KP=be({\u0275mod:be}),rl=be({\u0275fac:be}),Xo=be({__NG_ELEMENT_ID__:be}),xE=be({__NG_ENV_ID__:be});function Sl(t){return typeof t=="string"?t:t==null?"":String(t)}function QP(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Sl(t)}function YP(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new O(-200,`Circular dependency in DI detected for ${t}${n}`)}function Rg(t,e){throw new O(-201,!1)}function JP(t,e){t==null&&XP(e,t,null,"!=")}function XP(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ee(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rl(t){return ME(t,_0)||ME(t,w0)}function v0(t){return Rl(t)!==null}function ME(t,e){return t.hasOwnProperty(e)?t[e]:null}function ZP(t){let e=t&&(t[_0]||t[w0]);return e||null}function PE(t){return t&&(t.hasOwnProperty(NE)||t.hasOwnProperty(eN))?t[NE]:null}var _0=be({\u0275prov:be}),NE=be({\u0275inj:be}),w0=be({ngInjectableDef:be}),eN=be({ngInjectorDef:be}),Z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Z||{}),kp;function I0(){return kp}function Qt(t){let e=kp;return kp=t,e}function E0(t,e,n){let r=Rl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Z.Optional)return null;if(e!==void 0)return e;Rg(t,"Injector")}var vt=globalThis;var x=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var tN={},ea=tN,Op="__NG_DI_FLAG__",il="ngTempTokenPath",nN="ngTokenPath",rN=/\n/gm,iN="\u0275",kE="__source",ws;function sN(){return ws}function Ar(t){let e=ws;return ws=t,e}function oN(t,e=Z.Default){if(ws===void 0)throw new O(-203,!1);return ws===null?E0(t,void 0,e):ws.get(t,e&Z.Optional?null:void 0,e)}function b(t,e=Z.Default){return(I0()||oN)(mt(t),e)}function C(t,e=Z.Default){return b(t,xl(e))}function xl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Fp(t){let e=[];for(let n=0;n<t.length;n++){let r=mt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new O(900,!1);let i,s=Z.Default;for(let o=0;o<r.length;o++){let a=r[o],c=aN(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(b(i,s))}else e.push(b(r))}return e}function C0(t,e){return t[Op]=e,t.prototype[Op]=e,t}function aN(t){return t[Op]}function cN(t,e,n,r){let i=t[il];throw e[kE]&&i.unshift(e[kE]),t.message=uN(`
`+t.message,i,n,r),t[nN]=i,t[il]=null,t}function uN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==iN?t.slice(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):yt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(rN,`
  `)}`}function da(t){return{toString:t}.toString()}var b0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(b0||{}),An=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(An||{}),Es={},Vt=[];function T0(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Lp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];lN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function D0(t){return t===3||t===4||t===6}function lN(t){return t.charCodeAt(0)===64}function ta(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?OE(t,n,i,null,e[++r]):OE(t,n,i,null,null))}}return t}function OE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var A0="ng-template";function dN(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&T0(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function S0(t){return t.type===4&&t.value!==A0}function hN(t,e,n){let r=t.type===4&&!n?A0:t.value;return e===r}function fN(t,e,n){let r=4,i=t.attrs||[],s=mN(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!on(r)&&!on(c))return!1;if(o&&on(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!hN(t,c,n)||c===""&&e.length===1){if(on(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!dN(t.attrs,u,n)){if(on(r))return!1;o=!0}continue}let l=r&8?"class":c,d=pN(l,i,S0(t),n);if(d===-1){if(on(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&T0(f,u,0)!==-1||r&2&&u!==h){if(on(r))return!1;o=!0}}}}return on(r)||o}function on(t){return(t&1)===0}function pN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return yN(e,t)}function gN(t,e,n=!1){for(let r=0;r<e.length;r++)if(fN(t,e[r],n))return!0;return!1}function mN(t){for(let e=0;e<t.length;e++){let n=t[e];if(D0(n))return e}return t.length}function yN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function FE(t,e){return t?":not("+e.trim()+")":e}function vN(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!on(o)&&(e+=FE(s,i),i=""),r=o,s=s||!on(r);n++}return i!==""&&(e+=FE(s,i)),e}function _N(t){return t.map(vN).join(",")}function wN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!on(i))break;i=s}r++}return{attrs:e,classes:n}}function ue(t){return da(()=>{let e=N0(t),n=we(P({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===b0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||An.Emulated,styles:t.styles||Vt,_:null,schemas:t.schemas||null,tView:null,id:""});k0(n);let r=t.dependencies;return n.directiveDefs=VE(r,!1),n.pipeDefs=VE(r,!0),n.id=CN(n),n})}function IN(t){return Rr(t)||R0(t)}function EN(t){return t!==null}function Ce(t){return da(()=>({type:t.type,bootstrap:t.bootstrap||Vt,declarations:t.declarations||Vt,imports:t.imports||Vt,exports:t.exports||Vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function LE(t,e){if(t==null)return Es;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Ge(t){return da(()=>{let e=N0(t);return k0(e),e})}function Rr(t){return t[zP]||null}function R0(t){return t[GP]||null}function x0(t){return t[WP]||null}function M0(t){let e=Rr(t)||R0(t)||x0(t);return e!==null?e.standalone:!1}function P0(t,e){let n=t[KP]||null;if(!n&&e===!0)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}function N0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Es,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:LE(t.inputs,e),outputs:LE(t.outputs),debugInfo:null}}function k0(t){t.features?.forEach(e=>e(t))}function VE(t,e){if(!t)return null;let n=e?x0:IN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(EN)}function CN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var Ut=0,Q=1,H=2,Je=3,an=4,ln=5,rr=6,na=7,cn=8,Cs=9,Sn=10,Le=11,ra=12,UE=13,Rs=14,Yt=15,ha=16,ms=17,Dn=18,Ml=19,O0=20,Sr=21,vp=22,di=23,xt=25,F0=1,ia=6,ir=7,sl=8,bs=9,Rt=10,xg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(xg||{});function nr(t){return Array.isArray(t)&&typeof t[F0]=="object"}function xn(t){return Array.isArray(t)&&t[F0]===!0}function L0(t){return(t.flags&4)!==0}function fa(t){return t.componentOffset>-1}function Mg(t){return(t.flags&1)===1}function xr(t){return!!t.template}function V0(t){return(t[H]&512)!==0}function Ts(t,e){let n=t.hasOwnProperty(rl);return n?t[rl]:null}var Vp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function cr(){return U0}function U0(t){return t.type.prototype.ngOnChanges&&(t.setInput=TN),bN}cr.ngInherit=!0;function bN(){let t=B0(this),e=t?.current;if(e){let n=t.previous;if(n===Es)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function TN(t,e,n,r){let i=this.declaredInputs[n],s=B0(t)||DN(t,{previous:Es,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new Vp(c&&c.currentValue,e,a===Es),t[r]=e}var j0="__ngSimpleChanges__";function B0(t){return t[j0]||null}function DN(t,e){return t[j0]=e}var jE=null;var bn=function(t,e,n){jE?.(t,e,n)},AN="svg",SN="math",RN=!1;function xN(){return RN}function un(t){for(;Array.isArray(t);)t=t[Ut];return t}function $0(t,e){return un(e[t])}function jt(t,e){return un(e[t.index])}function H0(t,e){return t.data[e]}function MN(t,e){return t[e]}function Pr(t,e){let n=e[t];return nr(n)?n:n[Ut]}function PN(t){return(t[H]&4)===4}function Pg(t){return(t[H]&128)===128}function NN(t){return xn(t[Je])}function ol(t,e){return e==null?null:t[e]}function q0(t){t[ms]=0}function kN(t){t[H]&1024||(t[H]|=1024,Pg(t)&&sa(t))}function ON(t,e){for(;t>0;)e=e[Rs],t--;return e}function z0(t){return t[H]&9216||t[di]?.dirty}function Up(t){z0(t)?sa(t):t[H]&64&&(xN()?(t[H]|=1024,sa(t)):t[Sn].changeDetectionScheduler?.notify())}function sa(t){t[Sn].changeDetectionScheduler?.notify();let e=oa(t);for(;e!==null&&!(e[H]&8192||(e[H]|=8192,!Pg(e)));)e=oa(e)}function G0(t,e){if((t[H]&256)===256)throw new O(911,!1);t[Sr]===null&&(t[Sr]=[]),t[Sr].push(e)}function FN(t,e){if(t[Sr]===null)return;let n=t[Sr].indexOf(e);n!==-1&&t[Sr].splice(n,1)}function oa(t){let e=t[Je];return xn(e)?e[Je]:e}var Y={lFrame:Z0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function LN(){return Y.lFrame.elementDepthCount}function VN(){Y.lFrame.elementDepthCount++}function UN(){Y.lFrame.elementDepthCount--}function W0(){return Y.bindingsEnabled}function pa(){return Y.skipHydrationRootTNode!==null}function jN(t){return Y.skipHydrationRootTNode===t}function BN(t){Y.skipHydrationRootTNode=t}function $N(){Y.skipHydrationRootTNode=null}function Ie(){return Y.lFrame.lView}function wt(){return Y.lFrame.tView}function De(t){return Y.lFrame.contextLView=t,t[cn]}function Ae(t){return Y.lFrame.contextLView=null,t}function Mt(){let t=K0();for(;t!==null&&t.type===64;)t=t.parent;return t}function K0(){return Y.lFrame.currentTNode}function HN(){let t=Y.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ga(t,e){let n=Y.lFrame;n.currentTNode=t,n.isParent=e}function Q0(){return Y.lFrame.isParent}function qN(){Y.lFrame.isParent=!1}function zN(){return Y.lFrame.contextLView}function GN(t){return Y.lFrame.bindingIndex=t}function Ng(){return Y.lFrame.bindingIndex++}function WN(t){let e=Y.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function KN(){return Y.lFrame.inI18n}function QN(t,e){let n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=t,jp(e)}function YN(){return Y.lFrame.currentDirectiveIndex}function jp(t){Y.lFrame.currentDirectiveIndex=t}function JN(t){let e=Y.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Y0(){return Y.lFrame.currentQueryIndex}function kg(t){Y.lFrame.currentQueryIndex=t}function XN(t){let e=t[Q];return e.type===2?e.declTNode:e.type===1?t[ln]:null}function J0(t,e,n){if(n&Z.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&Z.Host);)if(i=XN(s),i===null||(s=s[Rs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Y.lFrame=X0();return r.currentTNode=e,r.lView=t,!0}function Og(t){let e=X0(),n=t[Q];Y.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function X0(){let t=Y.lFrame,e=t===null?null:t.child;return e===null?Z0(t):e}function Z0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function eC(){let t=Y.lFrame;return Y.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tC=eC;function Fg(){let t=eC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ZN(t){return(Y.lFrame.contextLView=ON(t,Y.lFrame.contextLView))[cn]}function xs(){return Y.lFrame.selectedIndex}function hi(t){Y.lFrame.selectedIndex=t}function Lg(){let t=Y.lFrame;return H0(t.tView,t.selectedIndex)}function nC(){return Y.lFrame.currentNamespace}var rC=!0;function Vg(){return rC}function Nr(t){rC=t}function ek(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=U0(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Ug(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Ju(t,e,n){iC(t,e,3,n)}function Xu(t,e,n,r){(t[H]&3)===n&&iC(t,e,n,r)}function _p(t,e){let n=t[H];(n&3)===e&&(n&=16383,n+=1,t[H]=n)}function iC(t,e,n,r){let i=r!==void 0?t[ms]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ms]+=65536),(a<s||s==-1)&&(tk(t,n,e,c),t[ms]=(t[ms]&4294901760)+c+2),c++}function BE(t,e){bn(4,t,e);let n=Ft(null);try{e.call(t)}finally{Ft(n),bn(5,t,e)}}function tk(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[H]>>14<t[ms]>>16&&(t[H]&3)===e&&(t[H]+=16384,BE(a,s)):BE(a,s)}var Is=-1,fi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function nk(t){return t instanceof fi}function rk(t){return(t.flags&8)!==0}function ik(t){return(t.flags&16)!==0}function sC(t){return t!==Is}function al(t){return t&32767}function sk(t){return t>>16}function cl(t,e){let n=sk(t),r=e;for(;n>0;)r=r[Rs],n--;return r}var Bp=!0;function $E(t){let e=Bp;return Bp=t,e}var ok=256,oC=ok-1,aC=5,ak=0,Tn={};function ck(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xo)&&(r=n[Xo]),r==null&&(r=n[Xo]=ak++);let i=r&oC,s=1<<i;e.data[t+(i>>aC)]|=s}function ul(t,e){let n=cC(t,e);if(n!==-1)return n;let r=e[Q];r.firstCreatePass&&(t.injectorIndex=e.length,wp(r.data,t),wp(e,null),wp(r.blueprint,null));let i=jg(t,e),s=t.injectorIndex;if(sC(i)){let o=al(i),a=cl(i,e),c=a[Q].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function wp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function jg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=fC(i),r===null)return Is;if(n++,i=i[Rs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Is}function $p(t,e,n){ck(t,e,n)}function uk(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(D0(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function uC(t,e,n){if(n&Z.Optional||t!==void 0)return t;Rg(e,"NodeInjector")}function lC(t,e,n,r){if(n&Z.Optional&&r===void 0&&(r=null),!(n&(Z.Self|Z.Host))){let i=t[Cs],s=Qt(void 0);try{return i?i.get(e,r,n&Z.Optional):E0(e,r,n&Z.Optional)}finally{Qt(s)}}return uC(r,e,n)}function dC(t,e,n,r=Z.Default,i){if(t!==null){if(e[H]&2048&&!(r&Z.Self)){let o=fk(t,e,n,r,Tn);if(o!==Tn)return o}let s=hC(t,e,n,r,Tn);if(s!==Tn)return s}return lC(e,n,r,i)}function hC(t,e,n,r,i){let s=dk(n);if(typeof s=="function"){if(!J0(e,t,r))return r&Z.Host?uC(i,n,r):lC(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&Z.Optional))Rg(n);else return o}finally{tC()}}else if(typeof s=="number"){let o=null,a=cC(t,e),c=Is,u=r&Z.Host?e[Yt][ln]:null;for((a===-1||r&Z.SkipSelf)&&(c=a===-1?jg(t,e):e[a+8],c===Is||!qE(r,!1)?a=-1:(o=e[Q],a=al(c),e=cl(c,e)));a!==-1;){let l=e[Q];if(HE(s,a,l.data)){let d=lk(a,e,n,o,r,u);if(d!==Tn)return d}c=e[a+8],c!==Is&&qE(r,e[Q].data[a+8]===u)&&HE(s,a,e)?(o=l,a=al(c),e=cl(c,e)):a=-1}}return i}function lk(t,e,n,r,i,s){let o=e[Q],a=o.data[t+8],c=r==null?fa(a)&&Bp:r!=o&&(a.type&3)!==0,u=i&Z.Host&&s===a,l=Zu(a,o,n,c,u);return l!==null?pi(e,o,l,a):Tn}function Zu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=o[c];if(f&&xr(f)&&f.type===n)return c}return null}function pi(t,e,n,r){let i=t[n],s=e.data;if(nk(i)){let o=i;o.resolving&&YP(QP(s[n]));let a=$E(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Qt(o.injectImpl):null,l=J0(t,r,Z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&ek(n,s[n],e)}finally{u!==null&&Qt(u),$E(a),o.resolving=!1,tC()}}return i}function dk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xo)?t[Xo]:void 0;return typeof e=="number"?e>=0?e&oC:hk:e}function HE(t,e,n){let r=1<<t;return!!(n[e+(t>>aC)]&r)}function qE(t,e){return!(t&Z.Self)&&!(t&Z.Host&&e)}var li=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return dC(this._tNode,this._lView,e,xl(r),n)}};function hk(){return new li(Mt(),Ie())}function kr(t){return da(()=>{let e=t.prototype.constructor,n=e[rl]||Hp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[rl]||Hp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Hp(t){return g0(t)?()=>{let e=Hp(mt(t));return e&&e()}:Ts(t)}function fk(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[H]&2048&&!(o[H]&512);){let a=hC(s,o,n,r|Z.Self,Tn);if(a!==Tn)return a;let c=s.parent;if(!c){let u=o[O0];if(u){let l=u.get(n,Tn,r);if(l!==Tn)return l}c=fC(o),o=o[Rs]}s=c}return i}function fC(t){let e=t[Q],n=e.type;return n===2?e.declTNode:n===1?t[ln]:null}function Bg(t){return uk(Mt(),t)}var qu="__parameters__";function pk(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function pC(t,e,n){return da(()=>{let r=pk(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(qu)?c[qu]:Object.defineProperty(c,qu,{value:[]})[qu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function gk(t){let e=vt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function mk(t){return typeof t=="function"}function yk(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function vk(t){return t.flat(Number.POSITIVE_INFINITY)}function $g(t,e){t.forEach(n=>Array.isArray(n)?$g(n,e):e(n))}function gC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ll(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function _k(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function wk(t,e,n){let r=ma(t,e);return r>=0?t[r|1]=n:(r=~r,_k(t,r,e,n)),r}function Ip(t,e){let n=ma(t,e);if(n>=0)return t[n|1]}function ma(t,e){return Ik(t,e,1)}function Ik(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Pt=C0(pC("Optional"),8);var Hg=C0(pC("SkipSelf"),4);function Ek(t){let e=[],n=new Map;function r(i){let s=n.get(i);if(!s){let o=t(i);n.set(i,s=o.then(Dk))}return s}return dl.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(r(i.templateUrl).then(u=>{i.template=u}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let u=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),o.push(r(d).then(f=>{a[u+h]=f,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(r(i.styleUrl).then(u=>{a.push(u),i.styleUrl=void 0}));let c=Promise.all(o).then(()=>Ak(s));e.push(c)}),bk(),Promise.all(e).then(()=>{})}var dl=new Map,Ck=new Set;function bk(){let t=dl;return dl=new Map,t}function Tk(){return dl.size===0}function Dk(t){return typeof t=="string"?t:t.text()}function Ak(t){Ck.delete(t)}var gi=new x("ENVIRONMENT_INITIALIZER"),mC=new x("INJECTOR",-1),yC=new x("INJECTOR_DEF_TYPES"),hl=class{get(e,n=ea){if(n===ea){let r=new Error(`NullInjectorError: No provider for ${yt(e)}!`);throw r.name="NullInjectorError",r}return n}};function Ms(t){return{\u0275providers:t}}function Sk(...t){return{\u0275providers:vC(!0,t),\u0275fromNgModule:!0}}function vC(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return $g(e,o=>{let a=o;qp(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&_C(i,s),n}function _C(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];qg(i,s=>{e(s,r)})}}function qp(t,e,n,r){if(t=mt(t),!t)return!1;let i=null,s=PE(t),o=!s&&Rr(t);if(!s&&!o){let c=t.ngModule;if(s=PE(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)qp(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{$g(s.imports,l=>{qp(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&_C(u,e)}if(!a){let u=Ts(i)||(()=>new i);e({provide:i,useFactory:u,deps:Vt},i),e({provide:yC,useValue:i,multi:!0},i),e({provide:gi,useValue:()=>b(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;qg(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function qg(t,e){for(let n of t)m0(n)&&(n=n.\u0275providers),Array.isArray(n)?qg(n,e):e(n)}var Rk=be({provide:String,useValue:be});function wC(t){return t!==null&&typeof t=="object"&&Rk in t}function xk(t){return!!(t&&t.useExisting)}function Mk(t){return!!(t&&t.useFactory)}function Ds(t){return typeof t=="function"}function Pk(t){return!!t.useClass}var Pl=new x("Set Injector scope."),el={},Nk={},Ep;function zg(){return Ep===void 0&&(Ep=new hl),Ep}var _t=class{},aa=class extends _t{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gp(e,o=>this.processProvider(o)),this.records.set(mC,ys(void 0,this)),i.has("environment")&&this.records.set(_t,ys(void 0,this));let s=this.records.get(Pl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yC,Vt,Z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ar(this),r=Qt(void 0),i;try{return e()}finally{Ar(n),Qt(r)}}get(e,n=ea,r=Z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(xE))return e[xE](this);r=xl(r);let i,s=Ar(this),o=Qt(void 0);try{if(!(r&Z.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=Vk(e)&&Rl(e);u&&this.injectableDefInScope(u)?c=ys(zp(e),el):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Z.Self?zg():this.parent;return n=r&Z.Optional&&n===ea?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[il]=a[il]||[]).unshift(yt(e)),s)throw a;return cN(a,e,"R3InjectorError",this.source)}else throw a}finally{Qt(o),Ar(s)}}resolveInjectorInitializers(){let e=Ar(this),n=Qt(void 0),r;try{let i=this.get(gi,Vt,Z.Self);for(let s of i)s()}finally{Ar(e),Qt(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(yt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){e=mt(e);let n=Ds(e)?e:mt(e&&e.provide),r=Ok(e);if(!Ds(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ys(void 0,el,!0),i.factory=()=>Fp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===el&&(n.value=Nk,n.value=n.factory()),typeof n.value=="object"&&n.value&&Lk(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=mt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function zp(t){let e=Rl(t),n=e!==null?e.factory:Ts(t);if(n!==null)return n;if(t instanceof x)throw new O(204,!1);if(t instanceof Function)return kk(t);throw new O(204,!1)}function kk(t){if(t.length>0)throw new O(204,!1);let n=ZP(t);return n!==null?()=>n.factory(t):()=>new t}function Ok(t){if(wC(t))return ys(void 0,t.useValue);{let e=IC(t);return ys(e,el)}}function IC(t,e,n){let r;if(Ds(t)){let i=mt(t);return Ts(i)||zp(i)}else if(wC(t))r=()=>mt(t.useValue);else if(Mk(t))r=()=>t.useFactory(...Fp(t.deps||[]));else if(xk(t))r=()=>b(mt(t.useExisting));else{let i=mt(t&&(t.useClass||t.provide));if(Fk(t))r=()=>new i(...Fp(t.deps));else return Ts(i)||zp(i)}return r}function ys(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Fk(t){return!!t.deps}function Lk(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Vk(t){return typeof t=="function"||typeof t=="object"&&t instanceof x}function Gp(t,e){for(let n of t)Array.isArray(n)?Gp(n,e):n&&m0(n)?Gp(n.\u0275providers,e):e(n)}function Mn(t,e){t instanceof aa&&t.assertNotDestroyed();let n,r=Ar(t),i=Qt(void 0);try{return e()}finally{Ar(r),Qt(i)}}function Uk(t){if(!I0()&&!sN())throw new O(-203,!1)}function zE(t,e=null,n=null,r){let i=EC(t,e,n,r);return i.resolveInjectorInitializers(),i}function EC(t,e=null,n=null,r,i=new Set){let s=[n||Vt,Sk(t)];return r=r||(typeof t=="object"?void 0:yt(t)),new aa(s,e||zg(),r||null,i)}var nt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return zE({name:""},i,r,"");{let s=r.name??"";return zE({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=ea,e.NULL=new hl,e.\u0275prov=A({token:e,providedIn:"any",factory:()=>b(mC)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Wp;function CC(t){Wp=t}function Nl(){if(Wp!==void 0)return Wp;if(typeof document<"u")return document;throw new O(210,!1)}var ya=new x("AppId",{providedIn:"root",factory:()=>jk}),jk="ng",Gg=new x("Platform Initializer"),rt=new x("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Wg=new x("CSP nonce",{providedIn:"root",factory:()=>Nl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Bk(t){return t.ownerDocument.body}function bC(t){return t instanceof Function?t():t}function Jo(t){return(t??C(nt)).get(rt)==="browser"}var $k="ngSkipHydration",Hk="ngskiphydration";function TC(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===Hk)return!0}return!1}function DC(t){return t.hasAttribute($k)}function fl(t){return(t.flags&128)===128}function qk(t){if(fl(t))return!0;let e=t.parent;for(;e;){if(fl(t)||TC(e))return!0;e=e.parent}return!1}var sr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(sr||{}),zk=/^>|^->|<!--|-->|--!>|<!-$/g,Gk=/(<|>)/g,Wk="\u200B$1\u200B";function Kk(t){return t.replace(zk,e=>e.replace(Gk,Wk))}var AC=new Map,Qk=0;function Yk(){return Qk++}function Jk(t){AC.set(t[Ml],t)}function Xk(t){AC.delete(t[Ml])}var GE="__ngContext__";function mi(t,e){nr(e)?(t[GE]=e[Ml],Jk(e)):t[GE]=e}var Zk;function Kg(t,e){return Zk(t,e)}function vs(t,e,n,r,i){if(r!=null){let s,o=!1;xn(r)?s=r:nr(r)&&(o=!0,r=r[Ut]);let a=un(r);t===0&&n!==null?i==null?NC(e,n,a):pl(e,n,a,i||null,!0):t===1&&n!==null?pl(e,n,a,i||null,!0):t===2?OC(e,a,o):t===3&&e.destroyNode(a),s!=null&&mO(e,t,s,n,i)}}function SC(t,e){return t.createText(e)}function eO(t,e,n){t.setValue(e,n)}function RC(t,e){return t.createComment(Kk(e))}function Qg(t,e,n){return t.createElement(e,n)}function tO(t,e){xC(t,e),e[Ut]=null,e[ln]=null}function nO(t,e,n,r,i,s){r[Ut]=i,r[ln]=e,kl(t,r,n,1,i,s)}function xC(t,e){e[Sn].changeDetectionScheduler?.notify(),kl(t,e,e[Le],2,null,null)}function rO(t){let e=t[ra];if(!e)return Cp(t[Q],t);for(;e;){let n=null;if(nr(e))n=e[ra];else{let r=e[Rt];r&&(n=r)}if(!n){for(;e&&!e[an]&&e!==t;)nr(e)&&Cp(e[Q],e),e=e[Je];e===null&&(e=t),nr(e)&&Cp(e[Q],e),n=e&&e[an]}e=n}}function iO(t,e,n,r){let i=Rt+r,s=n.length;r>0&&(n[i-1][an]=e),r<s-Rt?(e[an]=n[i],gC(n,Rt+r,e)):(n.push(e),e[an]=null),e[Je]=n;let o=e[ha];o!==null&&n!==o&&sO(o,e);let a=e[Dn];a!==null&&a.insertView(t),Up(e),e[H]|=128}function sO(t,e){let n=t[bs],i=e[Je][Je][Yt];e[Yt]!==i&&(t[H]|=xg.HasTransplantedViews),n===null?t[bs]=[e]:n.push(e)}function MC(t,e){let n=t[bs],r=n.indexOf(e);n.splice(r,1)}function Kp(t,e){if(t.length<=Rt)return;let n=Rt+e,r=t[n];if(r){let i=r[ha];i!==null&&i!==t&&MC(i,r),e>0&&(t[n-1][an]=r[an]);let s=ll(t,Rt+e);tO(r[Q],r);let o=s[Dn];o!==null&&o.detachView(s[Q]),r[Je]=null,r[an]=null,r[H]&=-129}return r}function PC(t,e){if(!(e[H]&256)){let n=e[Le];n.destroyNode&&kl(t,e,n,3,null,null),rO(e)}}function Cp(t,e){if(!(e[H]&256)){e[H]&=-129,e[H]|=256,e[di]&&rE(e[di]),aO(t,e),oO(t,e),e[Q].type===1&&e[Le].destroy();let n=e[ha];if(n!==null&&xn(e[Je])){n!==e[Je]&&MC(n,e);let r=e[Dn];r!==null&&r.detachView(t)}Xk(e)}}function oO(t,e){let n=t.cleanup,r=e[na];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[na]=null);let i=e[Sr];if(i!==null){e[Sr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function aO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof fi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];bn(4,a,c);try{c.call(a)}finally{bn(5,a,c)}}else{bn(4,i,s);try{s.call(i)}finally{bn(5,i,s)}}}}}function cO(t,e,n){return uO(t,e.parent,n)}function uO(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Ut];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===An.None||s===An.Emulated)return null}return jt(r,n)}}function pl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function NC(t,e,n){t.appendChild(e,n)}function WE(t,e,n,r,i){r!==null?pl(t,e,n,r,i):NC(t,e,n)}function lO(t,e,n,r){t.removeChild(e,n,r)}function Yg(t,e){return t.parentNode(e)}function dO(t,e){return t.nextSibling(e)}function hO(t,e,n){return pO(t,e,n)}function fO(t,e,n){return t.type&40?jt(t,n):null}var pO=fO,KE;function Jg(t,e,n,r){let i=cO(t,r,e),s=e[Le],o=r.parent||e[ln],a=hO(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)WE(s,i,n[c],a,!1);else WE(s,i,n,a,!1);KE!==void 0&&KE(s,r,e,n,i)}function tl(t,e){if(e!==null){let n=e.type;if(n&3)return jt(e,t);if(n&4)return Qp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return tl(t,r);{let i=t[e.index];return xn(i)?Qp(-1,i):un(i)}}else{if(n&32)return Kg(e,t)()||un(t[e.index]);{let r=kC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=oa(t[Yt]);return tl(i,r)}else return tl(t,e.next)}}}return null}function kC(t,e){if(e!==null){let r=t[Yt][ln],i=e.projection;return r.projection[i]}return null}function Qp(t,e){let n=Rt+t+1;if(n<e.length){let r=e[n],i=r[Q].firstChild;if(i!==null)return tl(r,i)}return e[ir]}function OC(t,e,n){let r=Yg(t,e);r&&lO(t,r,e,n)}function FC(t){t.textContent=""}function Xg(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&mi(un(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Xg(t,e,n.child,r,i,s,!1),vs(e,t,i,a,s);else if(c&32){let u=Kg(n,r),l;for(;l=u();)vs(e,t,i,l,s);vs(e,t,i,a,s)}else c&16?gO(t,e,r,n,i,s):vs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function kl(t,e,n,r,i,s){Xg(n,r,t.firstChild,e,i,s,!1)}function gO(t,e,n,r,i,s){let o=n[Yt],c=o[ln].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];vs(e,t,i,l,s)}else{let u=c,l=o[Je];fl(r)&&(u.flags|=128),Xg(t,e,u,l,i,s,!0)}}function mO(t,e,n,r,i){let s=n[ir],o=un(n);s!==o&&vs(e,t,r,s,i);for(let a=Rt;a<n.length;a++){let c=n[a];kl(c[Q],c,t,e,r,s)}}function yO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:sr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=sr.Important),t.setStyle(n,r,i,s))}}function vO(t,e,n){t.setAttribute(e,"style",n)}function LC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function VC(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Lp(t,e,r),i!==null&&LC(t,e,i),s!==null&&vO(t,e,s)}var zu;function _O(){if(zu===void 0&&(zu=null,vt.trustedTypes))try{zu=vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zu}function QE(t){return _O()?.createScriptURL(t)||t}var gl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${y0})`}};function va(t){return t instanceof gl?t.changingThisBreaksApplicationSecurity:t}function Zg(t,e){let n=wO(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${y0})`)}return n===e}function wO(t){return t instanceof gl&&t.getTypeName()||null}var IO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function UC(t){return t=String(t),t.match(IO)?t:"unsafe:"+t}var Ol=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ol||{});function Pn(t){let e=BC();return e?e.sanitize(Ol.URL,t)||"":Zg(t,"URL")?va(t):UC(Sl(t))}function EO(t){let e=BC();if(e)return QE(e.sanitize(Ol.RESOURCE_URL,t)||"");if(Zg(t,"ResourceURL"))return QE(va(t));throw new O(904,!1)}function CO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?EO:Pn}function jC(t,e,n){return CO(e,n)(t)}function BC(){let t=Ie();return t&&t[Sn].sanitizer}var Yp=class{};function bO(){let t=new wi;return C(rt)==="browser"&&(t.store=TO(Nl(),C(ya))),t}var wi=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=A({token:e,providedIn:"root",factory:bO});let t=e;return t})();function TO(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var $C="h",HC="b",Jp=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Jp||{}),DO="e",AO="t",em="c",qC="x",ml="r",SO="i",RO="n",xO="d",MO="__nghData__",zC=MO,bp="ngh",PO="nghm",GC=()=>null;function NO(t,e,n=!1){let r=t.getAttribute(bp);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=n?i:s?`|${s}`:"",a={};if(r!==""){let u=e.get(wi,null,{optional:!0});u!==null&&(a=u.get(zC,[])[Number(r)])}let c={data:a,firstChild:t.firstChild??null};return n&&(c.firstChild=t,Fl(c,0,t.nextSibling)),o?t.setAttribute(bp,o):t.removeAttribute(bp),c}function kO(){GC=NO}function tm(t,e,n=!1){return GC(t,e,n)}function OO(t){let e=t._lView;return e[Q].type===2?null:(V0(e)&&(e=e[xt]),e)}function FO(t){return t.textContent?.replace(/\s/gm,"")}function LO(t){let e=Nl(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=FO(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function Fl(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Xp(t,e){return t.segmentHeads?.[e]??null}function VO(t,e){let n=t.data,r=n[DO]?.[e]??null;return r===null&&n[em]?.[e]&&(r=nm(t,e)),r}function WC(t,e){return t.data[em]?.[e]??null}function nm(t,e){let n=WC(t,e)??[],r=0;for(let i of n)r+=i[ml]*(i[qC]??1);return r}function Ll(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[xO];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var Zp=class{},yl=class{};function UO(t){let e=Error(`No component factory found for ${yt(t)}.`);return e[jO]=t,e}var jO="ngComponent";var eg=class{resolveComponentFactory(e){throw UO(e)}},Vl=(()=>{let e=class e{};e.NULL=new eg;let t=e;return t})();function BO(){return Ps(Mt(),Ie())}function Ps(t,e){return new Jt(jt(t,e))}var Jt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=BO;let t=e;return t})();function $O(t){return t instanceof Jt?t.nativeElement:t}var ca=class{},Or=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>HO();let t=e;return t})();function HO(){let t=Ie(),e=Mt(),n=Pr(e.index,t);return(nr(n)?n:t)[Le]}var qO=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Tp={};function KC(t){return GO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function zO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function GO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var tg=class{constructor(){}supports(e){return KC(e)}create(e){return new ng(e)}},WO=(t,e)=>e,ng=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||WO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<YE(r,i,s)?n:r,a=YE(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<s.length?s[h]:s[h]=0,g=f+h;l<=g&&g<u&&(s[h]=f+1)}let d=o.previousIndex;s[d]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!KC(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,zO(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new rg(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new vl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new vl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},rg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ig=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},vl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new ig,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function YE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function JE(){return new rm([new tg])}var rm=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||JE()),deps:[[e,new Hg,new Pt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new O(901,!1)}};e.\u0275prov=A({token:e,providedIn:"root",factory:JE});let t=e;return t})();function _l(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(un(s)),xn(s)&&KO(s,r);let o=n.type;if(o&8)_l(t,e,n.child,r);else if(o&32){let a=Kg(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=kC(e,n);if(Array.isArray(a))r.push(...a);else{let c=oa(e[Yt]);_l(c[Q],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function KO(t,e){for(let n=Rt;n<t.length;n++){let r=t[n],i=r[Q].firstChild;i!==null&&_l(r[Q],r,i,e)}t[ir]!==t[Ut]&&e.push(t[ir])}var QC=[];function QO(t){return t[di]??YO(t)}function YO(t){let e=QC.pop()??Object.create(XO);return e.lView=t,e}function JO(t){t.lView[di]!==t&&(t.lView=null,QC.push(t))}var XO=we(P({},eE),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{sa(t.lView)},consumerOnSignalRead(){this.lView[di]=this}});function YC(t){return XC(t[ra])}function JC(t){return XC(t[an])}function XC(t){for(;t!==null&&!xn(t);)t=t[an];return t}var ZO="ngOriginalError";function Dp(t){return t[ZO]}var Rn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Dp(e);for(;n&&Dp(n);)n=Dp(n);return n||null}},ZC=new x("",{providedIn:"root",factory:()=>C(Rn).handleError.bind(void 0)}),Gu=new x(""),eb=!1,tb=new x("",{providedIn:"root",factory:()=>eb});var Ii={};function D(t=1){nb(wt(),Ie(),xs()+t,!1)}function nb(t,e,n,r){if(!r)if((e[H]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ju(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Xu(e,s,0,n)}hi(n)}function T(t,e=Z.Default){let n=Ie();if(n===null)return b(t,e);let r=Mt();return dC(r,n,mt(t),e)}function rb(){let t="invalid";throw new Error(t)}function e1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)hi(~i);else{let s=i,o=n[++r],a=n[++r];QN(o,s);let c=e[s];a(2,c)}}}finally{hi(-1)}}function Ul(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[Ut]=i,d[H]=r|4|128|8|64,(u!==null||t&&t[H]&2048)&&(d[H]|=2048),q0(d),d[Je]=d[Rs]=t,d[cn]=n,d[Sn]=o||t&&t[Sn],d[Le]=a||t&&t[Le],d[Cs]=c||t&&t[Cs]||null,d[ln]=s,d[Ml]=Yk(),d[rr]=l,d[O0]=u,d[Yt]=e.type==2?t[Yt]:d,d}function jl(t,e,n,r,i){let s=t.data[e];if(s===null)s=t1(t,e,n,r,i),KN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=HN();s.injectorIndex=o===null?-1:o.injectorIndex}return ga(s,!0),s}function t1(t,e,n,r,i){let s=K0(),o=Q0(),a=o?s:s&&s.parent,c=t.data[e]=c1(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function ib(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function sb(t,e,n,r,i){let s=xs(),o=r&2;try{hi(-1),o&&e.length>xt&&nb(t,e,xt,!1),bn(o?2:0,i),n(r,i)}finally{hi(s),bn(o?3:1,i)}}function ob(t,e,n){if(L0(e)){let r=Ft(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Ft(r)}}}function ab(t,e,n){W0()&&(p1(t,e,n,jt(n,e)),(n.flags&64)===64&&pb(t,e,n))}function cb(t,e,n=jt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function ub(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=im(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function im(t,e,n,r,i,s,o,a,c,u,l){let d=xt+r,h=d+i,f=n1(d,h),g=typeof u=="function"?u():u;return f[Q]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function n1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ii);return n}function r1(t,e,n,r){let s=r.get(tb,eb)||n===An.ShadowDom,o=t.selectRootElement(e,s);return i1(o),o}function i1(t){lb(t)}var lb=()=>null;function s1(t){DC(t)?FC(t):LO(t)}function o1(){lb=s1}function a1(t,e,n,r){let i=vb(e);i.push(n),t.firstCreatePass&&_b(t).push(r,i.length-1)}function c1(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return pa()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function XE(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let s=t[i];r===null?ZE(n,e,i,s):r.hasOwnProperty(i)&&ZE(n,e,r[i],s)}return n}function ZE(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function u1(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=XE(d.inputs,l,c,f),u=XE(d.outputs,l,u,g);let w=c!==null&&o!==null&&!S0(e)?T1(c,l,o):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function l1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function db(t,e,n,r,i,s,o,a){let c=jt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(sm(t,n,l,r,i),fa(e)&&d1(n,e.index)):e.type&3?(r=l1(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function d1(t,e){let n=Pr(e,t);n[H]&16||(n[H]|=64)}function hb(t,e,n,r){if(W0()){let i=r===null?null:{"":-1},s=m1(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&fb(t,e,n,o,i,a),i&&y1(n,r,i)}n.mergedAttrs=ta(n.mergedAttrs,n.attrs)}function fb(t,e,n,r,i,s){for(let u=0;u<r.length;u++)$p(ul(n,e),t,r[u].type);_1(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=ib(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=ta(n.mergedAttrs,l.hostAttrs),w1(t,n,e,c,l),v1(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}u1(t,n,s)}function h1(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;f1(o)!=a&&o.push(a),o.push(n,r,s)}}function f1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function p1(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;fa(n)&&I1(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ul(n,e),mi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=pi(e,t,a,n);if(mi(u,e),o!==null&&b1(e,a-i,u,c,n,o),xr(c)){let l=Pr(n.index,e);l[cn]=pi(e,t,a,n)}}}function pb(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=YN();try{hi(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];jp(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&g1(c,u)}}finally{hi(-1),jp(o)}}function g1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function m1(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(gN(e,o.selectors,!1))if(r||(r=[]),xr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;sg(t,e,c)}else r.unshift(o),sg(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function sg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function y1(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new O(-301,!1);r.push(e[i],s)}}}function v1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;xr(e)&&(n[""]=t)}}function _1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function w1(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Ts(i.type,!0)),o=new fi(s,xr(i),T);t.blueprint[r]=o,n[r]=o,h1(t,e,r,ib(t,n,i.hostVars,Ii),i)}function I1(t,e,n){let r=jt(e,t),i=ub(n),s=t[Sn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Bl(t,Ul(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function E1(t,e,n,r,i,s){let o=jt(t,e);C1(e[Le],o,s,t.value,n,r,i)}function C1(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Sl(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function b1(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++];gb(r,n,c,u,l)}}function gb(t,e,n,r,i){let s=Ft(null);try{let o=t.inputTransforms;o!==null&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{Ft(s)}}function T1(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}return r}function mb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function yb(t,e){let n=t.contentQueries;if(n!==null){let r=Ft(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];kg(s),a.contentQueries(2,e[o],o)}}}finally{Ft(r)}}}function Bl(t,e){return t[ra]?t[UE][an]=e:t[ra]=e,t[UE]=e,e}function og(t,e,n){kg(0);let r=Ft(null);try{e(t,n)}finally{Ft(r)}}function vb(t){return t[na]||(t[na]=[])}function _b(t){return t.cleanup||(t.cleanup=[])}function wb(t,e){let n=t[Cs],r=n?n.get(Rn,null):null;r&&r.handleError(e)}function sm(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=e[o],u=t.data[o];gb(u,c,r,a,i)}}function D1(t,e,n){let r=$0(e,t);eO(t[Le],r,n)}var A1=100;function S1(t,e=!0){let n=t[Sn],r=n.rendererFactory,i=!1;i||r.begin?.();try{R1(t)}catch(s){throw e&&wb(t,s),s}finally{i||(r.end?.(),n.inlineEffectRunner?.flush())}}function R1(t){ag(t,0);let e=0;for(;z0(t);){if(e===A1)throw new O(103,!1);e++,ag(t,1)}}function x1(t,e,n,r){let i=e[H];if((i&256)===256)return;let s=!1;!s&&e[Sn].inlineEffectRunner?.flush(),Og(e);let o=null,a=null;!s&&M1(t)&&(a=QO(e),o=tE(a));try{q0(e),GN(t.bindingStartIndex),n!==null&&sb(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Ju(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Xu(e,d,0,null),_p(e,0)}if(P1(e),Ib(e,0),t.contentQueries!==null&&yb(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Ju(e,d)}else{let d=t.contentHooks;d!==null&&Xu(e,d,1),_p(e,1)}e1(t,e);let u=t.components;u!==null&&Cb(e,u,0);let l=t.viewQuery;if(l!==null&&og(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Ju(e,d)}else{let d=t.viewHooks;d!==null&&Xu(e,d,2),_p(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[vp]){for(let d of e[vp])d();e[vp]=null}s||(e[H]&=-73)}catch(c){throw sa(e),c}finally{a!==null&&(nE(a,o),JO(a)),Fg()}}function M1(t){return t.type!==2}function Ib(t,e){for(let n=YC(t);n!==null;n=JC(n))for(let r=Rt;r<n.length;r++){let i=n[r];Eb(i,e)}}function P1(t){for(let e=YC(t);e!==null;e=JC(e)){if(!(e[H]&xg.HasTransplantedViews))continue;let n=e[bs];for(let r=0;r<n.length;r++){let i=n[r],s=i[Je];kN(i)}}}function N1(t,e,n){let r=Pr(e,t);Eb(r,n)}function Eb(t,e){Pg(t)&&ag(t,e)}function ag(t,e){let r=t[Q],i=t[H],s=t[di],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Qf(s)),s&&(s.dirty=!1),t[H]&=-9217,o)x1(r,t,r.template,t[cn]);else if(i&8192){Ib(t,1);let a=r.components;a!==null&&Cb(t,a,1)}}function Cb(t,e,n){for(let r=0;r<e.length;r++)N1(t,e[r],n)}function om(t){for(t[Sn].changeDetectionScheduler?.notify();t;){t[H]|=64;let e=oa(t);if(V0(t)&&!e)return t;t=e}return null}var yi=class{get rootNodes(){let e=this._lView,n=e[Q];return _l(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[cn]}set context(e){this._lView[cn]=e}get destroyed(){return(this._lView[H]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Je];if(xn(e)){let n=e[sl],r=n?n.indexOf(this):-1;r>-1&&(Kp(e,r),ll(n,r))}this._attachedToViewContainer=!1}PC(this._lView[Q],this._lView)}onDestroy(e){G0(this._lView,e)}markForCheck(){om(this._cdRefInjectingView||this._lView)}detach(){this._lView[H]&=-129}reattach(){Up(this._lView),this._lView[H]|=128}detectChanges(){this._lView[H]|=1024,S1(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,xC(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e,Up(this._lView)}},Fr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=k1;let t=e;return t})();function k1(t){return O1(Mt(),Ie(),(t&16)===16)}function O1(t,e,n){if(fa(t)&&!n){let r=Pr(t.index,e);return new yi(r,r)}else if(t.type&47){let r=e[Yt];return new yi(r,e)}return null}var bb=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=F1,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),cg=class extends bb{constructor(e){super(),this._lView=e}onDestroy(e){return G0(this._lView,e),()=>FN(this._lView,e)}};function F1(){return new cg(Ie())}var e0=new Set;function Ns(t){e0.has(t)||(e0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var ug=class extends Dt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Ap(s),i&&(i=Ap(i)),o&&(o=Ap(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Be&&e.add(a),a}};function Ap(t){return e=>{setTimeout(t,void 0,e)}}var Fe=ug;function t0(...t){}function L1(){let t=typeof vt.requestAnimationFrame=="function",e=vt[t?"requestAnimationFrame":"setTimeout"],n=vt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ee=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=L1().nativeRequestAnimationFrame,j1(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new O(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,V1,t0,t0);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},V1={};function am(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function U1(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(vt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,lg(t),t.isCheckStableRunning=!0,am(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),lg(t))}function j1(t){let e=()=>{U1(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(B1(a))return n.invokeTask(i,s,o,a);try{return n0(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),r0(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return n0(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),r0(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,lg(t),am(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function lg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function n0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function r0(t){t._nesting--,am(t)}var dg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function B1(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function $1(t="zone.js",e){return t==="noop"?new dg:t==="zone.js"?new ee(e):t}var _s=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(_s||{}),H1={destroy(){}};function cm(t,e){!e&&Uk(cm);let n=e?.injector??C(nt);if(!Jo(n))return H1;Ns("NgAfterNextRender");let r=n.get(um),i=r.handler??=new fg,s=e?.phase??_s.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(bb).onDestroy(o),c=new hg(n,s,()=>{o(),t()});return i.register(c),{destroy:o}}var hg=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(ee),this.errorHandler=e.get(Rn,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},fg=class{constructor(){this.executingCallbacks=!1,this.buckets={[_s.EarlyRead]:new Set,[_s.Write]:new Set,[_s.MixedReadWrite]:new Set,[_s.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let r of n)e=!0,r.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},um=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let s of r)s();return!!this.handler?.execute()||r.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function q1(t,e){let n=Pr(e,t),r=n[Q];z1(r,n);let i=n[Ut];i!==null&&n[rr]===null&&(n[rr]=tm(i,n[Cs])),lm(r,n,n[cn])}function z1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function lm(t,e,n){Og(e);try{let r=t.viewQuery;r!==null&&og(1,r,n);let i=t.template;i!==null&&sb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yb(t,e),t.staticViewQueries&&og(2,t.viewQuery,n);let s=t.components;s!==null&&G1(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[H]&=-5,Fg()}}function G1(t,e){for(let n=0;n<e.length;n++)q1(t,e[n])}function pg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=RE(i,a);else if(s==2){let c=a,u=e[++o];r=RE(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var wl=class extends Vl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Rr(e);return new As(n,this.ngModule)}};function i0(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function W1(t){let e=t.toLowerCase();return e==="svg"?AN:e==="math"?SN:null}var gg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=xl(r);let i=this.injector.get(e,Tp,r);return i!==Tp||n===Tp?i:this.parentInjector.get(e,n,r)}},As=class extends yl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=i0(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return i0(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=_N(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof _t?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new gg(e,s):e,a=o.get(ca,null);if(a===null)throw new O(407,!1);let c=o.get(qO,null),u=o.get(um,null),l=o.get(Yp,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?r1(h,r,this.componentDef.encapsulation,o):Qg(h,f,W1(f)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let m=null;g!==null&&(m=tm(g,o,!0));let I=im(0,null,null,1,0,null,null,null,null,null,null),F=Ul(null,I,null,w,null,null,d,h,o,null,m);Og(F);let j,k;try{let de=this.componentDef,ne,Ye=null;de.findHostDirectiveDefs?(ne=[],Ye=new Map,de.findHostDirectiveDefs(de,ne,Ye),ne.push(de)):ne=[de];let Tt=K1(F,g),nn=Q1(Tt,g,de,ne,F,d,h);k=H0(I,xt),g&&X1(h,de,g,r),n!==void 0&&Z1(k,this.ngContentSelectors,n),j=J1(nn,de,ne,Ye,F,[eF]),lm(I,F,null)}finally{Fg()}return new mg(this.componentType,j,Ps(k,F),F,k)}},mg=class extends Zp{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new yi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;sm(s[Q],s,i,e,n),this.previousInputValues.set(e,n);let o=Pr(this._tNode.index,s);om(o)}}get injector(){return new li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function K1(t,e){let n=t[Q],r=xt;return t[r]=e,jl(n,r,2,"#host",null)}function Q1(t,e,n,r,i,s,o){let a=i[Q];Y1(r,t,e,o);let c=null;e!==null&&(c=tm(e,i[Cs]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Ul(i,ub(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&sg(a,t,r.length-1),Bl(i,d),i[t.index]=d}function Y1(t,e,n,r){for(let i of t)e.mergedAttrs=ta(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(pg(e,e.mergedAttrs,!0),n!==null&&VC(r,n,e))}function J1(t,e,n,r,i,s){let o=Mt(),a=i[Q],c=jt(o,i);fb(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=pi(i,a,d,o);mi(h,i)}pb(a,i,o),c&&mi(c,i);let u=pi(i,a,o.directiveStart+o.componentOffset,o);if(t[cn]=i[cn]=u,s!==null)for(let l of s)l(u,e);return ob(a,o,t),u}function X1(t,e,n,r){if(r)Lp(t,n,["ng-version","17.0.9"]);else{let{attrs:i,classes:s}=wN(e.selectors[0]);i&&Lp(t,n,i),s&&s.length>0&&LC(t,n,s.join(" "))}}function Z1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function eF(){let t=Mt();Ug(Ie()[Q],t)}function tF(t){return Object.getPrototypeOf(t.prototype).constructor}function dn(t){let e=tF(t.type),n=!0,r=[t];for(;e;){let i;if(xr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Wu(t.inputs),o.inputTransforms=Wu(t.inputTransforms),o.declaredInputs=Wu(t.declaredInputs),o.outputs=Wu(t.outputs);let a=i.hostBindings;a&&sF(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&rF(t,c),u&&iF(t,u),Hu(t.inputs,i.inputs),Hu(t.declaredInputs,i.declaredInputs),Hu(t.outputs,i.outputs),i.inputTransforms!==null&&(o.inputTransforms===null&&(o.inputTransforms={}),Hu(o.inputTransforms,i.inputTransforms)),xr(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===dn&&(n=!1)}}e=Object.getPrototypeOf(e)}nF(r)}function nF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ta(i.hostAttrs,n=ta(n,i.hostAttrs))}}function Wu(t){return t===Es?{}:t===Vt?[]:t}function rF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function iF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function sF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function dm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function $l(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ks(t,e,n,r){let i=Ie(),s=Ng();if($l(i,s,e)){let o=wt(),a=Lg();E1(a,i,t,e,n,r)}return ks}function Tb(t,e,n,r){return $l(t,Ng(),n)?e+Sl(n)+r:Ii}function Ku(t,e){return t<<17|e<<2}function vi(t){return t>>17&32767}function oF(t){return(t&2)==2}function aF(t,e){return t&131071|e<<17}function yg(t){return t|2}function Ss(t){return(t&131068)>>2}function Sp(t,e){return t&-131069|e<<2}function cF(t){return(t&1)===1}function vg(t){return t|1}function uF(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=vi(o),c=Ss(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||ma(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=vi(t[a+1]);t[r+1]=Ku(h,a),h!==0&&(t[h+1]=Sp(t[h+1],r)),t[a+1]=aF(t[a+1],r)}else t[r+1]=Ku(a,0),a!==0&&(t[a+1]=Sp(t[a+1],r)),a=r;else t[r+1]=Ku(c,0),a===0?a=r:t[c+1]=Sp(t[c+1],r),c=r;u&&(t[r+1]=yg(t[r+1])),s0(t,l,r,!0),s0(t,l,r,!1),lF(e,l,t,r,s),o=Ku(a,c),s?e.classBindings=o:e.styleBindings=o}function lF(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ma(s,e)>=0&&(n[r+1]=vg(n[r+1]))}function s0(t,e,n,r){let i=t[n+1],s=e===null,o=r?vi(i):Ss(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];dF(c,e)&&(a=!0,t[o+1]=r?vg(u):yg(u)),o=r?vi(u):Ss(u)}a&&(t[n+1]=r?yg(i):vg(i))}function dF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ma(t,e)>=0:!1}function L(t,e,n){let r=Ie(),i=Ng();if($l(r,i,e)){let s=wt(),o=Lg();db(s,o,r,t,e,r[Le],n,!1)}return L}function o0(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";sm(t,n,s[o],o,r)}function Hl(t,e){return hF(t,e,null,!0),Hl}function hF(t,e,n,r){let i=Ie(),s=wt(),o=WN(2);if(s.firstUpdatePass&&pF(s,t,o,r),e!==Ii&&$l(i,o,e)){let a=s.data[xs()];_F(s,a,i,i[Le],t,i[o+1]=wF(e,n),r,o)}}function fF(t,e){return e>=t.expandoStartIndex}function pF(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[xs()],o=fF(t,n);IF(s,r)&&e===null&&!o&&(e=!1),e=gF(i,s,e,r),uF(i,s,e,n,o,r)}}function gF(t,e,n,r){let i=JN(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Rp(null,t,e,n,r),n=ua(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Rp(i,t,e,n,r),s===null){let c=mF(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Rp(null,t,e,c[1],r),c=ua(c,e.attrs,r),yF(t,e,r,c))}else s=vF(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function mF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ss(r)!==0)return t[vi(r)]}function yF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[vi(i)]=r}function vF(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ua(r,o,n)}return ua(r,e.attrs,n)}function Rp(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ua(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ua(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),wk(t,o,n?!0:e[++s]))}return t===void 0?null:t}function _F(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=cF(u)?a0(c,e,n,i,Ss(u),o):void 0;if(!Il(l)){Il(s)||oF(u)&&(s=a0(c,null,n,i,a,o));let d=$0(xs(),n);yO(r,o,d,i,s)}}function a0(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Ii&&(h=d?Vt:void 0);let f=d?Ip(h,r):l===r?h:void 0;if(u&&!Il(f)&&(f=Ip(c,r)),Il(f)&&(a=f,o))return a;let g=t[i+1];i=o?vi(g):Ss(g)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Ip(c,r))}return a}function Il(t){return t!==void 0}function wF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=yt(va(t)))),t}function IF(t,e){return(t.flags&(e?8:16))!==0}function Db(t){let e=t[ia]??[],r=t[Je][Le];for(let i of e)EF(i,r);t[ia]=Vt}function EF(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[ml];for(;n<i;){let s=r.nextSibling;OC(e,r,!1),r=s,n++}}}function Ab(t){Db(t);for(let e=Rt;e<t.length;e++)El(t[e])}function El(t){let e=t[Q];for(let n=xt;n<e.bindingStartIndex;n++)if(xn(t[n])){let r=t[n];Ab(r)}else nr(t[n])&&El(t[n])}function CF(t){let e=t._views;for(let n of e){let r=OO(n);if(r!==null&&r[Ut]!==null)if(nr(r))El(r);else{let i=r[Ut];El(i),Ab(r)}}}var bF=new RegExp(`^(\\d+)*(${HC}|${$C})*(.*)`);function TF(t){let e=t.match(bF),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[c,u,l]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(l,10)||1;a.push(u,d)}return[o,...a]}function DF(t){return!t.prev&&t.parent?.type===8}function xp(t){return t.index-xt}function ql(t,e,n,r){let i=null,s=xp(r),o=t.data[RO];if(o?.[s])i=SF(o[s],n);else if(e.firstChild===r)i=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(DF(r)){let u=xp(r.parent);i=Xp(t,u)}else{let u=jt(c,n);if(a)i=u.firstChild;else{let l=xp(c),d=Xp(t,l);if(c.type===2&&d){let f=nm(t,l)+1;i=zl(f,d)}else i=u.nextSibling}}}return i}function zl(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function AF(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case Jp.FirstChild:n=n.firstChild;break;case Jp.NextSibling:n=n.nextSibling;break}}return n}function SF(t,e){let[n,...r]=TF(t),i;if(n===$C)i=e[Yt][Ut];else if(n===HC)i=Bk(e[Yt][Ut]);else{let s=Number(n);i=un(e[s+xt])}return AF(i,r)}function RF(t,e){let n=[];for(let r of e)for(let i=0;i<(r[qC]??1);i++){let s={data:r,firstChild:null};r[ml]>0&&(s.firstChild=t,t=zl(r[ml],t)),n.push(s)}return[t,n]}var Sb=()=>null;function xF(t,e){let n=t[ia];return!e||n===null||n.length===0?null:n[0].data[SO]===e?n.shift():(Db(t),null)}function MF(){Sb=xF}function c0(t,e){return Sb(t,e)}function PF(t,e,n,r){let i=e.tView,o=t[H]&4096?4096:16,a=Ul(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[ha]=c;let u=t[Dn];return u!==null&&(a[Dn]=u.createEmbeddedView(i)),lm(i,a,n),a}function u0(t,e){return!e||e.firstChild===null||fl(t)}function NF(t,e,n,r=!0){let i=e[Q];if(iO(i,e,t,n),r){let o=Qp(n,t),a=e[Le],c=Yg(a,t[ir]);c!==null&&nO(i,t[ln],a,e,c,o)}let s=e[rr];s!==null&&s.firstChild!==null&&(s.firstChild=null)}var Lr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=kF;let t=e;return t})();function kF(){let t=Mt();return xb(t,Ie())}var OF=Lr,Rb=class extends OF{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ps(this._hostTNode,this._hostLView)}get injector(){return new li(this._hostTNode,this._hostLView)}get parentInjector(){let e=jg(this._hostTNode,this._hostLView);if(sC(e)){let n=cl(e,this._hostLView),r=al(e),i=n[Q].data[r+8];return new li(i,n)}else return new li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=l0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=c0(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,u0(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!mk(e),a;if(o)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let c=o?e:new As(Rr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let w=(o?u:this.parentInjector).get(_t,null);w&&(s=w)}let l=Rr(c.componentType??{}),d=c0(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,s);return this.insertImpl(f.hostView,a,u0(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(NN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Je],u=new Rb(c,c[ln],c[Je]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return NF(o,i,s,r),e.attachToViewContainerRef(),gC(Mp(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=l0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Kp(this._lContainer,n);r&&(ll(Mp(this._lContainer),n),PC(r[Q],r))}detach(e){let n=this._adjustIndex(e,-1),r=Kp(this._lContainer,n);return r&&ll(Mp(this._lContainer),n)!=null?new yi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function l0(t){return t[sl]}function Mp(t){return t[sl]||(t[sl]=[])}function xb(t,e){let n,r=e[t.index];return xn(r)?n=r:(n=mb(r,e,null,t),e[t.index]=n,Bl(e,n)),Mb(n,e,t,r),new Rb(n,t,e)}function FF(t,e){let n=t[Le],r=n.createComment(""),i=jt(e,t),s=Yg(n,i);return pl(n,s,r,dO(n,i),!1),r}var Mb=Pb,hm=()=>!1;function LF(t,e,n){return hm(t,e,n)}function Pb(t,e,n,r){if(t[ir])return;let i;n.type&8?i=un(r):i=FF(e,n),t[ir]=i}function VF(t,e,n){if(t[ir]&&t[ia])return!0;let r=n[rr],i=e.index-xt;if(!r||qk(e)||Ll(r,i))return!1;let o=Xp(r,i),a=r.data[em]?.[i],[c,u]=RF(o,a);return t[ir]=c,t[ia]=u,!0}function UF(t,e,n,r){hm(t,n,e)||Pb(t,e,n,r)}function jF(){Mb=UF,hm=VF}function BF(t,e,n,r,i,s,o,a,c){let u=e.consts,l=jl(e,t,4,o||null,ol(u,a));hb(e,n,l,ol(u,c)),Ug(e,l);let d=l.tView=im(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function te(t,e,n,r,i,s,o,a){let c=Ie(),u=wt(),l=t+xt,d=u.firstCreatePass?BF(l,u,c,e,n,r,i,s,o):u.data[l];ga(d,!1);let h=Nb(u,c,d,t);Vg()&&Jg(u,c,h,d),mi(h,c);let f=mb(h,c,h,d);return c[l]=f,Bl(c,f),LF(f,d,c),Mg(d)&&ab(u,c,d),o!=null&&cb(c,d,a),te}var Nb=kb;function kb(t,e,n,r){return Nr(!0),e[Le].createComment("")}function $F(t,e,n,r){let i=e[rr],s=!i||pa()||Ll(i,r);if(Nr(s),s)return kb(t,e,n,r);let o=i.data[AO]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=ql(i,t,e,n);Fl(i,r,a);let c=nm(i,r);return zl(c,a)}function HF(){Nb=$F}function qF(t,e,n,r,i,s){let o=e.consts,a=ol(o,i),c=jl(e,t,2,r,a);return hb(e,n,c,ol(o,s)),c.attrs!==null&&pg(c,c.attrs,!1),c.mergedAttrs!==null&&pg(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function y(t,e,n,r){let i=Ie(),s=wt(),o=xt+t,a=i[Le],c=s.firstCreatePass?qF(o,s,i,e,n,r):s.data[o],u=Ob(s,i,c,a,e,t);i[o]=u;let l=Mg(c);return ga(c,!0),VC(a,u,c),(c.flags&32)!==32&&Vg()&&Jg(s,i,u,c),LN()===0&&mi(u,i),VN(),l&&(ab(s,i,c),ob(s,c,i)),r!==null&&cb(i,c),y}function v(){let t=Mt();Q0()?qN():(t=t.parent,ga(t,!1));let e=t;jN(e)&&$N(),UN();let n=wt();return n.firstCreatePass&&(Ug(n,t),L0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&rk(e)&&o0(n,e,Ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ik(e)&&o0(n,e,Ie(),e.stylesWithoutHost,!1),v}function ge(t,e,n,r){return y(t,e,n,r),v(),ge}var Ob=(t,e,n,r,i,s)=>(Nr(!0),Qg(r,i,nC()));function zF(t,e,n,r,i,s){let o=e[rr],a=!o||pa()||Ll(o,s);if(Nr(a),a)return Qg(r,i,nC());let c=ql(o,t,e,n);return WC(o,s)&&Fl(o,s,c.nextSibling),o&&(TC(n)||DC(c))&&fa(n)&&(BN(n),FC(c)),c}function GF(){Ob=zF}var WF=(t,e,n,r)=>(Nr(!0),RC(e[Le],""));function KF(t,e,n,r){let i,s=e[rr],o=!s||pa();if(Nr(o),o)return RC(e[Le],"");let a=ql(s,t,e,n),c=VO(s,r);return Fl(s,r,a),i=zl(c,a),i}function QF(){WF=KF}function Me(){return Ie()}var Cl="en-US";var YF=Cl;function JF(t){JP(t,"Expected localeId to be defined"),typeof t=="string"&&(YF=t.toLowerCase().replace(/_/g,"-"))}function Ei(t){return!!t&&typeof t.then=="function"}function Fb(t){return!!t&&typeof t.subscribe=="function"}function re(t,e,n,r){let i=Ie(),s=wt(),o=Mt();return ZF(s,i,i[Le],o,t,e,r),re}function XF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[na],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function ZF(t,e,n,r,i,s,o){let a=Mg(r),u=t.firstCreatePass&&_b(t),l=e[cn],d=vb(e),h=!0;if(r.type&3||o){let w=jt(r,e),m=o?o(w):w,I=d.length,F=o?k=>o(un(k[r.index])):r.index,j=null;if(!o&&a&&(j=XF(t,e,i,r.index)),j!==null){let k=j.__ngLastListenerFn__||j;k.__ngNextListenerFn__=s,j.__ngLastListenerFn__=s,h=!1}else{s=h0(r,e,l,s,!1);let k=n.listen(m,i,s);d.push(s,k),u&&u.push(i,F,I,I+1)}}else s=h0(r,e,l,s,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let w=g.length;if(w)for(let m=0;m<w;m+=2){let I=g[m],F=g[m+1],de=e[I][F].subscribe(s),ne=d.length;d.push(s,de),u&&u.push(i,r.index,ne,-(ne+1))}}}function d0(t,e,n,r){try{return bn(6,e,n),n(r)!==!1}catch(i){return wb(t,i),!1}finally{bn(7,e,n)}}function h0(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Pr(t.index,e):e;om(a);let c=d0(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=d0(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function oe(t=1){return ZN(t)}function Nn(t,e,n){return Gl(t,"",e,"",n),Nn}function Gl(t,e,n,r,i){let s=Ie(),o=Tb(s,e,n,r);if(o!==Ii){let a=wt(),c=Lg();db(a,c,s,t,o,s[Le],i,!1)}return Gl}function _a(t){let e=zN();return MN(e,xt+t)}function M(t,e=""){let n=Ie(),r=wt(),i=t+xt,s=r.firstCreatePass?jl(r,i,1,e,null):r.data[i],o=Lb(r,n,s,e,t);n[i]=o,Vg()&&Jg(r,n,o,s),ga(s,!1)}var Lb=(t,e,n,r,i)=>(Nr(!0),SC(e[Le],r));function eL(t,e,n,r,i){let s=e[rr],o=!s||pa()||Ll(s,i);return Nr(o),o?SC(e[Le],r):ql(s,t,e,n)}function tL(){Lb=eL}function $e(t){return wa("",t,""),$e}function wa(t,e,n){let r=Ie(),i=Tb(r,t,e,n);return i!==Ii&&D1(r,xs(),i),wa}function nL(t,e,n){let r=wt();if(r.firstCreatePass){let i=xr(t);_g(n,r.data,r.blueprint,i,!0),_g(e,r.data,r.blueprint,i,!1)}}function _g(t,e,n,r,i){if(t=mt(t),Array.isArray(t))for(let s=0;s<t.length;s++)_g(t[s],e,n,r,i);else{let s=wt(),o=Ie(),a=Mt(),c=Ds(t)?t:mt(t.provide),u=IC(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ds(t)||!t.multi){let f=new fi(u,i,T),g=Np(c,e,i?l:l+h,d);g===-1?($p(ul(a,o),s,c),Pp(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{let f=Np(c,e,l+h,d),g=Np(c,e,l,l+h),w=f>=0&&n[f],m=g>=0&&n[g];if(i&&!m||!i&&!w){$p(ul(a,o),s,c);let I=sL(i?iL:rL,n.length,i,r,u);!i&&m&&(n[g].providerFactory=I),Pp(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),o.push(I)}else{let I=Vb(n[i?g:f],u,!i&&r);Pp(s,t,f>-1?f:g,I)}!i&&r&&m&&n[g].componentProviders++}}}function Pp(t,e,n,r){let i=Ds(e),s=Pk(e);if(i||s){let c=(s?mt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function Vb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Np(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function rL(t,e,n,r){return wg(this.multi,[])}function iL(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=pi(n,n[Q],this.providerFactory.index,r);s=a.slice(0,o),wg(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],wg(i,s);return s}function wg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function sL(t,e,n,r,i){let s=new fi(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,Vb(s,i,r&&!n),s}function Ci(t,e=[]){return n=>{n.providersResolver=(r,i)=>nL(r,i?i(t):t,e)}}var Mr=class{},la=class{};var bl=class extends Mr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wl(this);let i=P0(e);this._bootstrapComponents=bC(i.bootstrap),this._r3Injector=EC(e,n,[{provide:Mr,useValue:this},{provide:Vl,useValue:this.componentFactoryResolver},...r],yt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Tl=class extends la{constructor(e){super(),this.moduleType=e}create(e){return new bl(this.moduleType,e,[])}};function oL(t,e,n){return new bl(t,e,n)}var Ig=class extends Mr{constructor(e){super(),this.componentFactoryResolver=new wl(this),this.instance=null;let n=new aa([...e.providers,{provide:Mr,useValue:this},{provide:Vl,useValue:this.componentFactoryResolver}],e.parent||zg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Wl(t,e,n=null){return new Ig({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var aL=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=vC(!1,r.type),s=i.length>0?Wl([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=A({token:e,providedIn:"environment",factory:()=>new e(b(_t))});let t=e;return t})();function Ub(t){Ns("NgStandalone"),t.getStandaloneInjector=e=>e.get(aL).getOrCreateStandaloneInjector(t)}function cL(){return this._results[Symbol.iterator]()}var Eg=class t{get changes(){return this._changes??=new Fe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=cL)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=vk(e);(this._changesDetected=!yk(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},_i=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=dL;let t=e;return t})(),uL=_i,lL=class extends uL{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=PF(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new yi(i)}};function dL(){return fm(Mt(),Ie())}function fm(t,e){return t.type&4?new lL(e,t,Ps(t,e)):null}var Cg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},bg=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)qb(e,n).matches!==null&&this.queries[n].setDirty()}},Dl=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},Tg=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Dg=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,hL(n,s)),this.matchTNodeWithReadOption(e,n,Zu(n,e,s,!1,!1))}else r===_i?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Zu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Jt||i===Lr||i===_i&&n.type&4)this.addMatch(n.index,-2);else{let s=Zu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function hL(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function fL(t,e){return t.type&11?Ps(t,e):t.type&4?fm(t,e):null}function pL(t,e,n,r){return n===-1?fL(e,t):n===-2?gL(t,e,r):pi(t,t[Q],n,e)}function gL(t,e,n){if(n===Jt)return Ps(e,t);if(n===_i)return fm(e,t);if(n===Lr)return xb(e,t)}function jb(t,e,n,r){let i=e[Dn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(pL(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Ag(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=jb(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=Rt;d<l.length;d++){let h=l[d];h[ha]===h[Je]&&Ag(h[Q],h,u,r)}if(l[bs]!==null){let d=l[bs];for(let h=0;h<d.length;h++){let f=d[h];Ag(f[Q],f,u,r)}}}}}return r}function Os(t){let e=Ie(),n=wt(),r=Y0();kg(r+1);let i=qb(n,r);if(t.dirty&&PN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?Ag(n,e,r,[]):jb(n,e,i,r);t.reset(s,$O),t.notifyOnChanges()}return!0}return!1}function Kl(t,e,n){let r=wt();r.firstCreatePass&&(Hb(r,new Dl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),$b(r,Ie(),e)}function Bb(t,e,n,r){let i=wt();if(i.firstCreatePass){let s=Mt();Hb(i,new Dl(e,n,r),s.index),yL(i,t),(n&2)===2&&(i.staticContentQueries=!0)}$b(i,Ie(),n)}function Fs(){return mL(Ie(),Y0())}function mL(t,e){return t[Dn].queries[e].queryList}function $b(t,e,n){let r=new Eg((n&4)===4);a1(t,e,r,r.destroy),e[Dn]===null&&(e[Dn]=new bg),e[Dn].queries.push(new Cg(r))}function Hb(t,e,n){t.queries===null&&(t.queries=new Tg),t.queries.track(new Dg(e,n))}function yL(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function qb(t,e){return t.queries.getByIndex(e)}var Qu=null;function vL(t){Qu!==null&&(t.defaultEncapsulation!==Qu.defaultEncapsulation||t.preserveWhitespaces!==Qu.preserveWhitespaces)||(Qu=t)}var or=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Ql=new or("17.0.9");var Yl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Sg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Jl=(()=>{let e=class e{compileModuleSync(r){return new Tl(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=P0(r),o=bC(s.declarations).reduce((a,c)=>{let u=Rr(c);return u&&a.push(new As(u)),a},[]);return new Sg(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_L=new x("compilerOptions");var bi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pm=new x(""),Ia=new x(""),Xl=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gm||(wL(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(b(ee),b(Zl),b(Ia))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Zl=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return gm?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function wL(t){gm=t}var gm,ed=new x("Application Initializer"),zb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=C(ed,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Ei(o))r.push(o);else if(Fb(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ls=new x("appBootstrapListener");function IL(t,e,n){let r=new Tl(n);return Promise.resolve(r)}function EL(){iE(()=>{throw new O(600,!1)})}function CL(t){return t.isBoundToModule}function bL(t,e,n){try{let r=n();return Ei(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function Gb(t,e){return Array.isArray(e)?e.reduce(Gb,t):P(P({},t),e)}var ur=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=C(ZC),this.afterRenderEffectManager=C(um),this.componentTypes=[],this.components=[],this.isStable=C(bi).hasPendingTasks.pipe($(r=>!r)),this._injector=C(_t)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof yl;if(!this._injector.get(zb).done){let f=!s&&M0(r),g=!1;throw new O(405,g)}let a;s?a=r:a=this._injector.get(Vl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=CL(a)?void 0:this._injector.get(Mr),u=i||a.selector,l=a.create(nt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(pm,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),nl(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new O(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{try{let r=this.afterRenderEffectManager.execute()}catch(r){this.internalErrorHandler(r)}this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;nl(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ls,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>nl(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new O(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function f0(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Yu;function mm(t){Yu??=new WeakMap;let e=Yu.get(t);if(e)return e;let n=t.isStable.pipe(sn(r=>r)).toPromise().then(()=>{});return Yu.set(t,n),t.onDestroy(()=>Yu?.delete(t)),n}var TL=(()=>{let e=class e{constructor(){this.zone=C(ee),this.applicationRef=C(ur)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function DL(t){return[{provide:ee,useFactory:t},{provide:gi,multi:!0,useFactory:()=>{let e=C(TL,{optional:!0});return()=>e.initialize()}},{provide:gi,multi:!0,useFactory:()=>{let e=C(RL);return()=>{e.initialize()}}},{provide:ZC,useFactory:AL}]}function AL(){let t=C(ee),e=C(Rn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function SL(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var RL=(()=>{let e=class e{constructor(){this.subscription=new Be,this.initialized=!1,this.zone=C(ee),this.pendingTasks=C(bi)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ee.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xL(){return typeof $localize<"u"&&$localize.locale||Cl}var ym=new x("LocaleId",{providedIn:"root",factory:()=>C(ym,Z.Optional|Z.SkipSelf)||xL()});var Wb=new x("PlatformDestroyListeners"),Kb=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let s=$1(i?.ngZone,SL({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{let o=oL(r.moduleType,this.injector,DL(()=>s)),a=o.injector.get(Rn,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{nl(this._modules,o),c.unsubscribe()})}),bL(a,s,()=>{let c=o.injector.get(zb);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(ym,Cl);return JF(u||Cl),this._moduleDoBootstrap(o),o})})})}bootstrapModule(r,i=[]){let s=Gb({},i);return IL(this.injector,s,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){let i=r.injector.get(ur);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new O(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(Wb,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(b(nt))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Zo=null,Qb=new x("AllowMultipleToken");function ML(t){if(Zo&&!Zo.get(Qb,!1))throw new O(400,!1);EL(),Zo=t;let e=t.get(Kb);return kL(t),e}function vm(t,e,n=[]){let r=`Platform: ${e}`,i=new x(r);return(s=[])=>{let o=Yb();if(!o||o.injector.get(Qb,!1)){let a=[...n,...s,{provide:i,useValue:!0}];t?t(a):ML(PL(a,r))}return NL(i)}}function PL(t=[],e){return nt.create({name:e,providers:[{provide:Pl,useValue:"platform"},{provide:Wb,useValue:new Set([()=>Zo=null])},...t]})}function NL(t){let e=Yb();if(!e)throw new O(401,!1);return e}function Yb(){return Zo?.get(Kb)??null}function kL(t){t.get(Gg,null)?.forEach(n=>n())}function _m(){return!1}var Jb=vm(null,"core",[]),Xb=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(b(ur))},e.\u0275mod=Ce({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var p0=!1;function OL(){p0||(p0=!0,kO(),GF(),tL(),QF(),HF(),jF(),MF(),o1())}function FL(t,e){return mm(t)}function Zb(){return Ms([{provide:Gu,useFactory:()=>{let t=!0;return Jo()&&(t=!!C(wi,{optional:!0})?.get(zC,null)),t&&Ns("NgHydration"),t}},{provide:gi,useValue:()=>{Jo()&&C(Gu)&&(LL(),OL())},multi:!0},{provide:tb,useFactory:()=>Jo()&&C(Gu)},{provide:Ls,useFactory:()=>{if(Jo()&&C(Gu)){let t=C(ur),e=C(nt);return()=>{FL(t,e).then(()=>{ee.assertInAngularZone(),CF(t)})}}return()=>{}},multi:!0}])}function LL(){let t=Nl(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===PO){e=n;break}if(!e)throw new O(-507,!1)}function lr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function eT(t){let e=Rr(t);if(!e)return null;let n=new As(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var wm=null;function kn(){return wm}function sT(t){wm||(wm=t)}var td=class{},it=new x("DocumentToken"),Tm=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>C(UL))(),providedIn:"platform"});let t=e;return t})(),oT=new x("Location Initialized"),UL=(()=>{let e=class e extends Tm{constructor(){super(),this._doc=C(it),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kn().getBaseHref(this._doc)}onPopState(r){let i=kn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=kn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function Dm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function tT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function dr(t){return t&&t[0]!=="?"?"?"+t:t}var hr=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>C(Am))(),providedIn:"root"});let t=e;return t})(),aT=new x("appBaseHref"),Am=(()=>{let e=class e extends hr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??C(it).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Dm(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+dr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+dr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+dr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(b(Tm),b(aT,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cT=(()=>{let e=class e extends hr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return i==null&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Dm(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+dr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+dr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(b(Tm),b(aT,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Us=(()=>{let e=class e{constructor(r){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=$L(tT(nT(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+dr(i))}normalize(r){return e.stripTrailingSlash(BL(this._basePath,nT(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+dr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+dr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=dr,e.joinWithSlash=Dm,e.stripTrailingSlash=tT,e.\u0275fac=function(i){return new(i||e)(b(hr))},e.\u0275prov=A({token:e,factory:()=>jL(),providedIn:"root"});let t=e;return t})();function jL(){return new Us(b(hr))}function BL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function nT(t){return t.replace(/\/index.html$/,"")}function $L(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function nd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Im=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},rd=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Im(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),rT(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);rT(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(T(Lr),T(_i),T(rm))},e.\u0275dir=Ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function rT(t,e){t.context.$implicit=e.item}var Nt=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Em,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){iT("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){iT("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(T(Lr),T(_i))},e.\u0275dir=Ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Em=class{constructor(){this.$implicit=null,this.ngIf=null}};function iT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}var js=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ce({type:e}),e.\u0275inj=Ee({});let t=e;return t})(),Sm="browser",HL="server";function qL(t){return t===Sm}function Rm(t){return t===HL}var uT=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>qL(C(rt))?new Cm(C(it),window):new bm});let t=e;return t})(),Cm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=zL(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function zL(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var bm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Vs=class{};var Ca=class{},od=class{},Ur=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Mm=class{encodeKey(e){return lT(e)}encodeValue(e){return lT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function WL(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var KL=/%(\d[a-f0-9])/gi,QL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lT(t){return encodeURIComponent(t).replace(KL,(e,n)=>QL[n]??e)}function id(t){return`${t}`}var Vr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Mm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=WL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(id):[id(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(id(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(id(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Pm=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function YL(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function dT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function hT(t){return typeof Blob<"u"&&t instanceof Blob}function fT(t){return typeof FormData<"u"&&t instanceof FormData}function JL(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ea=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(YL(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new Ur),this.context||(this.context=new Pm),!this.params)this.params=new Vr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:dT(this.body)||hT(this.body)||fT(this.body)||JL(this.body)||typeof this.body=="string"?this.body:this.body instanceof Vr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||fT(this.body)?null:hT(this.body)?this.body.type||null:dT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Vr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,l=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:o})}},Bs=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Bs||{}),ba=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Ur,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Nm=class t extends ba{constructor(e={}){super(e),this.type=Bs.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},$s=class t extends ba{constructor(e={}){super(e),this.type=Bs.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ad=class extends ba{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function xm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ta=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Ea)o=r;else{let u;s.headers instanceof Ur?u=s.headers:u=new Ur(s.headers);let l;s.params&&(s.params instanceof Vr?l=s.params:l=new Vr({fromObject:s.params})),o=new Ea(r,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=V(o).pipe(er(u=>this.handler.handle(u)));if(r instanceof Ea||s.observe==="events")return a;let c=a.pipe(St(u=>u instanceof $s));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe($(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe($(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe($(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe($(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Vr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,xm(s,i))}post(r,i,s={}){return this.request("POST",r,xm(s,i))}put(r,i,s={}){return this.request("PUT",r,xm(s,i))}};e.\u0275fac=function(i){return new(i||e)(b(Ca))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function CT(t,e){return e(t)}function XL(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function ZL(t,e,n){return(r,i)=>Mn(n,()=>e(r,s=>t(s,i)))}var eV=new x(""),km=new x(""),bT=new x(""),tV=new x("");function nV(){let t=null;return(e,n)=>{t===null&&(t=(C(eV,{optional:!0})??[]).reduceRight(XL,CT));let r=C(bi),i=r.add();return t(e,n).pipe(Dr(()=>r.remove(i)))}}var pT=(()=>{let e=class e extends Ca{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=C(bi);let s=C(tV,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(km),...this.injector.get(bT,[])]));this.chain=s.reduceRight((o,a)=>ZL(o,a,this.injector),CT)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Dr(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(b(od),b(_t))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();var rV=/^\)\]\}',?\n/;function iV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var gT=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new O(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?fe(i.\u0275loadImpl()):V(null)).pipe(tt(()=>new J(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((m,I)=>a.setRequestHeader(m,I.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let m=r.detectContentTypeHeader();m!==null&&a.setRequestHeader("Content-Type",m)}if(r.responseType){let m=r.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}let c=r.serializeBody(),u=null,l=()=>{if(u!==null)return u;let m=a.statusText||"OK",I=new Ur(a.getAllResponseHeaders()),F=iV(a)||r.url;return u=new Nm({headers:I,status:a.status,statusText:m,url:F}),u},d=()=>{let{headers:m,status:I,statusText:F,url:j}=l(),k=null;I!==204&&(k=typeof a.response>"u"?a.responseText:a.response),I===0&&(I=k?200:0);let de=I>=200&&I<300;if(r.responseType==="json"&&typeof k=="string"){let ne=k;k=k.replace(rV,"");try{k=k!==""?JSON.parse(k):null}catch(Ye){k=ne,de&&(de=!1,k={error:Ye,text:k})}}de?(o.next(new $s({body:k,headers:m,status:I,statusText:F,url:j||void 0})),o.complete()):o.error(new ad({error:k,headers:m,status:I,statusText:F,url:j||void 0}))},h=m=>{let{url:I}=l(),F=new ad({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:I||void 0});o.error(F)},f=!1,g=m=>{f||(o.next(l()),f=!0);let I={type:Bs.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(I.total=m.total),r.responseType==="text"&&a.responseText&&(I.partialText=a.responseText),o.next(I)},w=m=>{let I={type:Bs.UploadProgress,loaded:m.loaded};m.lengthComputable&&(I.total=m.total),o.next(I)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),r.reportProgress&&(a.addEventListener("progress",g),c!==null&&a.upload&&a.upload.addEventListener("progress",w)),a.send(c),o.next({type:Bs.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),r.reportProgress&&(a.removeEventListener("progress",g),c!==null&&a.upload&&a.upload.removeEventListener("progress",w)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(b(Vs))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),TT=new x("XSRF_ENABLED"),sV="XSRF-TOKEN",oV=new x("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>sV}),aV="X-XSRF-TOKEN",cV=new x("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>aV}),cd=class{},uV=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=nd(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(b(it),b(rt),b(oV))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function lV(t,e){let n=t.url.toLowerCase();if(!C(TT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=C(cd).getToken(),i=C(cV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var DT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(DT||{});function dV(t,e){return{\u0275kind:t,\u0275providers:e}}function hV(...t){let e=[Ta,gT,pT,{provide:Ca,useExisting:pT},{provide:od,useExisting:gT},{provide:km,useValue:lV,multi:!0},{provide:TT,useValue:!0},{provide:cd,useClass:uV}];for(let n of t)e.push(...n.\u0275providers);return Ms(e)}var mT=new x("LEGACY_INTERCEPTOR_FN");function fV(){return dV(DT.LegacyInterceptors,[{provide:mT,useFactory:nV},{provide:km,useExisting:mT,multi:!0}])}var AT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ce({type:e}),e.\u0275inj=Ee({providers:[hV(fV())]});let t=e;return t})();var yT="b",vT="h",_T="s",wT="st",IT="u",ET="rt",sd=new x(""),pV=["GET","HEAD"];function gV(t,e){let l=C(sd),{isCacheActive:n}=l,r=XI(l,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!pV.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=C(wi),a=yV(t),c=o.get(a,null),u=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(u=i.includeHeaders),c){let{[yT]:d,[ET]:h,[vT]:f,[_T]:g,[wT]:w,[IT]:m}=c,I=d;switch(h){case"arraybuffer":I=new TextEncoder().encode(d).buffer;break;case"blob":I=new Blob([d]);break}let F=new Ur(f);return V(new $s({body:I,headers:F,status:g,statusText:w,url:m}))}return e(t).pipe(Ne(d=>{d instanceof $s&&o.set(a,{[yT]:d.body,[vT]:mV(d.headers,u),[_T]:d.status,[wT]:d.statusText,[IT]:d.url||"",[ET]:t.responseType})}))}function mV(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function yV(t){let{params:e,method:n,responseType:r,url:i}=t,s=e.keys().sort().map(c=>`${c}=${e.getAll(c)}`).join("&"),o=n+"."+r+"."+i+"?"+s,a=vV(o);return a}function vV(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483647+1,e.toString()}function ST(t){return[{provide:sd,useFactory:()=>(Ns("NgHttpTransferCache"),P({isCacheActive:!0},t))},{provide:bT,useValue:gV,multi:!0,deps:[wi,sd]},{provide:Ls,multi:!0,useFactory:()=>{let e=C(ur),n=C(sd);return()=>{mm(e).then(()=>{n.isCacheActive=!1})}}}]}var Lm=class extends td{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Vm=class t extends Lm{static makeCurrent(){sT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=_V();return n==null?null:wV(n)}resetBaseElement(){Da=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return nd(document.cookie,e)}},Da=null;function _V(){return Da=Da||document.querySelector("base"),Da?Da.getAttribute("href"):null}function wV(t){return new URL(t,document.baseURI).pathname}var Um=class{addToWindow(e){vt.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new O(5103,!1);return s},vt.getAllAngularTestabilities=()=>e.getAllTestabilities(),vt.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=vt.getAllAngularTestabilities(),s=i.length,o=!1,a=function(c){o=o||c,s--,s==0&&r(o)};i.forEach(c=>{c.whenStable(a)})};vt.frameworkStabilizers||(vt.frameworkStabilizers=[]),vt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?kn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},IV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),jm=new x("EventManagerPlugins"),NT=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new O(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(b(jm),b(ee))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),ud=class{constructor(e){this._doc=e}},Om="ng-app-id",kT=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Rm(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Om}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Om),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Om,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(b(it),b(ya),b(Wg,8),b(rt))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Fm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$m=/%COMP%/g,OT="%COMP%",EV=`_nghost-${OT}`,CV=`_ngcontent-${OT}`,bV=!0,TV=new x("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>bV});function DV(t){return CV.replace($m,t)}function AV(t){return EV.replace($m,t)}function FT(t,e){return e.map(n=>n.replace($m,t))}var xT=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Rm(c),this.defaultRenderer=new Aa(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===An.ShadowDom&&(i=we(P({},i),{encapsulation:An.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof ld?s.applyToHost(r):s instanceof Sa&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case An.Emulated:o=new ld(u,l,i,this.appId,d,a,c,h);break;case An.ShadowDom:return new Bm(u,l,r,i,a,c,this.nonce,h);default:o=new Sa(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(b(NT),b(kT),b(ya),b(TV),b(it),b(rt),b(ee),b(Wg))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Aa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Fm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(MT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(MT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new O(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Fm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Fm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(sr.DashCase|sr.Important)?e.style.setProperty(n,r,i&sr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&sr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=kn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function MT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Bm=class extends Aa{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=FT(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Sa=class extends Aa{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?FT(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ld=class extends Sa{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=DV(u),this.hostAttr=AV(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},SV=(()=>{let e=class e extends ud{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(b(it))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),PT=["alt","control","meta","shift"],RV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},MV=(()=>{let e=class e extends ud{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),PT.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=RV[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),PT.forEach(a=>{if(a!==s){let c=xV[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(b(it))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function PV(){Vm.makeCurrent()}function NV(){return new Rn}function kV(){return CC(document),document}var OV=[{provide:rt,useValue:Sm},{provide:Gg,useValue:PV,multi:!0},{provide:it,useFactory:kV,deps:[]}],LT=vm(Jb,"browser",OV),FV=new x(""),LV=[{provide:Ia,useClass:Um,deps:[]},{provide:pm,useClass:Xl,deps:[ee,Zl,Ia]},{provide:Xl,useClass:Xl,deps:[ee,Zl,Ia]}],VV=[{provide:Pl,useValue:"root"},{provide:Rn,useFactory:NV,deps:[]},{provide:jm,useClass:SV,multi:!0,deps:[it,ee,rt]},{provide:jm,useClass:MV,multi:!0,deps:[it]},xT,kT,NT,{provide:ca,useExisting:xT},{provide:Vs,useClass:IV,deps:[]},[]],VT=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:ya,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(b(FV,12))},e.\u0275mod=Ce({type:e}),e.\u0275inj=Ee({providers:[...VV,...LV],imports:[js,Xb]});let t=e;return t})();function UV(){return new Hm(b(it))}var Hm=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(b(it))},e.\u0275prov=A({token:e,factory:function(i){let s=null;return i?s=new i:s=UV(),s},providedIn:"root"});let t=e;return t})();function UT(...t){let e=[],n=new Set,r=n.has(1);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return Ms([[],Zb(),n.has(0)||r?[]:ST({}),e])}var K="primary",Ha=Symbol("RouteTitle"),Km=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ws(t){return new Km(t)}function jV(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function BV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!On(t[n],e[n]))return!1;return!0}function On(t,e){let n=t?Qm(t):void 0,r=e?Qm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!QT(t[i],e[i]))return!1;return!0}function Qm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function QT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function qr(t){return lp(t)?t:Ei(t)?fe(Promise.resolve(t)):V(t)}var $V={exact:JT,subset:XT},YT={exact:HV,subset:qV,ignored:()=>!0};function BT(t,e,n){return $V[n.paths](t.root,e.root,n.matrixParams)&&YT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function HV(t,e){return On(t,e)}function JT(t,e,n){if(!Di(t.segments,e.segments)||!fd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!JT(t.children[r],e.children[r],n))return!1;return!0}function qV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>QT(t[n],e[n]))}function XT(t,e,n){return ZT(t,e,e.segments,n)}function ZT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Di(i,n)||e.hasChildren()||!fd(i,n,r))}else if(t.segments.length===n.length){if(!Di(t.segments,n)||!fd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!XT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Di(t.segments,i)||!fd(t.segments,i,r)||!t.children[K]?!1:ZT(t.children[K],e,s,r)}}function fd(t,e,n){return e.every((r,i)=>YT[n](t[i].parameters,r.parameters))}var jr=class{constructor(e=new me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ws(this.queryParams)),this._queryParamMap}toString(){return WV.serialize(this)}},me=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pd(this)}},Ti=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ws(this.parameters)),this._parameterMap}toString(){return tD(this)}};function zV(t,e){return Di(t,e)&&t.every((n,r)=>On(n.parameters,e[r].parameters))}function Di(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function GV(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===K&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==K&&(n=n.concat(e(i,r)))}),n}var qa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>new Oa)(),providedIn:"root"});let t=e;return t})(),Oa=class{parse(e){let n=new Jm(e);return new jr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ra(e.root,!0)}`,r=YV(e.queryParams),i=typeof e.fragment=="string"?`#${KV(e.fragment)}`:"";return`${n}${r}${i}`}},WV=new Oa;function pd(t){return t.segments.map(e=>tD(e)).join("/")}function Ra(t,e){if(!t.hasChildren())return pd(t);if(e){let n=t.children[K]?Ra(t.children[K],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==K&&r.push(`${i}:${Ra(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=GV(t,(r,i)=>i===K?[Ra(t.children[K],!1)]:[`${i}:${Ra(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[K]!=null?`${pd(t)}/${n[0]}`:`${pd(t)}/(${n.join("//")})`}}function eD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dd(t){return eD(t).replace(/%3B/gi,";")}function KV(t){return encodeURI(t)}function Ym(t){return eD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gd(t){return decodeURIComponent(t)}function $T(t){return gd(t.replace(/\+/g,"%20"))}function tD(t){return`${Ym(t.path)}${QV(t.parameters)}`}function QV(t){return Object.entries(t).map(([e,n])=>`;${Ym(e)}=${Ym(n)}`).join("")}function YV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${dd(n)}=${dd(i)}`).join("&"):`${dd(n)}=${dd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var JV=/^[^\/()?;#]+/;function qm(t){let e=t.match(JV);return e?e[0]:""}var XV=/^[^\/()?;=#]+/;function ZV(t){let e=t.match(XV);return e?e[0]:""}var e2=/^[^=?&#]+/;function t2(t){let e=t.match(e2);return e?e[0]:""}var n2=/^[^&#]+/;function r2(t){let e=t.match(n2);return e?e[0]:""}var Jm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[K]=new me(e,n)),r}parseSegment(){let e=qm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new Ti(gd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=ZV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=qm(this.remaining);i&&(r=i,this.capture(r))}e[gd(n)]=gd(r)}parseQueryParam(e){let n=t2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=r2(this.remaining);o&&(r=o,this.capture(r))}let i=$T(n),s=$T(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=qm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new O(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=K);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[K]:new me([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}};function nD(t){return t.segments.length>0?new me([],{[K]:t}):t}function rD(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=rD(i);if(r===K&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new me(t.segments,e);return i2(n)}function i2(t){if(t.numberOfChildren===1&&t.children[K]){let e=t.children[K];return new me(t.segments.concat(e.segments),e.children)}return t}function Ks(t){return t instanceof jr}function s2(t,e,n=null,r=null){let i=iD(t);return sD(i,e,n,r)}function iD(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new me(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=nD(r);return e??i}function sD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return zm(i,i,i,n,r);let s=o2(e);if(s.toRoot())return zm(i,i,new me([],{}),n,r);let o=a2(s,i,t),a=o.processChildren?Pa(o.segmentGroup,o.index,s.commands):aD(o.segmentGroup,o.index,s.commands);return zm(i,o.segmentGroup,a,n,r)}function md(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Fa(t){return typeof t=="object"&&t!=null&&t.outlets}function zm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=oD(t,e,n);let a=nD(rD(o));return new jr(a,s,i)}function oD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=oD(s,e,n)}),new me(t.segments,r)}var yd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&md(r[0]))throw new O(4003,!1);let i=r.find(Fa);if(i&&i!==r.at(-1))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function o2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new yd(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new yd(n,e,r)}var zs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function a2(t,e,n){if(t.isAbsolute)return new zs(e,!0,0);if(!n)return new zs(e,!1,NaN);if(n.parent===null)return new zs(n,!0,0);let r=md(t.commands[0])?0:1,i=n.segments.length-1+r;return c2(n,i,t.numberOfDoubleDots)}function c2(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new zs(r,!1,i-s)}function u2(t){return Fa(t[0])?t[0].outlets:{[K]:t}}function aD(t,e,n){if(t||(t=new me([],{})),t.segments.length===0&&t.hasChildren())return Pa(t,e,n);let r=l2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new me(t.segments.slice(0,r.pathIndex),{});return s.children[K]=new me(t.segments.slice(r.pathIndex),t.children),Pa(s,0,i)}else return r.match&&i.length===0?new me(t.segments,{}):r.match&&!t.hasChildren()?Xm(t,e,n):r.match?Pa(t,0,i):Xm(t,e,n)}function Pa(t,e,n){if(n.length===0)return new me(t.segments,{});{let r=u2(n),i={};if(Object.keys(r).some(s=>s!==K)&&t.children[K]&&t.numberOfChildren===1&&t.children[K].segments.length===0){let s=Pa(t.children[K],e,n);return new me(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=aD(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new me(t.segments,i)}}function l2(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Fa(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!qT(c,u,o))return s;r+=2}else{if(!qT(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Xm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Fa(s)){let c=d2(s.outlets);return new me(r,c)}if(i===0&&md(n[0])){let c=t.segments[e];r.push(new Ti(c.path,HT(n[0]))),i++;continue}let o=Fa(s)?s.outlets[K]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&md(a)?(r.push(new Ti(o,HT(a))),i+=2):(r.push(new Ti(o,{})),i++)}return new me(r,{})}function d2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Xm(new me([],{}),0,r))}),e}function HT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function qT(t,e,n){return t==n.path&&On(e,n.parameters)}var Na="imperative",Xt=class{constructor(e,n){this.id=e,this.url=n}},Qs=class extends Xt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hn=class extends Xt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Br=class extends Xt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$r=class extends Xt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}},La=class extends Xt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vd=class extends Xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zm=class extends Xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ey=class extends Xt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ty=class extends Xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ny=class extends Xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ry=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},iy=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sy=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},oy=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ay=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cy=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_d=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Va=class{},Ua=class{constructor(e){this.url=e}};var uy=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new za,this.attachRef=null}},za=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new uy,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ly(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ly(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=dy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return dy(e,this._root).map(n=>n.value)}};function ly(t,e){if(t===e.value)return e;for(let n of e.children){let r=ly(t,n);if(r)return r}return null}function dy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=dy(t,n);if(r.length)return r.unshift(e),r}return[]}var Bt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function qs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Id=class extends wd{constructor(e,n){super(e),this.snapshot=n,Iy(this,e)}toString(){return this.snapshot.toString()}};function cD(t){let e=h2(t),n=new he([new Ti("",{})]),r=new he({}),i=new he({}),s=new he({}),o=new he(""),a=new fn(n,r,s,o,i,K,t,e.root);return a.snapshot=e.root,new Id(new Bt(a,[]),e)}function h2(t){let e={},n={},r={},i="",s=new ja([],e,r,i,n,K,t,null,{});return new Ed("",new Bt(s,[]))}var fn=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($(u=>u[Ha]))??V(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe($(e=>Ws(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe($(e=>Ws(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wy(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:P(P({},e.params),t.params),data:P(P({},e.data),t.data),resolve:P(P(P(P({},t.data),e.data),i?.data),t._resolvedData)}:r={params:P({},t.params),data:P({},t.data),resolve:P(P({},t.data),t._resolvedData??{})},i&&lD(i)&&(r.resolve[Ha]=i.title),r}var ja=class{get title(){return this.data?.[Ha]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ws(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ws(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ed=class extends wd{constructor(e,n){super(n),this.url=e,Iy(this,n)}toString(){return uD(this._root)}};function Iy(t,e){e.value._routerState=t,e.children.forEach(n=>Iy(t,n))}function uD(t){let e=t.children.length>0?` { ${t.children.map(uD).join(", ")} } `:"";return`${t.value}${e}`}function Gm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,On(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),On(e.params,n.params)||t.paramsSubject.next(n.params),BV(e.url,n.url)||t.urlSubject.next(n.url),On(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function hy(t,e){let n=On(t.params,e.params)&&zV(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||hy(t.parent,e.parent))}function lD(t){return typeof t.title=="string"||t.title===null}var Ey=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=C(za),this.location=C(Lr),this.changeDetector=C(Fr),this.environmentInjector=C(_t),this.inputBinder=C(Ad,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new fy(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cr]});let t=e;return t})(),fy=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===fn?this.route:e===za?this.childContexts:this.parent.get(e,n)}},Ad=new x(""),zT=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Yo([i.queryParams,i.params,i.data]).pipe(tt(([o,a,c],u)=>(c=P(P(P({},o),a),c),u===0?V(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=eT(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function f2(t,e,n){let r=Ba(t,e._root,n?n._root:void 0);return new Id(r,e)}function Ba(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=p2(t,e,n);return new Bt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ba(t,a)),o}}let r=g2(e.value),i=e.children.map(s=>Ba(t,s));return new Bt(r,i)}}function p2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ba(t,r,i);return Ba(t,r)})}function g2(t){return new fn(new he(t.url),new he(t.params),new he(t.queryParams),new he(t.fragment),new he(t.data),t.outlet,t.component,t)}var dD="ngNavigationCancelingError";function hD(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ks(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fD(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function fD(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[dD]=!0,r.cancellationCode=e,n&&(r.url=n),r}function m2(t){return pD(t)&&Ks(t.url)}function pD(t){return t&&t[dD]}var y2=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ue({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ub],decls:1,vars:0,template:function(i,s){i&1&&ge(0,"router-outlet")},dependencies:[Ey],encapsulation:2});let t=e;return t})();function v2(t,e){return t.providers&&!t._injector&&(t._injector=Wl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Cy(t){let e=t.children&&t.children.map(Cy),n=e?we(P({},t),{children:e}):P({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==K&&(n.component=y2),n}function Fn(t){return t.outlet||K}function _2(t,e){let n=t.filter(r=>Fn(r)===e);return n.push(...t.filter(r=>Fn(r)!==e)),n}function Ga(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var w2=(t,e,n,r)=>$(i=>(new py(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),py=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Gm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=qs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=qs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=qs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new cy(s.value.snapshot))}),e.children.length&&this.forwardEvent(new oy(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Gm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Gm(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Ga(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Cd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Gs=class{constructor(e,n){this.component=e,this.route=n}};function I2(t,e,n){let r=t._root,i=e?e._root:null;return xa(r,i,n,[r.value])}function E2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Js(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!v0(t)?t:e.get(t):r}function xa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=qs(e);return t.children.forEach(o=>{C2(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ka(a,n.getContext(o),i)),i}function C2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=b2(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Cd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?xa(t,e,a?a.children:null,r,i):xa(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Gs(a.outlet.component,o))}else o&&ka(e,a,i),i.canActivateChecks.push(new Cd(r)),s.component?xa(t,null,a?a.children:null,r,i):xa(t,null,n,r,i);return i}function b2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Di(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Di(t.url,e.url)||!On(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hy(t,e)||!On(t.queryParams,e.queryParams);case"paramsChange":default:return!hy(t,e)}}function ka(t,e,n){let r=qs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ka(o,e.children.getContext(s),n):ka(o,null,n):ka(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Gs(e.outlet.component,i)):n.canDeactivateChecks.push(new Gs(null,i)):n.canDeactivateChecks.push(new Gs(null,i))}function Wa(t){return typeof t=="function"}function T2(t){return typeof t=="boolean"}function D2(t){return t&&Wa(t.canLoad)}function A2(t){return t&&Wa(t.canActivate)}function S2(t){return t&&Wa(t.canActivateChild)}function R2(t){return t&&Wa(t.canDeactivate)}function x2(t){return t&&Wa(t.canMatch)}function gD(t){return t instanceof Zn||t?.name==="EmptyError"}var hd=Symbol("INITIAL_VALUE");function Ys(){return tt(t=>Yo(t.map(e=>e.pipe(tr(1),mp(hd)))).pipe($(e=>{for(let n of e)if(n!==!0){if(n===hd)return hd;if(n===!1||n instanceof jr)return n}return!0}),St(e=>e!==hd),tr(1)))}function M2(t,e){return ze(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?V(we(P({},n),{guardsResult:!0})):P2(o,r,i,t).pipe(ze(a=>a&&T2(a)?N2(r,s,t,e):V(a)),$(a=>we(P({},n),{guardsResult:a})))})}function P2(t,e,n,r){return fe(t).pipe(ze(i=>V2(i.component,i.route,n,e,r)),sn(i=>i!==!0,!0))}function N2(t,e,n,r){return fe(e).pipe(er(i=>ps(O2(i.route.parent,r),k2(i.route,r),L2(t,i.path,n),F2(t,i.route,n))),sn(i=>i!==!0,!0))}function k2(t,e){return t!==null&&e&&e(new ay(t)),V(!0)}function O2(t,e){return t!==null&&e&&e(new sy(t)),V(!0)}function F2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return V(!0);let i=r.map(s=>Bu(()=>{let o=Ga(e)??n,a=Js(s,o),c=A2(a)?a.canActivate(e,t):Mn(o,()=>a(e,t));return qr(c).pipe(sn())}));return V(i).pipe(Ys())}function L2(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>E2(o)).filter(o=>o!==null).map(o=>Bu(()=>{let a=o.guards.map(c=>{let u=Ga(o.node)??n,l=Js(c,u),d=S2(l)?l.canActivateChild(r,t):Mn(u,()=>l(r,t));return qr(d).pipe(sn())});return V(a).pipe(Ys())}));return V(s).pipe(Ys())}function V2(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return V(!0);let o=s.map(a=>{let c=Ga(e)??i,u=Js(a,c),l=R2(u)?u.canDeactivate(t,e,n,r):Mn(c,()=>u(t,e,n,r));return qr(l).pipe(sn())});return V(o).pipe(Ys())}function U2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return V(!0);let s=i.map(o=>{let a=Js(o,t),c=D2(a)?a.canLoad(e,n):Mn(t,()=>a(e,n));return qr(c)});return V(s).pipe(Ys(),mD(r))}function mD(t){return rp(Ne(e=>{if(Ks(e))throw hD(t,e)}),$(e=>e===!0))}function j2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return V(!0);let s=i.map(o=>{let a=Js(o,t),c=x2(a)?a.canMatch(e,n):Mn(t,()=>a(e,n));return qr(c)});return V(s).pipe(Ys(),mD(r))}var $a=class{constructor(e){this.segmentGroup=e||null}},bd=class extends Error{constructor(e){super(),this.urlTree=e}};function Hs(t){return fs(new $a(t))}function B2(t){return fs(new O(4e3,!1))}function $2(t){return fs(fD(!1,3))}var gy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return V(r);if(i.numberOfChildren>1||!i.children[K])return B2(e.redirectTo);i=i.children[K]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new bd(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new jr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new me(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},my={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function H2(t,e,n,r,i){let s=by(t,e,n);return s.matched?(r=v2(e,r),j2(r,e,n,i).pipe($(o=>o===!0?s:P({},my)))):V(s)}function by(t,e,n){if(e.path==="**")return q2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?P({},my):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||jV)(n,t,e);if(!i)return P({},my);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?P(P({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function q2(t){return{matched:!0,parameters:t.at(-1)?.parameters??{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function GT(t,e,n,r){return n.length>0&&W2(t,n,r)?{segmentGroup:new me(e,G2(r,new me(n,t.children))),slicedSegments:[]}:n.length===0&&K2(t,n,r)?{segmentGroup:new me(t.segments,z2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new me(t.segments,t.children),slicedSegments:n}}function z2(t,e,n,r){let i={};for(let s of n)if(Sd(t,e,s)&&!r[Fn(s)]){let o=new me([],{});i[Fn(s)]=o}return P(P({},r),i)}function G2(t,e){let n={};n[K]=e;for(let r of t)if(r.path===""&&Fn(r)!==K){let i=new me([],{});n[Fn(r)]=i}return n}function W2(t,e,n){return n.some(r=>Sd(t,e,r)&&Fn(r)!==K)}function K2(t,e,n){return n.some(r=>Sd(t,e,r))}function Sd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Q2(t,e,n,r){return Fn(t)!==r&&(r===K||!Sd(e,n,t))?!1:by(e,t,n).matched}function Y2(t,e,n){return e.length===0&&!t.children[n]}var yy=class{};function J2(t,e,n,r,i,s,o="emptyOnly"){return new vy(t,e,n,r,i,o,s).recognize()}var X2=31,vy=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new gy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}recognize(){let e=GT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe($(n=>{let r=new ja([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,{},K,this.rootComponentType,null,{}),i=new Bt(r,n),s=new Ed("",i),o=s2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,K).pipe(br(r=>{if(r instanceof bd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $a?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=wy(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe($(s=>s instanceof Bt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return fe(i).pipe(er(s=>{let o=r.children[s],a=_2(n,s);return this.processSegmentGroup(e,a,o,s)}),gp((s,o)=>(s.push(...o),s)),Tr(null),pp(),ze(s=>{if(s===null)return Hs(r);let o=yD(s);return Z2(o),V(o)}))}processSegment(e,n,r,i,s,o){return fe(n).pipe(er(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(br(c=>{if(c instanceof $a)return V(null);throw c}))),sn(a=>!!a),br(a=>{if(gD(a))return Y2(r,i,s)?V(new yy):Hs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return Q2(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Hs(i):Hs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=by(n,i,s);if(!a)return Hs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>X2&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(ze(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=H2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(tt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(tt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,f=new ja(l,h,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,tU(r),Fn(r),r.component??r._loadedComponent??null,r,nU(r)),{segmentGroup:g,slicedSegments:w}=GT(n,l,d,c);if(w.length===0&&g.hasChildren())return this.processChildren(u,c,g).pipe($(I=>I===null?null:new Bt(f,I)));if(c.length===0&&w.length===0)return V(new Bt(f,[]));let m=Fn(r)===s;return this.processSegment(u,c,g,w,m?K:s,!0).pipe($(I=>new Bt(f,I instanceof Bt?[I]:[])))}))):Hs(n)))}getChildConfig(e,n,r){return n.children?V({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?V({routes:n._loadedRoutes,injector:n._loadedInjector}):U2(e,n,r,this.urlSerializer).pipe(ze(i=>i?this.configLoader.loadChildren(e,n).pipe(Ne(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):$2(n))):V({routes:[],injector:e})}};function Z2(t){t.sort((e,n)=>e.value.outlet===K?-1:n.value.outlet===K?1:e.value.outlet.localeCompare(n.value.outlet))}function eU(t){let e=t.value.routeConfig;return e&&e.path===""}function yD(t){let e=[],n=new Set;for(let r of t){if(!eU(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=yD(r.children);e.push(new Bt(r.value,i))}return e.filter(r=>!n.has(r))}function tU(t){return t.data||{}}function nU(t){return t.resolve||{}}function rU(t,e,n,r,i,s){return ze(o=>J2(t,e,n,r,o.extractedUrl,i,s).pipe($(({state:a,tree:c})=>we(P({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function iU(t,e){return ze(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return V(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of vD(c))o.add(u);let a=0;return fe(o).pipe(er(c=>s.has(c)?sU(c,r,t,e):(c.data=wy(c,c.parent,t).resolve,V(void 0))),Ne(()=>a++),gs(1),ze(c=>a===o.size?V(n):Kt))})}function vD(t){let e=t.children.map(n=>vD(n)).flat();return[t,...e]}function sU(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!lD(i)&&(s[Ha]=i.title),oU(s,t,e,r).pipe($(o=>(t._resolvedData=o,t.data=wy(t,t.parent,n).resolve,null)))}function oU(t,e,n,r){let i=Qm(t);if(i.length===0)return V({});let s={};return fe(i).pipe(ze(o=>aU(t[o],e,n,r).pipe(sn(),Ne(a=>{s[o]=a}))),gs(1),fp(s),br(o=>gD(o)?Kt:fs(o)))}function aU(t,e,n,r){let i=Ga(e)??r,s=Js(t,i),o=s.resolve?s.resolve(e,n):Mn(i,()=>s(e,n));return qr(o)}function Wm(t){return tt(e=>{let n=t(e);return n?fe(n).pipe($(()=>e)):V(e)})}var _D=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===K);return i}getResolvedTitleForRoute(r){return r.data[Ha]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>C(cU))(),providedIn:"root"});let t=e;return t})(),cU=(()=>{let e=class e extends _D{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(b(Hm))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ka=new x("",{providedIn:"root",factory:()=>({})}),Td=new x("ROUTES"),Ty=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=C(Jl)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return V(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=qr(r.loadComponent()).pipe($(wD),Ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Dr(()=>{this.componentLoaders.delete(r)})),s=new us(i,()=>new Dt).pipe(cs());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return V({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=uU(i,this.compiler,r,this.onLoadEndListener).pipe(Dr(()=>{this.childrenLoaders.delete(i)})),a=new us(o,()=>new Dt).pipe(cs());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uU(t,e,n,r){return qr(t.loadChildren()).pipe($(wD),ze(i=>i instanceof la||Array.isArray(i)?V(i):fe(e.compileModuleAsync(i))),$(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Td,[],{optional:!0,self:!0}).flat()),{routes:o.map(Cy),injector:s}}))}function lU(t){return t&&typeof t=="object"&&"default"in t}function wD(t){return lU(t)?t.default:t}var Dy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>C(dU))(),providedIn:"root"});let t=e;return t})(),dU=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ID=new x(""),ED=new x("");function hU(t,e,n){let r=t.get(ED),i=t.get(it);return t.get(ee).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),fU(t))),{onViewTransitionCreated:c}=r;return c&&Mn(t,()=>c({transition:a,from:e,to:n})),o})}function fU(t){return new Promise(e=>{cm(e,{injector:t})})}var Ay=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Dt,this.transitionAbortSubject=new Dt,this.configLoader=C(Ty),this.environmentInjector=C(_t),this.urlSerializer=C(qa),this.rootContexts=C(za),this.location=C(Us),this.inputBindingEnabled=C(Ad,{optional:!0})!==null,this.titleStrategy=C(_D),this.options=C(Ka,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=C(Dy),this.createViewTransition=C(ID,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null;let r=s=>this.events.next(new ry(s)),i=s=>this.events.next(new iy(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(we(P(P({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new he({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Na,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(St(o=>o.id!==0),$(o=>we(P({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),tt(o=>{this.currentTransition=o;let a=!1,c=!1;return V(o).pipe(Ne(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?we(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),tt(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new $r(u.id,this.urlSerializer.serialize(u.rawUrl),h,0)),u.resolve(null),Kt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return V(u).pipe(tt(h=>{let f=this.transitions?.getValue();return this.events.next(new Qs(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Kt:Promise.resolve(h)}),rU(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ne(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=we(P({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new vd(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:f,source:g,restoredState:w,extras:m}=u,I=new Qs(h,this.urlSerializer.serialize(f),g,w);this.events.next(I);let F=cD(this.rootComponentType).snapshot;return this.currentTransition=o=we(P({},u),{targetSnapshot:F,urlAfterRedirects:f,extras:we(P({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,V(o)}else{let h="";return this.events.next(new $r(u.id,this.urlSerializer.serialize(u.extractedUrl),h,1)),u.resolve(null),Kt}}),Ne(u=>{let l=new Zm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),$(u=>(this.currentTransition=o=we(P({},u),{guards:I2(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),M2(this.environmentInjector,u=>this.events.next(u)),Ne(u=>{if(o.guardsResult=u.guardsResult,Ks(u.guardsResult))throw hD(this.urlSerializer,u.guardsResult);let l=new ey(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),St(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",3),!1)),Wm(u=>{if(u.guards.canActivateChecks.length)return V(u).pipe(Ne(l=>{let d=new ty(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),tt(l=>{let d=!1;return V(l).pipe(iU(this.paramsInheritanceStrategy,this.environmentInjector),Ne({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),Ne(l=>{let d=new ny(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Wm(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ne(f=>{d.component=f}),$(()=>{})));for(let f of d.children)h.push(...l(f));return h};return Yo(l(u.targetSnapshot.root)).pipe(Tr(null),tr(1))}),Wm(()=>this.afterPreactivation()),tt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?fe(d).pipe($(()=>o)):V(o)}),$(u=>{let l=f2(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=we(P({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ne(()=>{this.events.next(new Va)}),w2(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),tr(1),Ne({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),yp(this.transitionAbortSubject.pipe(Ne(u=>{throw u}))),Dr(()=>{if(!a&&!c){let u="";this.cancelNavigationTransition(o,u,1)}this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),br(u=>{if(c=!0,pD(u))this.events.next(new Br(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),m2(u)?this.events.next(new Ua(u.url)):o.resolve(!1);else{this.events.next(new La(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){o.reject(l)}}return Kt}))}))}cancelNavigationTransition(r,i,s){let o=new Br(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pU(t){return t!==Na}var gU=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>C(mU))(),providedIn:"root"});let t=e;return t})(),_y=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},mU=(()=>{let e=class e extends _y{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=kr(e)))(s||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>(()=>C(yU))(),providedIn:"root"});let t=e;return t})(),yU=(()=>{let e=class e extends CD{constructor(){super(...arguments),this.location=C(Us),this.urlSerializer=C(qa),this.options=C(Ka,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=C(Dy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new jr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=cD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Qs)this.stateMemento=this.createStateMemento();else if(r instanceof $r)this.rawUrlTree=i.initialUrl;else if(r instanceof vd){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Va?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Br&&(r.code===3||r.code===2)?this.restoreHistory(i):r instanceof La?this.restoreHistory(i,!0):r instanceof hn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=P(P({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=P(P({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=kr(e)))(s||e)}})(),e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ma=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ma||{});function bD(t,e){t.events.pipe(St(n=>n instanceof hn||n instanceof Br||n instanceof La||n instanceof $r),$(n=>n instanceof hn||n instanceof $r?Ma.COMPLETE:(n instanceof Br?n.code===0||n.code===1:!1)?Ma.REDIRECTING:Ma.FAILED),St(n=>n!==Ma.REDIRECTING),tr(1)).subscribe(()=>{e()})}function vU(t){throw t}var _U={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Se=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=C(Yl),this.stateManager=C(CD),this.options=C(Ka,{optional:!0})||{},this.pendingTasks=C(bi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=C(Ay),this.urlSerializer=C(qa),this.location=C(Us),this.urlHandlingStrategy=C(Dy),this._events=new Dt,this.errorHandler=this.options.errorHandler||vU,this.navigated=!1,this.routeReuseStrategy=C(gU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=C(Td,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!C(Ad,{optional:!0}),this.eventsSubscription=new Be,this.isNgZoneEnabled=C(ee)instanceof ee&&ee.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Br&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof hn)this.navigated=!0;else if(i instanceof Ua){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||pU(s.source)};this.scheduleNavigation(a,Na,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}EU(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Na,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)}))}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=P({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Cy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=iD(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return sD(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ks(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Na,null,i)}navigate(r,i={skipLocationChange:!1}){return IU(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=P({},_U):i===!1?s=P({},wU):s=i,Ks(r))return BT(this.currentUrlTree,r,s);let o=this.parseUrl(r);return BT(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,f)=>{c=h,u=f});let d=this.pendingTasks.add();return bD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new O(4008,!1)}function EU(t){return!(t instanceof Va)&&!(t instanceof Ua)}var Hr=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Dt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof hn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:jC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(T(Se),T(fn),Bg("tabindex"),T(Or),T(Jt),T(hr))},e.\u0275dir=Ge({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&re("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ks("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",lr],skipLocationChange:["skipLocationChange","skipLocationChange",lr],replaceUrl:["replaceUrl","replaceUrl",lr],routerLink:"routerLink"},standalone:!0,features:[dm,cr]});let t=e;return t})(),Xs=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Fe,this.routerEventsSubscription=r.events.subscribe(c=>{c instanceof hn&&this.update()})}ngAfterContentInit(){V(this.links.changes,V(null)).pipe(Cr()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=fe(r).pipe(Cr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=CU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>s.urlTree?r.isActive(s.urlTree,i):!1}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(T(Se),T(Jt),T(Or),T(Fr),T(Hr,8))},e.\u0275dir=Ge({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&Bb(o,Hr,5),i&2){let a;Os(a=Fs())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[cr]});let t=e;return t})();function CU(t){return!!t.paths}var Dd=class{};var bU=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(St(r=>r instanceof hn),er(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Wl(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return fe(s).pipe(Cr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=V(null);let o=s.pipe(ze(a=>a===null?V(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return fe([o,a]).pipe(Cr())}else return o})}};e.\u0275fac=function(i){return new(i||e)(b(Se),b(Jl),b(_t),b(Dd),b(Ty))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TD=new x(""),TU=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Qs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof hn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof $r&&r.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof _d&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _d(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){rb()},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function DU(t){return t.routerState.root}function Qa(t,e){return{\u0275kind:t,\u0275providers:e}}function AU(){let t=C(nt);return e=>{let n=t.get(ur);if(e!==n.components[0])return;let r=t.get(Se),i=t.get(DD);t.get(Sy)===1&&r.initialNavigation(),t.get(AD,null,Z.Optional)?.setUpPreloading(),t.get(TD,null,Z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var DD=new x("",{factory:()=>new Dt}),Sy=new x("",{providedIn:"root",factory:()=>1});function SU(){return Qa(2,[{provide:Sy,useValue:0},{provide:ed,multi:!0,deps:[nt],useFactory:e=>{let n=e.get(oT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Se),s=e.get(DD);bD(i,()=>{r(!0)}),e.get(Ay).afterPreactivation=()=>(r(!0),s.closed?V(void 0):s),i.initialNavigation()}))}}])}function RU(){return Qa(3,[{provide:ed,multi:!0,useFactory:()=>{let e=C(Se);return()=>{e.setUpLocationChangeListener()}}},{provide:Sy,useValue:2}])}var AD=new x("");function xU(t){return Qa(0,[{provide:AD,useExisting:bU},{provide:Dd,useExisting:t}])}function MU(){return Qa(8,[zT,{provide:Ad,useExisting:zT}])}function PU(t){let e=[{provide:ID,useValue:hU},{provide:ED,useValue:P({skipNextTransition:!!t?.skipInitialTransition},t)}];return Qa(9,e)}var WT=new x("ROUTER_FORROOT_GUARD"),NU=[Us,{provide:qa,useClass:Oa},Se,za,{provide:fn,useFactory:DU,deps:[Se]},Ty,[]],Ya=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[NU,[],{provide:Td,multi:!0,useValue:r},{provide:WT,useFactory:LU,deps:[[Se,new Pt,new Hg]]},{provide:Ka,useValue:i||{}},i?.useHash?OU():FU(),kU(),i?.preloadingStrategy?xU(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?VU(i):[],i?.bindToComponentInputs?MU().\u0275providers:[],i?.enableViewTransitions?PU().\u0275providers:[],UU()]}}static forChild(r){return{ngModule:e,providers:[{provide:Td,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(b(WT,8))},e.\u0275mod=Ce({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function kU(){return{provide:TD,useFactory:()=>{let t=C(uT),e=C(ee),n=C(Ka),r=C(Ay),i=C(qa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new TU(i,r,t,e,n)}}}function OU(){return{provide:hr,useClass:cT}}function FU(){return{provide:hr,useClass:Am}}function LU(t){return"guarded"}function VU(t){return[t.initialNavigation==="disabled"?RU().\u0275providers:[],t.initialNavigation==="enabledBlocking"?SU().\u0275providers:[]]}var KT=new x("");function UU(){return[{provide:KT,useFactory:AU},{provide:Ls,multi:!0,useExisting:KT}]}var kt=(()=>{let e=class e{constructor(){this.behaviourSubject=new he("English")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Jy={};vP(Jy,{FirebaseError:()=>It,SDK_VERSION:()=>gn,_DEFAULT_ENTRY_NAME:()=>Vn,_addComponent:()=>tc,_addOrOverwriteComponent:()=>Yy,_apps:()=>zr,_clearComponents:()=>Vj,_components:()=>Za,_getProvider:()=>Mi,_registerComponent:()=>lt,_removeServiceInstance:()=>ZD,deleteApp:()=>Od,getApp:()=>Gr,getApps:()=>nc,initializeApp:()=>to,onLog:()=>Fd,registerVersion:()=>ye,setLogLevel:()=>Ld});var RD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Rd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),r.push(n[l],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new xy;let h=s<<2|a>>4;if(r.push(h),u!==64){let f=a<<4&240|u>>2;if(r.push(f),d!==64){let g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},xy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},BU=function(t){let e=RD(t);return Rd.encodeByteArray(e,!0)},Ja=function(t){return BU(t).replace(/\./g,"")},Py=function(t){try{return Rd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Xa(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!$U(n)||(t[n]=Xa(t[n],e[n]));return t}function $U(t){return t!=="__proto__"}function xD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var HU=()=>xD().__FIREBASE_DEFAULTS__,qU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Py(t[1]);return e&&JSON.parse(e)},xd=()=>{try{return HU()||qU()||zU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MD=t=>{var e,n;return(n=(e=xd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ny=t=>{let e=MD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ky=()=>{var t;return(t=xd())===null||t===void 0?void 0:t.config},PD=t=>{var e;return(e=xd())===null||e===void 0?void 0:e[`_${t}`]};var Si=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Md(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ja(JSON.stringify(n)),Ja(JSON.stringify(o)),a].join(".")}function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ND(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function GU(){var t;let e=(t=xd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kD(){return typeof self=="object"&&self.self===self}function OD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LD(){return!GU()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zs(){try{return typeof indexedDB=="object"}catch{return!1}}function VD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var WU="FirebaseError",It=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ot.prototype.create)}},Ot=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?KU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new It(i,a,r)}};function KU(t,e){return t.replace(QU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var QU=/\{\$([^}]+)}/g;function Oy(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function eo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(SD(s)&&SD(o)){if(!eo(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function SD(t){return t!==null&&typeof t=="object"}function Fy(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pd(t,e){let n=new My(t,e);return n.subscribe.bind(n)}var My=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ry),i.error===void 0&&(i.error=Ry),i.complete===void 0&&(i.complete=Ry);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function YU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ry(){}var uY=4*60*60*1e3;function Re(t){return t&&t._delegate?t._delegate:t}var He=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ri="[DEFAULT]";var Ly=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Si;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XU(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JU(t){return t===Ri?void 0:t}function XU(t){return t.instantiationMode==="EAGER"}var Nd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ly(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Vy=[],ie=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ie||{}),UD={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},ZU=ie.INFO,ej={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},tj=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=ej[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Zt=class{constructor(e){this.name=e,this._logLevel=ZU,this._logHandler=tj,this._userLogHandler=null,Vy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}};function jD(t){Vy.forEach(e=>{e.setLogLevel(t)})}function BD(t,e){for(let n of Vy){let r=null;e&&e.level&&(r=UD[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{let a=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");s>=(r??i.logLevel)&&t({level:ie[s].toLowerCase(),message:a,args:o,type:i.name})}}}var nj=(t,e)=>e.some(n=>t instanceof n),$D,HD;function rj(){return $D||($D=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ij(){return HD||(HD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var qD=new WeakMap,jy=new WeakMap,zD=new WeakMap,Uy=new WeakMap,$y=new WeakMap;function sj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ln(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qD.set(n,t)}).catch(()=>{}),$y.set(e,t),e}function oj(t){if(jy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jy.set(t,e)}var By={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ln(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function GD(t){By=t(By)}function aj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(kd(this),e,...n);return zD.set(r,e.sort?e.sort():[e]),Ln(r)}:ij().includes(t)?function(...e){return t.apply(kd(this),e),Ln(qD.get(this))}:function(...e){return Ln(t.apply(kd(this),e))}}function cj(t){return typeof t=="function"?aj(t):(t instanceof IDBTransaction&&oj(t),nj(t,rj())?new Proxy(t,By):t)}function Ln(t){if(t instanceof IDBRequest)return sj(t);if(Uy.has(t))return Uy.get(t);let e=cj(t);return e!==t&&(Uy.set(t,e),$y.set(e,t)),e}var kd=t=>$y.get(t);function KD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Ln(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ln(o.result),c.oldVersion,c.newVersion,Ln(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var uj=["get","getKey","getAll","getAllKeys","count"],lj=["put","add","delete","clear"],Hy=new Map;function WD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hy.get(e))return Hy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=lj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uj.includes(n)))return;let s=function(o,...a){return p(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Hy.set(e,s),s}GD(t=>we(P({},t),{get:(e,n,r)=>WD(e,n)||t.get(e,n,r),has:(e,n)=>!!WD(e,n)||t.has(e,n)}));var zy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function dj(t){let e=t.getComponent();return e?.type==="VERSION"}var Gy="@firebase/app",QD="0.9.26";var xi=new Zt("@firebase/app"),hj="@firebase/app-compat",fj="@firebase/analytics-compat",pj="@firebase/analytics",gj="@firebase/app-check-compat",mj="@firebase/app-check",yj="@firebase/auth",vj="@firebase/auth-compat",_j="@firebase/database",wj="@firebase/database-compat",Ij="@firebase/functions",Ej="@firebase/functions-compat",Cj="@firebase/installations",bj="@firebase/installations-compat",Tj="@firebase/messaging",Dj="@firebase/messaging-compat",Aj="@firebase/performance",Sj="@firebase/performance-compat",Rj="@firebase/remote-config",xj="@firebase/remote-config-compat",Mj="@firebase/storage",Pj="@firebase/storage-compat",Nj="@firebase/firestore",kj="@firebase/firestore-compat",Oj="firebase",Fj="10.7.2";var Vn="[DEFAULT]",Lj={[Gy]:"fire-core",[hj]:"fire-core-compat",[pj]:"fire-analytics",[fj]:"fire-analytics-compat",[mj]:"fire-app-check",[gj]:"fire-app-check-compat",[yj]:"fire-auth",[vj]:"fire-auth-compat",[_j]:"fire-rtdb",[wj]:"fire-rtdb-compat",[Ij]:"fire-fn",[Ej]:"fire-fn-compat",[Cj]:"fire-iid",[bj]:"fire-iid-compat",[Tj]:"fire-fcm",[Dj]:"fire-fcm-compat",[Aj]:"fire-perf",[Sj]:"fire-perf-compat",[Rj]:"fire-rc",[xj]:"fire-rc-compat",[Mj]:"fire-gcs",[Pj]:"fire-gcs-compat",[Nj]:"fire-fst",[kj]:"fire-fst-compat","fire-js":"fire-js",[Oj]:"fire-js-all"};var zr=new Map,Za=new Map;function tc(t,e){try{t.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yy(t,e){t.container.addOrOverwriteComponent(e)}function lt(t){let e=t.name;if(Za.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Za.set(e,t);for(let n of zr.values())tc(n,t);return!0}function Mi(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ZD(t,e,n=Vn){Mi(t,e).clearInstance(n)}function Vj(){Za.clear()}var Uj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},pr=new Ot("app","Firebase",Uj);var Wy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new He("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}};var gn=Fj;function to(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Vn,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pr.create("bad-app-name",{appName:String(i)});if(n||(n=ky()),!n)throw pr.create("no-options");let s=zr.get(i);if(s){if(eo(n,s.options)&&eo(r,s.config))return s;throw pr.create("duplicate-app",{appName:i})}let o=new Nd(i);for(let c of Za.values())o.addComponent(c);let a=new Wy(n,r,o);return zr.set(i,a),a}function Gr(t=Vn){let e=zr.get(t);if(!e&&t===Vn&&ky())return to();if(!e)throw pr.create("no-app",{appName:t});return e}function nc(){return Array.from(zr.values())}function Od(t){return p(this,null,function*(){let e=t.name;zr.has(e)&&(zr.delete(e),yield Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)})}function ye(t,e,n){var r;let i=(r=Lj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(a.join(" "));return}lt(new He(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Fd(t,e){if(t!==null&&typeof t!="function")throw pr.create("invalid-log-argument");BD(t,e)}function Ld(t){jD(t)}var jj="firebase-heartbeat-database",Bj=1,ec="firebase-heartbeat-store",qy=null;function eA(){return qy||(qy=KD(jj,Bj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw pr.create("idb-open",{originalErrorMessage:t.message})})),qy}function $j(t){return p(this,null,function*(){try{return yield(yield eA()).transaction(ec).objectStore(ec).get(tA(t))}catch(e){if(e instanceof It)xi.warn(e.message);else{let n=pr.create("idb-get",{originalErrorMessage:e?.message});xi.warn(n.message)}}})}function YD(t,e){return p(this,null,function*(){try{let r=(yield eA()).transaction(ec,"readwrite");yield r.objectStore(ec).put(e,tA(t)),yield r.done}catch(n){if(n instanceof It)xi.warn(n.message);else{let r=pr.create("idb-set",{originalErrorMessage:n?.message});xi.warn(r.message)}}})}function tA(t){return`${t.name}!${t.options.appId}`}var Hj=1024,qj=30*24*60*60*1e3,Ky=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Qy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=JD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=qj}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return p(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=JD(),{heartbeatsToSend:r,unsentEntries:i}=zj(this._heartbeatsCache.heartbeats),s=Ja(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function JD(){return new Date().toISOString().substring(0,10)}function zj(t,e=Hj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),XD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Qy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return Zs()?VD().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield $j(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return YD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return YD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function XD(t){return Ja(JSON.stringify({version:2,heartbeats:t})).length}function Gj(t){lt(new He("platform-logger",e=>new zy(e),"PRIVATE")),lt(new He("heartbeat",e=>new Ky(e),"PRIVATE")),ye(Gy,QD,t),ye(Gy,QD,"esm2017"),ye("fire-js","")}Gj("");var Wj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yn={},S,_v=_v||{},q=Wj||self;function Jd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function mc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Kj(t){return Object.prototype.hasOwnProperty.call(t,Xy)&&t[Xy]||(t[Xy]=++Qj)}var Xy="closure_uid_"+(1e9*Math.random()>>>0),Qj=0;function Yj(t,e,n){return t.call.apply(t.bind,arguments)}function Jj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dt=Yj:dt=Jj,dt.apply(null,arguments)}function Vd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ze(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Wr(){this.s=this.s,this.o=this.o}var Xj=0;Wr.prototype.s=!1;Wr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Xj!=0)&&Kj(this)};Wr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var pA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function wv(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function nA(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Jd(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var Zj=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};q.addEventListener("test",n,e),q.removeEventListener("test",n,e)}catch{}return t}();function cc(t){return/^[\s\xa0]*$/.test(t)}function Xd(){var t=q.navigator;return t&&(t=t.userAgent)?t:""}function Un(t){return Xd().indexOf(t)!=-1}function Iv(t){return Iv[" "](t),t}Iv[" "]=function(){};function eB(t,e){var n=$B;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var tB=Un("Opera"),so=Un("Trident")||Un("MSIE"),gA=Un("Edge"),rv=gA||so,mA=Un("Gecko")&&!(Xd().toLowerCase().indexOf("webkit")!=-1&&!Un("Edge"))&&!(Un("Trident")||Un("MSIE"))&&!Un("Edge"),nB=Xd().toLowerCase().indexOf("webkit")!=-1&&!Un("Edge");function yA(){var t=q.document;return t?t.documentMode:void 0}var iv;e:{if(Ud="",jd=function(){var t=Xd();if(mA)return/rv:([^\);]+)(\)|;)/.exec(t);if(gA)return/Edge\/([\d\.]+)/.exec(t);if(so)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(nB)return/WebKit\/(\S+)/.exec(t);if(tB)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),jd&&(Ud=jd?jd[1]:""),so&&(Bd=yA(),Bd!=null&&Bd>parseFloat(Ud))){iv=String(Bd);break e}iv=Ud}var Ud,jd,Bd,sv;q.document&&so?(Zy=yA(),sv=Zy||parseInt(iv,10)||void 0):sv=void 0;var Zy,rB=sv;function uc(t,e){if(ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(mA){e:{try{Iv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:iB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&uc.$.h.call(this)}}Ze(uc,ht);var iB={2:"touch",3:"pen",4:"mouse"};uc.prototype.h=function(){uc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yc="closure_listenable_"+(1e6*Math.random()|0),sB=0;function oB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++sB,this.fa=this.ia=!1}function Zd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ev(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function aB(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function vA(t){let e={};for(let n in t)e[n]=t[n];return e}var rA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _A(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<rA.length;s++)n=rA[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function eh(t){this.src=t,this.g={},this.h=0}eh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=av(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new oB(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function ov(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=pA(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Zd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function av(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Cv="closure_lm_"+(1e6*Math.random()|0),ev={};function wA(t,e,n,r,i){if(r&&r.once)return EA(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)wA(t,e[s],n,r,i);return null}return n=Dv(n),t&&t[yc]?t.O(e,n,mc(r)?!!r.capture:!!r,i):IA(t,e,n,!1,r,i)}function IA(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=mc(i)?!!i.capture:!!i,a=Tv(t);if(a||(t[Cv]=a=new eh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=cB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Zj||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cB(){function t(n){return e.call(t.src,t.listener,n)}let e=uB;return t}function EA(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)EA(t,e[s],n,r,i);return null}return n=Dv(n),t&&t[yc]?t.P(e,n,mc(r)?!!r.capture:!!r,i):IA(t,e,n,!0,r,i)}function CA(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)CA(t,e[s],n,r,i);else r=mc(r)?!!r.capture:!!r,n=Dv(n),t&&t[yc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=av(s,n,r,i),-1<n&&(Zd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Tv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=av(e,n,r,i)),(n=-1<t?e[t]:null)&&bv(n))}function bv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[yc])ov(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tv(e))?(ov(n,t),n.h==0&&(n.src=null,e[Cv]=null)):Zd(t)}}}function bA(t){return t in ev?ev[t]:ev[t]="on"+t}function uB(t,e){if(t.fa)t=!0;else{e=new uc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&bv(t),t=n.call(r,e)}return t}function Tv(t){return t=t[Cv],t instanceof eh?t:null}var tv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dv(t){return typeof t=="function"?t:(t[tv]||(t[tv]=function(e){return t.handleEvent(e)}),t[tv])}function Xe(){Wr.call(this),this.i=new eh(this),this.S=this,this.J=null}Ze(Xe,Wr);Xe.prototype[yc]=!0;Xe.prototype.removeEventListener=function(t,e,n,r){CA(this,t,e,n,r)};function ot(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ht(e,t);else if(e instanceof ht)e.target=e.target||t;else{var i=e;e=new ht(r,t),_A(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=$d(o,r,!0,e)&&i}if(o=e.g=t,i=$d(o,r,!0,e)&&i,i=$d(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=$d(o,r,!1,e)&&i}Xe.prototype.N=function(){if(Xe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zd(n[r]);delete t.g[e],t.h--}}this.J=null};Xe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Xe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function $d(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&ov(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Av=q.JSON.stringify,cv=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function lB(){var t=Sv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var uv=class{constructor(){this.h=this.g=null}add(e,n){let r=TA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},TA=new cv(()=>new lv,t=>t.reset()),lv=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function dB(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function hB(t){q.setTimeout(()=>{throw t},0)}var lc,dc=!1,Sv=new uv,DA=()=>{let t=q.Promise.resolve(void 0);lc=()=>{t.then(fB)}},fB=()=>{for(var t;t=lB();){try{t.h.call(t.g)}catch(n){hB(n)}var e=TA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}dc=!1};function th(t,e){Xe.call(this),this.h=t||1,this.g=e||q,this.j=dt(this.qb,this),this.l=Date.now()}Ze(th,Xe);S=th.prototype;S.ga=!1;S.T=null;S.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ot(this,"tick"),this.ga&&(Rv(this),this.start()))}};S.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Rv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}S.N=function(){th.$.N.call(this),Rv(this),delete this.g};function xv(t,e,n){if(typeof t=="function")n&&(t=dt(t,n));else if(t&&typeof t.handleEvent=="function")t=dt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:q.setTimeout(t,e||0)}function AA(t){t.g=xv(()=>{t.g=null,t.i&&(t.i=!1,AA(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var dv=class extends Wr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:AA(this)}N(){super.N(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function hc(t){Wr.call(this),this.h=t,this.g={}}Ze(hc,Wr);var iA=[];function SA(t,e,n,r){Array.isArray(n)||(n&&(iA[0]=n.toString()),n=iA);for(var i=0;i<n.length;i++){var s=wA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function RA(t){Ev(t.g,function(e,n){this.g.hasOwnProperty(n)&&bv(e)},t),t.g={}}hc.prototype.N=function(){hc.$.N.call(this),RA(this)};hc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function nh(){this.g=!0}nh.prototype.Ea=function(){this.g=!1};function pB(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function gB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ro(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+yB(t,n)+(r?" "+r:"")})}function mB(t,e){t.info(function(){return"TIMEOUT: "+e})}nh.prototype.info=function(){};function yB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Av(n)}catch{return e}}var Oi={},sA=null;function rh(){return sA=sA||new Xe}Oi.Ta="serverreachability";function xA(t){ht.call(this,Oi.Ta,t)}Ze(xA,ht);function fc(t){let e=rh();ot(e,new xA(e))}Oi.STAT_EVENT="statevent";function MA(t,e){ht.call(this,Oi.STAT_EVENT,t),this.stat=e}Ze(MA,ht);function Et(t){let e=rh();ot(e,new MA(e,t))}Oi.Ua="timingevent";function PA(t,e){ht.call(this,Oi.Ua,t),this.size=e}Ze(PA,ht);function vc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){t()},e)}var ih={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},NA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mv(){}Mv.prototype.h=null;function oA(t){return t.h||(t.h=t.i())}function kA(){}var _c={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Pv(){ht.call(this,"d")}Ze(Pv,ht);function Nv(){ht.call(this,"c")}Ze(Nv,ht);var hv;function sh(){}Ze(sh,Mv);sh.prototype.g=function(){return new XMLHttpRequest};sh.prototype.i=function(){return{}};hv=new sh;function wc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new hc(this),this.P=vB,t=rv?125:void 0,this.V=new th(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new OA}function OA(){this.i=null,this.g="",this.h=!1}var vB=45e3,FA={},fv={};S=wc.prototype;S.setTimeout=function(t){this.P=t};function pv(t,e,n){t.L=1,t.A=ah(mr(e)),t.u=n,t.S=!0,LA(t,null)}function LA(t,e){t.G=Date.now(),Ic(t),t.B=mr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),zA(n.i,"t",r),t.o=0,n=t.l.J,t.h=new OA,t.g=hS(t.l,n?e:null,!t.u),0<t.O&&(t.M=new dv(dt(t.Pa,t,t.g),t.O)),SA(t.U,t.g,"readystatechange",t.nb),e=t.I?vA(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),fc(),pB(t.j,t.v,t.B,t.m,t.W,t.u)}S.nb=function(t){t=t.target;let e=this.M;e&&jn(t)==3?e.l():this.Pa(t)};S.Pa=function(t){try{if(t==this.g)e:{let l=jn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||rv||this.g&&(this.h.h||this.g.ja()||lA(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?fc(3):fc(2)),oh(this);var n=this.g.da();this.ca=n;t:if(VA(this)){var r=lA(this.g);t="";var i=r.length,s=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),ac(this);var o="";break t}this.h.i=new q.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,gB(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cc(a)){var u=a;break t}}u=null}if(n=u)ro(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gv(this,n);else{this.i=!1,this.s=3,Et(12),Pi(this),ac(this);break e}}this.S?(UA(this,l,o),rv&&this.i&&l==3&&(SA(this.U,this.V,"tick",this.mb),this.V.start())):(ro(this.j,this.m,o,null),gv(this,o)),l==4&&Pi(this),this.i&&!this.J&&(l==4?cS(this.l,this):(this.i=!1,Ic(this)))}else UB(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Pi(this),ac(this)}}}catch{}finally{}};function VA(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function UA(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=_B(t,n),i==fv){e==4&&(t.s=4,Et(14),r=!1),ro(t.j,t.m,null,"[Incomplete Response]");break}else if(i==FA){t.s=4,Et(15),ro(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ro(t.j,t.m,i,null),gv(t,i);VA(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Et(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Uv(e),e.M=!0,Et(11))):(ro(t.j,t.m,n,"[Invalid Chunked Response]"),Pi(t),ac(t))}S.mb=function(){if(this.g){var t=jn(this.g),e=this.g.ja();this.o<e.length&&(oh(this),UA(this,t,e),this.i&&t!=4&&Ic(this))}};function _B(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?fv:(n=Number(e.substring(n,r)),isNaN(n)?FA:(r+=1,r+n>e.length?fv:(e=e.slice(r,r+n),t.o=r+n,e)))}S.cancel=function(){this.J=!0,Pi(this)};function Ic(t){t.Y=Date.now()+t.P,jA(t,t.P)}function jA(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=vc(dt(t.lb,t),e)}function oh(t){t.C&&(q.clearTimeout(t.C),t.C=null)}S.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(mB(this.j,this.B),this.L!=2&&(fc(),Et(17)),Pi(this),this.s=2,ac(this)):jA(this,this.Y-t)};function ac(t){t.l.H==0||t.J||cS(t.l,t)}function Pi(t){oh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Rv(t.V),RA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function gv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||mv(n.i,t))){if(!t.K&&mv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Wd(n),lh(n);else break e;Vv(n),Et(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=vc(dt(n.ib,n),6e3));if(1>=KA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ni(n,11)}else if((t.K||n.g==t)&&Wd(n),!cc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(kv(s,s.h),s.h=null))}if(r.F){let w=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,xe(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=dS(r,r.J?r.pa:null,r.Y),o.K){QA(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(oh(a),Ic(a)),r.g=o}else oS(r);0<n.j.length&&dh(n)}else u[0]!="stop"&&u[0]!="close"||Ni(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ni(n,7):Lv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}fc(4)}catch{}}function wB(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Jd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function IB(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Jd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function BA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Jd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=IB(t),r=wB(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var $A=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ki(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ki){this.h=t.h,zd(this,t.j),this.s=t.s,this.g=t.g,Gd(this,t.m),this.l=t.l;var e=t.i,n=new pc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),aA(this,n),this.o=t.o}else t&&(e=String(t).match($A))?(this.h=!1,zd(this,e[1]||"",!0),this.s=sc(e[2]||""),this.g=sc(e[3]||"",!0),Gd(this,e[4]),this.l=sc(e[5]||"",!0),aA(this,e[6]||"",!0),this.o=sc(e[7]||"")):(this.h=!1,this.i=new pc(null,this.h))}ki.prototype.toString=function(){var t=[],e=this.j;e&&t.push(oc(e,cA,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(oc(e,cA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(oc(n,n.charAt(0)=="/"?TB:bB,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",oc(n,AB)),t.join("")};function mr(t){return new ki(t)}function zd(t,e,n){t.j=n?sc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Gd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function aA(t,e,n){e instanceof pc?(t.i=e,SB(t.i,t.h)):(n||(e=oc(e,DB)),t.i=new pc(e,t.h))}function xe(t,e,n){t.i.set(e,n)}function ah(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function sc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,CB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function CB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var cA=/[#\/\?@]/g,bB=/[#\?:]/g,TB=/[#\?]/g,DB=/[#\?@]/g,AB=/#/g;function pc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Kr(t){t.g||(t.g=new Map,t.h=0,t.i&&EB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}S=pc.prototype;S.add=function(t,e){Kr(this),this.i=null,t=oo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function HA(t,e){Kr(t),e=oo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function qA(t,e){return Kr(t),e=oo(t,e),t.g.has(e)}S.forEach=function(t,e){Kr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};S.ta=function(){Kr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};S.Z=function(t){Kr(this);let e=[];if(typeof t=="string")qA(this,t)&&(e=e.concat(this.g.get(oo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};S.set=function(t,e){return Kr(this),this.i=null,t=oo(this,t),qA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};S.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function zA(t,e,n){HA(t,e),0<n.length&&(t.i=null,t.g.set(oo(t,e),wv(n)),t.h+=n.length)}S.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function oo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function SB(t,e){e&&!t.j&&(Kr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(HA(this,r),zA(this,i,n))},t)),t.j=e}var RB=class{constructor(t,e){this.g=t,this.map=e}};function GA(t){this.l=t||xB,q.PerformanceNavigationTiming?(t=q.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(q.g&&q.g.Ka&&q.g.Ka()&&q.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xB=10;function WA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function KA(t){return t.h?1:t.g?t.g.size:0}function mv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function kv(t,e){t.g?t.g.add(e):t.h=e}function QA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}GA.prototype.cancel=function(){if(this.i=YA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function YA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return wv(t.i)}var MB=class{stringify(t){return q.JSON.stringify(t,void 0)}parse(t){return q.JSON.parse(t,void 0)}};function PB(){this.g=new MB}function NB(t,e,n){let r=n||"";try{BA(t,function(i,s){let o=i;mc(i)&&(o=Av(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kB(t,e){let n=new nh;if(q.Image){let r=new Image;r.onload=Vd(Hd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Vd(Hd,n,r,"TestLoadImage: error",!1,e),r.onabort=Vd(Hd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vd(Hd,n,r,"TestLoadImage: timeout",!1,e),q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Hd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ec(t){this.l=t.ec||null,this.j=t.ob||!1}Ze(Ec,Mv);Ec.prototype.g=function(){return new ch(this.l,this.j)};Ec.prototype.i=function(t){return function(){return t}}({});function ch(t,e){Xe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ov,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ze(ch,Xe);var Ov=0;S=ch.prototype;S.open=function(t,e){if(this.readyState!=Ov)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,gc(this)};S.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};S.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cc(this)),this.readyState=Ov};S.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,gc(this)),this.g&&(this.readyState=3,gc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof q.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function JA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}S.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cc(this):gc(this),this.readyState==3&&JA(this)}};S.Za=function(t){this.g&&(this.response=this.responseText=t,Cc(this))};S.Ya=function(t){this.g&&(this.response=t,Cc(this))};S.ka=function(){this.g&&Cc(this)};function Cc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,gc(t)}S.setRequestHeader=function(t,e){this.v.append(t,e)};S.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};S.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function gc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ch.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var OB=q.JSON.parse;function Ve(t){Xe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=XA,this.L=this.M=!1}Ze(Ve,Xe);var XA="",FB=/^https?$/i,LB=["POST","PUT"];S=Ve.prototype;S.Oa=function(t){this.M=t};S.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hv.g(),this.C=this.u?oA(this.u):oA(hv),this.g.onreadystatechange=dt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){uA(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=q.FormData&&t instanceof q.FormData,!(0<=pA(LB,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tS(this),0<this.B&&((this.L=VB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dt(this.ua,this)):this.A=xv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){uA(this,s)}};function VB(t){return so&&typeof t.timeout=="number"&&t.ontimeout!==void 0}S.ua=function(){typeof _v<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ot(this,"timeout"),this.abort(8))};function uA(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ZA(t),uh(t)}function ZA(t){t.F||(t.F=!0,ot(t,"complete"),ot(t,"error"))}S.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ot(this,"complete"),ot(this,"abort"),uh(this))};S.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uh(this,!0)),Ve.$.N.call(this)};S.La=function(){this.s||(this.G||this.v||this.l?eS(this):this.kb())};S.kb=function(){eS(this)};function eS(t){if(t.h&&typeof _v<"u"&&(!t.C[1]||jn(t)!=4||t.da()!=2)){if(t.v&&jn(t)==4)xv(t.La,0,t);else if(ot(t,"readystatechange"),jn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match($A)[1]||null;!i&&q.self&&q.self.location&&(i=q.self.location.protocol.slice(0,-1)),r=!FB.test(i?i.toLowerCase():"")}n=r}if(n)ot(t,"complete"),ot(t,"success");else{t.m=6;try{var s=2<jn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",ZA(t)}}finally{uh(t)}}}}function uh(t,e){if(t.g){tS(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ot(t,"ready");try{n.onreadystatechange=r}catch{}}}function tS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(q.clearTimeout(t.A),t.A=null)}S.isActive=function(){return!!this.g};function jn(t){return t.g?t.g.readyState:0}S.da=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}};S.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};S.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),OB(e)}};function lA(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case XA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function UB(t){let e={};t=(t.g&&2<=jn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(cc(t[r]))continue;var n=dB(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}aB(e,function(r){return r.join(", ")})}S.Ia=function(){return this.m};S.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function nS(t){let e="";return Ev(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Fv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=nS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xe(t,e,n))}function rc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function rS(t){this.Ga=0,this.j=[],this.l=new nh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=rc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=rc("baseRetryDelayMs",5e3,t),this.hb=rc("retryDelaySeedMs",1e4,t),this.eb=rc("forwardChannelMaxRetries",2,t),this.xa=rc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new GA(t&&t.concurrentRequestLimit),this.Ja=new PB,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}S=rS.prototype;S.ra=8;S.H=1;function Lv(t){if(iS(t),t.H==3){var e=t.W++,n=mr(t.I);if(xe(n,"SID",t.K),xe(n,"RID",e),xe(n,"TYPE","terminate"),bc(t,n),e=new wc(t,t.l,e),e.L=2,e.A=ah(mr(n)),n=!1,q.navigator&&q.navigator.sendBeacon)try{n=q.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&q.Image&&(new Image().src=e.A,n=!0),n||(e.g=hS(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ic(e)}lS(t)}function lh(t){t.g&&(Uv(t),t.g.cancel(),t.g=null)}function iS(t){lh(t),t.u&&(q.clearTimeout(t.u),t.u=null),Wd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&q.clearTimeout(t.m),t.m=null)}function dh(t){if(!WA(t.i)&&!t.m){t.m=!0;var e=t.Na;lc||DA(),dc||(lc(),dc=!0),Sv.add(e,t),t.C=0}}function jB(t,e){return KA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=vc(dt(t.Na,t,e),uS(t,t.C)),t.C++,!0)}S.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new wc(this,this.l,t),s=this.s;if(this.U&&(s?(s=vA(s),_A(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=sS(this,i,e),n=mr(this.I),xe(n,"RID",t),xe(n,"CVER",22),this.F&&xe(n,"X-HTTP-Session-Id",this.F),bc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(nS(s)))+"&"+e:this.o&&Fv(n,this.o,s)),kv(this.i,i),this.bb&&xe(n,"TYPE","init"),this.P?(xe(n,"$req",e),xe(n,"SID","null"),i.aa=!0,pv(i,n,null)):pv(i,n,e),this.H=2}}else this.H==3&&(t?dA(this,t):this.j.length==0||WA(this.i)||dA(this))};function dA(t,e){var n;e?n=e.m:n=t.W++;let r=mr(t.I);xe(r,"SID",t.K),xe(r,"RID",n),xe(r,"AID",t.V),bc(t,r),t.o&&t.s&&Fv(r,t.o,t.s),n=new wc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=sS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),kv(t.i,n),pv(n,r,e)}function bc(t,e){t.na&&Ev(t.na,function(n,r){xe(e,r,n)}),t.h&&BA({},function(n,r){xe(e,r,n)})}function sS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{NB(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function oS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;lc||DA(),dc||(lc(),dc=!0),Sv.add(e,t),t.A=0}}function Vv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=vc(dt(t.Ma,t),uS(t,t.A)),t.A++,!0)}S.Ma=function(){if(this.u=null,aS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=vc(dt(this.jb,this),t)}};S.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Et(10),lh(this),aS(this))};function Uv(t){t.B!=null&&(q.clearTimeout(t.B),t.B=null)}function aS(t){t.g=new wc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=mr(t.wa);xe(e,"RID","rpc"),xe(e,"SID",t.K),xe(e,"AID",t.V),xe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&xe(e,"TO",t.qa),xe(e,"TYPE","xmlhttp"),bc(t,e),t.o&&t.s&&Fv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=ah(mr(e)),n.u=null,n.S=!0,LA(n,t)}S.ib=function(){this.v!=null&&(this.v=null,lh(this),Vv(this),Et(19))};function Wd(t){t.v!=null&&(q.clearTimeout(t.v),t.v=null)}function cS(t,e){var n=null;if(t.g==e){Wd(t),Uv(t),t.g=null;var r=2}else if(mv(t.i,e))n=e.F,QA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=rh(),ot(r,new PA(r,n)),dh(t)}else oS(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&jB(t,e)||r==2&&Vv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ni(t,5);break;case 4:Ni(t,10);break;case 3:Ni(t,6);break;default:Ni(t,2)}}}function uS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ni(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=dt(t.pb,t);n||(n=new ki("//www.google.com/images/cleardot.gif"),q.location&&q.location.protocol=="http"||zd(n,"https"),ah(n)),kB(n.toString(),r)}else Et(2);t.H=0,t.h&&t.h.za(e),lS(t),iS(t)}S.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Et(2)):(this.l.info("Failed to ping google.com"),Et(1))};function lS(t){if(t.H=0,t.ma=[],t.h){let e=YA(t.i);(e.length!=0||t.j.length!=0)&&(nA(t.ma,e),nA(t.ma,t.j),t.i.i.length=0,wv(t.j),t.j.length=0),t.h.ya()}}function dS(t,e,n){var r=n instanceof ki?mr(n):new ki(n);if(r.g!="")e&&(r.g=e+"."+r.g),Gd(r,r.m);else{var i=q.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ki(null);r&&zd(s,r),e&&(s.g=e),i&&Gd(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&xe(r,n,e),xe(r,"VER",t.ra),bc(t,r),r}function hS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ve(new Ec({ob:n})):new Ve(t.va),e.Oa(t.J),e}S.isActive=function(){return!!this.h&&this.h.isActive(this)};function fS(){}S=fS.prototype;S.Ba=function(){};S.Aa=function(){};S.za=function(){};S.ya=function(){};S.isActive=function(){return!0};S.Va=function(){};function Kd(){if(so&&!(10<=Number(rB)))throw Error("Environmental error: no available transport.")}Kd.prototype.g=function(t,e){return new $t(t,e)};function $t(t,e){Xe.call(this),this.g=new rS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!cc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ao(this)}Ze($t,Xe);$t.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Et(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=dS(t,null,t.Y),dh(t)};$t.prototype.close=function(){Lv(this.g)};$t.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Av(t),t=n);e.j.push(new RB(e.fb++,t)),e.H==3&&dh(e)};$t.prototype.N=function(){this.g.h=null,delete this.j,Lv(this.g),delete this.g,$t.$.N.call(this)};function pS(t){Pv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ze(pS,Pv);function gS(){Nv.call(this),this.status=1}Ze(gS,Nv);function ao(t){this.g=t}Ze(ao,fS);ao.prototype.Ba=function(){ot(this.g,"a")};ao.prototype.Aa=function(t){ot(this.g,new pS(t))};ao.prototype.za=function(t){ot(this.g,new gS)};ao.prototype.ya=function(){ot(this.g,"b")};function BB(){this.blockSize=-1}function mn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ze(mn,BB);mn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function nv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}mn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)nv(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){nv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){nv(this,r),i=0;break}}this.h=i,this.i+=e};mn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ve(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var $B={};function jv(t){return-128<=t&&128>t?eB(t,function(e){return new ve([e|0],0>e?-1:0)}):new ve([t|0],0>t?-1:0)}function Bn(t){if(isNaN(t)||!isFinite(t))return io;if(0>t)return st(Bn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=yv;return new ve(e,0)}function mS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return st(mS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Bn(Math.pow(e,8)),r=io,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Bn(Math.pow(e,s)),r=r.R(s).add(Bn(o))):(r=r.R(n),r=r.add(Bn(o)))}return r}var yv=4294967296,io=jv(0),vv=jv(1),hA=jv(16777216);S=ve.prototype;S.ea=function(){if(en(this))return-st(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:yv+r)*e,e*=yv}return t};S.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(gr(this))return"0";if(en(this))return"-"+st(this).toString(t);for(var e=Bn(Math.pow(t,6)),n=this,r="";;){var i=Yd(n,e).g;n=Qd(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,gr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};S.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function gr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function en(t){return t.h==-1}S.X=function(t){return t=Qd(this,t),en(t)?-1:gr(t)?0:1};function st(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ve(n,~t.h).add(vv)}S.abs=function(){return en(this)?st(this):this};S.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ve(n,n[n.length-1]&-2147483648?-1:0)};function Qd(t,e){return t.add(st(e))}S.R=function(t){if(gr(this)||gr(t))return io;if(en(this))return en(t)?st(this).R(st(t)):st(st(this).R(t));if(en(t))return st(this.R(st(t)));if(0>this.X(hA)&&0>t.X(hA))return Bn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,qd(n,2*r+2*i),n[2*r+2*i+1]+=s*c,qd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,qd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,qd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ve(n,0)};function qd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ic(t,e){this.g=t,this.h=e}function Yd(t,e){if(gr(e))throw Error("division by zero");if(gr(t))return new ic(io,io);if(en(t))return e=Yd(st(t),e),new ic(st(e.g),st(e.h));if(en(e))return e=Yd(t,st(e)),new ic(st(e.g),e.h);if(30<t.g.length){if(en(t)||en(e))throw Error("slowDivide_ only works with positive integers.");for(var n=vv,r=e;0>=r.X(t);)n=fA(n),r=fA(r);var i=no(n,1),s=no(r,1);for(r=no(r,2),n=no(n,2);!gr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=no(r,1),n=no(n,1)}return e=Qd(t,i.R(e)),new ic(i,e)}for(i=io;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Bn(n),o=s.R(e);en(o)||0<o.X(t);)n-=r,s=Bn(n),o=s.R(e);gr(s)&&(s=vv),i=i.add(s),t=Qd(t,o)}return new ic(i,t)}S.gb=function(t){return Yd(this,t).h};S.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ve(n,this.h&t.h)};S.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ve(n,this.h|t.h)};S.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ve(n,this.h^t.h)};function fA(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ve(n,t.h)}function no(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ve(i,t.h)}Kd.prototype.createWebChannel=Kd.prototype.g;$t.prototype.send=$t.prototype.u;$t.prototype.open=$t.prototype.m;$t.prototype.close=$t.prototype.close;ih.NO_ERROR=0;ih.TIMEOUT=8;ih.HTTP_ERROR=6;NA.COMPLETE="complete";kA.EventType=_c;_c.OPEN="a";_c.CLOSE="b";_c.ERROR="c";_c.MESSAGE="d";Xe.prototype.listen=Xe.prototype.O;Ve.prototype.listenOnce=Ve.prototype.P;Ve.prototype.getLastError=Ve.prototype.Sa;Ve.prototype.getLastErrorCode=Ve.prototype.Ia;Ve.prototype.getStatus=Ve.prototype.da;Ve.prototype.getResponseJson=Ve.prototype.Wa;Ve.prototype.getResponseText=Ve.prototype.ja;Ve.prototype.send=Ve.prototype.ha;Ve.prototype.setWithCredentials=Ve.prototype.Oa;mn.prototype.digest=mn.prototype.l;mn.prototype.reset=mn.prototype.reset;mn.prototype.update=mn.prototype.j;ve.prototype.add=ve.prototype.add;ve.prototype.multiply=ve.prototype.R;ve.prototype.modulo=ve.prototype.gb;ve.prototype.compare=ve.prototype.X;ve.prototype.toNumber=ve.prototype.ea;ve.prototype.toString=ve.prototype.toString;ve.prototype.getBits=ve.prototype.D;ve.fromNumber=Bn;ve.fromString=mS;var yS=yn.createWebChannelTransport=function(){return new Kd},vS=yn.getStatEventTarget=function(){return rh()},hh=yn.ErrorCode=ih,_S=yn.EventType=NA,wS=yn.Event=Oi,Bv=yn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},DY=yn.FetchXmlHttpFactory=Ec,Tc=yn.WebChannel=kA,IS=yn.XhrIo=Ve,ES=yn.Md5=mn,Fi=yn.Integer=ve;var CS="@firebase/firestore";var et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");var Mo="10.7.2";var $i=new Zt("@firebase/firestore");function Dc(){return $i.logLevel}function R(t,...e){if($i.logLevel<=ie.DEBUG){let n=e.map(Rw);$i.debug(`Firestore (${Mo}): ${t}`,...n)}}function Wn(t,...e){if($i.logLevel<=ie.ERROR){let n=e.map(Rw);$i.error(`Firestore (${Mo}): ${t}`,...n)}}function mo(t,...e){if($i.logLevel<=ie.WARN){let n=e.map(Rw);$i.warn(`Firestore (${Mo}): ${t}`,...n)}}function Rw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function B(t="Unexpected state"){let e=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: `+t;throw Wn(e),new Error(e)}function Te(t,e){t||B()}function W(t,e){return t}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},N=class extends It{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var yh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Gv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}},Wv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Kv=class{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new vn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>p(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new yh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new et(e)}},Qv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Yv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Qv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Xv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,R("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new Jv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function qB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var vh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=qB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function pe(t,e){return t<e?-1:t>e?1:0}function yo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var at=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new N(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new N(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new N(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new N(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var G=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new at(0,0))}static max(){return new t(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var _h=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&B(),r===void 0?r=e.length-n:r>e.length-n&&B(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ke=class t extends _h{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new N(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},zB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ht=class t extends _h{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return zB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new N(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new N(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new N(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new N(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var U=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};var Zv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Zv.UNKNOWN_ID=-1;function GB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=G.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new Hi(i,U.empty(),e)}function WB(t){return new Hi(t.readTime,t.key,-1)}var Hi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(G.min(),U.empty(),-1)}static max(){return new t(G.max(),U.empty(),-1)}};function KB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}var QB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",e_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function zc(t){return p(this,null,function*(){if(t.code!==_.FAILED_PRECONDITION||t.message!==QB)throw t;R("LocalStore","Unexpectedly lost primary lease")})}var E=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var t_=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new vn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ji(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=xw(r.target.error);this.V.reject(new ji(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new ji(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(R("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new r_(n)}},wh=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(ut())===12.2&&Wn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return R("SimpleDb","Removing database:",e),Li(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Zs())return!1;if(t.C())return!0;let e=ut(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return p(this,null,function*(){return this.db||(R("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new ji(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new N(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new N(_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ji(e,o))},i.onupgradeneeded=s=>{R("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{R("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return p(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=t_.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),E.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(R("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},n_=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Li(this.k.delete())}},ji=class extends N{constructor(e,n){super(_.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Gc(t){return t.name==="IndexedDbTransactionError"}var r_=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(R("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(R("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Li(r)}add(e){return R("SimpleDb","ADD",this.store.name,e,e),Li(this.store.add(e))}get(e){return Li(this.store.get(e)).next(n=>(n===void 0&&(n=null),R("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return R("SimpleDb","DELETE",this.store.name,e),Li(this.store.delete(e))}count(){return R("SimpleDb","COUNT",this.store.name),Li(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new E((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new E((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){R("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new E((r,i)=>{n.onerror=s=>{let o=xw(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new E((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new n_(a),u=n(a.primaryKey,a.value,c);if(u instanceof E){let l=u.catch(d=>(c.done(),E.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>E.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Li(t){return new E((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=xw(r.target.error);n(i)}})}var bS=!1;function xw(t){let e=wh.S(ut());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new N("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bS||(bS=!0,setTimeout(()=>{throw r},0)),r}}return t}var tR=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Kh(t){return t==null}function Pc(t){return t===0&&1/t==-1/0}function YB(t){return typeof t=="number"&&Number.isInteger(t)&&!Pc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var JB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],OY=[...JB,"documentOverlays"],XB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZB=XB,FY=[...ZB,"indexConfiguration","indexState","indexEntries"];function TS(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ki(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var je=class t{constructor(e,n){this.comparator=e,this.root=n||qn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ho(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ho(this.root,e,this.comparator,!1)}getReverseIterator(){return new ho(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ho(this.root,e,this.comparator,!0)}},ho=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},qn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();let e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}};qn.EMPTY=null,qn.RED=!0,qn.BLACK=!1;qn.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(e,n,r,i,s){return this}insert(e,n,r){return new qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var pt=class t{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ih(this.data.getIterator())}getIteratorFrom(e){return new Ih(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ih=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Hn=class t{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new t([])}unionWith(e){let n=new pt(Ht.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Eh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ct=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Eh("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ct.EMPTY_BYTE_STRING=new Ct("");var e$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(t){if(Te(!!t),typeof t=="string"){let e=0,n=e$.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jr(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}function Mw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Pw(t){let e=t.mapValue.fields.__previous_value__;return Mw(e)?Pw(e):e}function Nc(t){let e=Yr(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}var i_=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Ch=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var fh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mw(t)?4:rR(t)?9007199254740991:10:B()}function Kn(t,e){if(t===e)return!0;let n=qi(t);if(n!==qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nc(t).isEqual(Nc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Yr(i.timestampValue),a=Yr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Jr(i.bytesValue).isEqual(Jr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ue(i.geoPointValue.latitude)===Ue(s.geoPointValue.latitude)&&Ue(i.geoPointValue.longitude)===Ue(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ue(i.integerValue)===Ue(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ue(i.doubleValue),a=Ue(s.doubleValue);return o===a?Pc(o)===Pc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return yo(t.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(TS(o)!==TS(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Kn(o[c],a[c])))return!1;return!0}(t,e);default:return B()}}function kc(t,e){return(t.values||[]).find(n=>Kn(n,e))!==void 0}function vo(t,e){if(t===e)return 0;let n=qi(t),r=qi(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ue(s.integerValue||s.doubleValue),c=Ue(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return DS(t.timestampValue,e.timestampValue);case 4:return DS(Nc(t),Nc(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Jr(s),c=Jr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=pe(a[u],c[u]);if(l!==0)return l}return pe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=pe(Ue(s.latitude),Ue(o.latitude));return a!==0?a:pe(Ue(s.longitude),Ue(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=vo(a[u],c[u]);if(l)return l}return pe(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===fh.mapValue&&o===fh.mapValue)return 0;if(s===fh.mapValue)return 1;if(o===fh.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=pe(c[d],l[d]);if(h!==0)return h;let f=vo(a[c[d]],u[l[d]]);if(f!==0)return f}return pe(c.length,l.length)}(t.mapValue,e.mapValue);default:throw B()}}function DS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);let n=Yr(t),r=Yr(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function _o(t){return s_(t)}function s_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Yr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Jr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return U.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=s_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${s_(n.fields[o])}`;return i+"}"}(t.mapValue):B()}function AS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function o_(t){return!!t&&"integerValue"in t}function Nw(t){return!!t&&"arrayValue"in t}function SS(t){return!!t&&"nullValue"in t}function RS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gh(t){return!!t&&"mapValue"in t}function Sc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var tn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=Ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Sc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ki(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Sc(this.value))}};function iR(t){let e=[];return Ki(t.fields,(n,r)=>{let i=new Ht([n]);if(gh(r)){let s=iR(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Hn(e)}var _n=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,G.min(),G.min(),G.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,G.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,G.min(),G.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,G.min(),G.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(G.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var wo=class{constructor(e,n){this.position=e,this.inclusive=n}};function xS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=U.comparator(U.fromName(o.referenceValue),n.key):r=vo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function MS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kn(t.position[n],e.position[n]))return!1;return!0}var Io=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function t$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var bh=class{},Qe=class t extends bh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new c_(e,n,r):n==="array-contains"?new d_(e,r):n==="in"?new h_(e,r):n==="not-in"?new f_(e,r):n==="array-contains-any"?new p_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new u_(e,r):new l_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vo(n,this.value)):n!==null&&qi(this.value)===qi(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return B()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},wn=class t extends bh{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return sR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function sR(t){return t.op==="and"}function oR(t){return n$(t)&&sR(t)}function n$(t){for(let e of t.filters)if(e instanceof wn)return!1;return!0}function a_(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+_o(t.value);if(oR(t))return t.filters.map(e=>a_(e)).join(",");{let e=t.filters.map(n=>a_(n)).join(",");return`${t.op}(${e})`}}function aR(t,e){return t instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&Kn(r.value,i.value)}(t,e):t instanceof wn?function(r,i){return i instanceof wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&aR(o,i.filters[a]),!0):!1}(t,e):void B()}function cR(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`}(t):t instanceof wn?function(n){return n.op.toString()+" {"+n.getFilters().map(cR).join(" ,")+"}"}(t):"Filter"}var c_=class extends Qe{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){let n=U.comparator(e.key,this.key);return this.matchesComparison(n)}},u_=class extends Qe{constructor(e,n){super(e,"in",n),this.keys=uR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},l_=class extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=uR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function uR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}var d_=class extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Nw(n)&&kc(n.arrayValue,this.value)}},h_=class extends Qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&kc(this.value.arrayValue,n)}},f_=class extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!kc(this.value.arrayValue,n)}},p_=class extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Nw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>kc(this.value.arrayValue,r))}};var g_=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function PS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new g_(t,e,n,r,i,s,o)}function kw(t){let e=W(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>a_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_o(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_o(r)).join(",")),e.ce=n}return e.ce}function Ow(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!t$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MS(t.startAt,e.startAt)&&MS(t.endAt,e.endAt)}function m_(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zi=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function r$(t,e,n,r,i,s,o,a){return new zi(t,e,n,r,i,s,o,a)}function lR(t){return new zi(t)}function NS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dR(t){return t.collectionGroup!==null}function Rc(t){let e=W(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pt(Ht.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Io(s,r))}),n.has(Ht.keyField().canonicalString())||e.le.push(new Io(Ht.keyField(),r))}return e.le}function zn(t){let e=W(t);return e.he||(e.he=i$(e,Rc(t))),e.he}function i$(t,e){if(t.limitType==="F")return PS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Io(i.field,s)});let n=t.endAt?new wo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wo(t.startAt.position,t.startAt.inclusive):null;return PS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function y_(t,e){let n=t.filters.concat([e]);return new zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function v_(t,e,n){return new zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qh(t,e){return Ow(zn(t),zn(e))&&t.limitType===e.limitType}function hR(t){return`${kw(zn(t))}|lt:${t.limitType}`}function co(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cR(i)).join(", ")}]`),Kh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_o(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_o(i)).join(",")),`Target(${r})`}(zn(t))}; limitType=${t.limitType})`}function Yh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):U.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Rc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=xS(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Rc(r),i)||r.endAt&&!function(o,a,c){let u=xS(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Rc(r),i))}(t,e)}function s$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fR(t){return(e,n)=>{let r=!1;for(let i of Rc(t)){let s=o$(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function o$(t,e,n){let r=t.field.isKeyField()?U.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?vo(c,u):B()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return B()}}var Xr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return nR(this.inner)}size(){return this.innerSize}};var a$=new je(U.comparator);function yr(){return a$}var pR=new je(U.comparator);function Ac(...t){let e=pR;for(let n of t)e=e.insert(n.key,n);return e}function gR(t){let e=pR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vi(){return xc()}function mR(){return xc()}function xc(){return new Xr(t=>t.toString(),(t,e)=>t.isEqual(e))}var c$=new je(U.comparator),u$=new pt(U.comparator);function ce(...t){let e=u$;for(let n of t)e=e.add(n);return e}var l$=new pt(pe);function d$(){return l$}function yR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(e)?"-0":e}}function vR(t){return{integerValue:""+t}}function h$(t,e){return YB(e)?vR(e):yR(t,e)}var Eo=class{constructor(){this._=void 0}};function f$(t,e,n){return t instanceof Co?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Mw(s)&&(s=Pw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Gi?wR(t,e):t instanceof Wi?IR(t,e):function(i,s){let o=_R(i,s),a=kS(o)+kS(i.Ie);return o_(o)&&o_(i.Ie)?vR(a):yR(i.serializer,a)}(t,e)}function p$(t,e,n){return t instanceof Gi?wR(t,e):t instanceof Wi?IR(t,e):n}function _R(t,e){return t instanceof bo?function(r){return o_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Co=class extends Eo{},Gi=class extends Eo{constructor(e){super(),this.elements=e}};function wR(t,e){let n=ER(e);for(let r of t.elements)n.some(i=>Kn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Wi=class extends Eo{constructor(e){super(),this.elements=e}};function IR(t,e){let n=ER(e);for(let r of t.elements)n=n.filter(i=>!Kn(i,r));return{arrayValue:{values:n}}}var bo=class extends Eo{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function kS(t){return Ue(t.integerValue||t.doubleValue)}function ER(t){return Nw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function g$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gi&&i instanceof Gi||r instanceof Wi&&i instanceof Wi?yo(r.elements,i.elements,Kn):r instanceof bo&&i instanceof bo?Kn(r.Ie,i.Ie):r instanceof Co&&i instanceof Co}(t.transform,e.transform)}var __=class{constructor(e,n){this.version=e,this.transformResults=n}},Bi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function mh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var To=class{};function CR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Th(t.key,Bi.none()):new Do(t.key,t.data,Bi.none());{let n=t.data,r=tn.empty(),i=new pt(Ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new vr(t.key,r,new Hn(i.toArray()),Bi.none())}}function m$(t,e,n){t instanceof Do?function(i,s,o){let a=i.value.clone(),c=FS(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vr?function(i,s,o){if(!mh(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=FS(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(bR(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Mc(t,e,n,r){return t instanceof Do?function(s,o,a,c){if(!mh(s.precondition,o))return a;let u=s.value.clone(),l=LS(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof vr?function(s,o,a,c){if(!mh(s.precondition,o))return a;let u=LS(s.fieldTransforms,c,o),l=o.data;return l.setAll(bR(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return mh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function y$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=_R(r.transform,i||null);s!=null&&(n===null&&(n=tn.empty()),n.set(r.field,s))}return n||null}function OS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yo(r,i,(s,o)=>g$(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Do=class extends To{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},vr=class extends To{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function bR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function FS(t,e,n){let r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,p$(o,a,n[i]))}return r}function LS(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,f$(s,o,e))}return r}var Th=class extends To{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},w_=class extends To{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var I_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&m$(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=mR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=CR(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(n,r)=>OS(n,r))&&yo(this.baseMutations,e.baseMutations,(n,r)=>OS(n,r))}},E_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return c$}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var C_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var b_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var We,le;function v$(t){switch(t){default:return B();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function TR(t){if(t===void 0)return Wn("GRPC error has no .code"),_.UNKNOWN;switch(t){case We.OK:return _.OK;case We.CANCELLED:return _.CANCELLED;case We.UNKNOWN:return _.UNKNOWN;case We.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case We.INTERNAL:return _.INTERNAL;case We.UNAVAILABLE:return _.UNAVAILABLE;case We.UNAUTHENTICATED:return _.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case We.NOT_FOUND:return _.NOT_FOUND;case We.ALREADY_EXISTS:return _.ALREADY_EXISTS;case We.PERMISSION_DENIED:return _.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case We.ABORTED:return _.ABORTED;case We.OUT_OF_RANGE:return _.OUT_OF_RANGE;case We.UNIMPLEMENTED:return _.UNIMPLEMENTED;case We.DATA_LOSS:return _.DATA_LOSS;default:return B()}}(le=We||(We={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var VS=null;function _$(){return new TextEncoder}var w$=new Fi([4294967295,4294967295],0);function US(t){let e=_$().encode(t),n=new ES;return n.update(e),new Uint8Array(n.digest())}function jS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fi([n,r],0),new Fi([i,s],0)]}var T_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ui(`Invalid padding: ${n}`);if(r<0)throw new Ui(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ui(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ui(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Fi.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Fi.fromNumber(r)));return i.compare(w$)===1&&(i=new Fi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=US(e),[r,i]=jS(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=US(e),[r,i]=jS(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ui=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Dh=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(G.min(),i,new je(pe),yr(),ce())}},Oc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ce(),ce(),ce())}};var po=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},Ah=class{constructor(e,n){this.targetId=e,this.fe=n}},Sh=class{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Rh=class{constructor(){this.ge=0,this.pe=$S(),this.ye=Ct.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ce(),n=ce(),r=ce();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:B()}}),new Oc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=$S()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Te(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},D_=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=yr(),this.Qe=BS(),this.Ke=new je(pe)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:B()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(m_(s))if(r===0){let o=new U(s.path);this.We(n,o,_n.newNoDocument(o,G.min()))}else Te(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}VS?.tt(function(l,d,h,f,g){var w,m,I,F,j,k;let de={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},ne=d.unchangedNames;return ne&&(de.bloomFilter={applied:g===0,hashCount:(w=ne?.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(F=(I=(m=ne?.bits)===null||m===void 0?void 0:m.bitmap)===null||I===void 0?void 0:I.length)!==null&&F!==void 0?F:0,padding:(k=(j=ne?.bits)===null||j===void 0?void 0:j.padding)!==null&&k!==void 0?k:0,mightContain:Ye=>{var Tt;return(Tt=f?.mightContain(Ye))!==null&&Tt!==void 0&&Tt}}),de}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Jr(r).toUint8Array()}catch(c){if(c instanceof Eh)return mo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new T_(o,i,s)}catch(c){return mo(c instanceof Ui?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&m_(a.target)){let c=new U(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,_n.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ce();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new Dh(e,n,this.Ke,this.qe,r);return this.qe=yr(),this.Qe=BS(),this.Ke=new je(pe),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Rh,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new pt(pe),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||R("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Rh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function BS(){return new je(U.comparator)}function $S(){return new je(U.comparator)}var I$=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),E$=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),C$=(()=>({and:"AND",or:"OR"}))(),A_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function S_(t,e){return t.useProto3Json||Kh(e)?e:{value:e}}function xh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function b$(t,e){return xh(t,e.toTimestamp())}function Gn(t){return Te(!!t),G.fromTimestamp(function(n){let r=Yr(n);return new at(r.seconds,r.nanos)}(t))}function Fw(t,e){return R_(t,e).canonicalString()}function R_(t,e){let n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AR(t){let e=ke.fromString(t);return Te(PR(e)),e}function x_(t,e){return Fw(t.databaseId,e.path)}function $v(t,e){let n=AR(e);if(n.get(1)!==t.databaseId.projectId)throw new N(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new N(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(RR(n))}function SR(t,e){return Fw(t.databaseId,e)}function T$(t){let e=AR(t);return e.length===4?ke.emptyPath():RR(e)}function M_(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RR(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function HS(t,e,n){return{name:x_(t,e),fields:n.value.mapValue.fields}}function D$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:B()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(Te(l===void 0||typeof l=="string"),Ct.fromBase64String(l||"")):(Te(l===void 0||l instanceof Uint8Array),Ct.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?_.UNKNOWN:TR(u.code);return new N(l,u.message||"")}(o);n=new Sh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=$v(t,r.document.name),s=Gn(r.document.updateTime),o=r.document.createTime?Gn(r.document.createTime):G.min(),a=new tn({mapValue:{fields:r.document.fields}}),c=_n.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new po(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=$v(t,r.document),s=r.readTime?Gn(r.readTime):G.min(),o=_n.newNoDocument(i,s),a=r.removedTargetIds||[];n=new po([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=$v(t,r.document),s=r.removedTargetIds||[];n=new po([],s,i,null)}else{if(!("filter"in e))return B();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new b_(i,s),a=r.targetId;n=new Ah(a,o)}}return n}function A$(t,e){let n;if(e instanceof Do)n={update:HS(t,e.key,e.value)};else if(e instanceof Th)n={delete:x_(t,e.key)};else if(e instanceof vr)n={update:HS(t,e.key,e.data),updateMask:F$(e.fieldMask)};else{if(!(e instanceof w_))return B();n={verify:x_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Co)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bo)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw B()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:b$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:B()}(t,e.precondition)),n}function S$(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Gn(i.updateTime):Gn(s);return o.isEqual(G.min())&&(o=Gn(s)),new __(o,i.transformResults||[])}(n,e))):[]}function R$(t,e){return{documents:[SR(t,e.path)]}}function x$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SR(t,i);let s=function(u){if(u.length!==0)return MR(wn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:uo(h.field),direction:N$(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=S_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function M$(t){let e=T$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=xR(d);return h instanceof wn&&oR(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new Io(lo(g.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Kh(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new wo(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,f=d.values||[];return new wo(f,h)}(n.endAt)),r$(e,i,o,s,a,"F",c,u)}function P$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return B()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=lo(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=lo(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=lo(n.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=lo(n.unaryFilter.field);return Qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return B()}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(lo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wn.create(n.compositeFilter.filters.map(r=>xR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return B()}}(n.compositeFilter.op))}(t):B()}function N$(t){return I$[t]}function k$(t){return E$[t]}function O$(t){return C$[t]}function uo(t){return{fieldPath:t.canonicalString()}}function lo(t){return Ht.fromServerFormat(t.fieldPath)}function MR(t){return t instanceof Qe?function(n){if(n.op==="=="){if(RS(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(SS(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(RS(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(SS(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:k$(n.op),value:n.value}}}(t):t instanceof wn?function(n){let r=n.getFilters().map(i=>MR(i));return r.length===1?r[0]:{compositeFilter:{op:O$(n.op),filters:r}}}(t):B()}function F$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Fc=class t{constructor(e,n,r,i,s=G.min(),o=G.min(),a=Ct.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var P_=class{constructor(e){this.ct=e}};function L$(t){let e=M$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?v_(e,e.limit,"L"):e}var Mh=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ue(e.integerValue));else if("doubleValue"in e){let r=Ue(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Pc(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Jr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?rR(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):B()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),U.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Mh.bt=new Mh;var N_=class{constructor(){this._n=new k_}addToCollectionParentIndex(e,n){return this._n.add(n),E.resolve()}getCollectionParents(e,n){return E.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return E.resolve()}deleteFieldIndex(e,n){return E.resolve()}deleteAllFieldIndexes(e){return E.resolve()}createTargetIndexes(e,n){return E.resolve()}getDocumentsMatchingTarget(e,n){return E.resolve(null)}getIndexType(e,n){return E.resolve(0)}getFieldIndexes(e,n){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,n){return E.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,n){return E.resolve(Hi.min())}updateCollectionGroup(e,n,r){return E.resolve()}updateIndexEntries(e,n){return E.resolve()}},k_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(ke.comparator)).toArray()}};var VY=new Uint8Array(0);var $n=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(41943040,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);var Lc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var O_=class{constructor(){this.changes=new Xr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?E.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var F_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var L_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mc(r.mutation,i,Hn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){let i=Vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ac();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=yr(),o=xc(),a=function(){return xc()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof vr)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Mc(l.mutation,u,l.mutation.getFieldMask(),at.now())):o.set(u.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new F_(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=xc(),i=new je((o,a)=>o-a),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Hn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||ce()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=mR();l.forEach(h=>{if(!s.has(h)){let f=CR(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return E.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return U.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):E.resolve(Vi()),a=-1,c=s;return o.next(u=>E.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?E.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ce())).next(l=>({batchId:a,changes:gR(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let i=Ac();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Ac();return this.indexManager.getCollectionParents(e,s).next(a=>E.forEach(a,c=>{let u=function(d,h){return new zi(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,_n.newInvalidDocument(l)))});let a=Ac();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Mc(l.mutation,u,Hn.empty(),at.now()),Yh(n,u)&&(a=a.insert(c,u))}),a})}};var V_=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return E.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gn(i.createTime)}}(n)),E.resolve()}getNamedQuery(e,n){return E.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:L$(i.bundledQuery),readTime:Gn(i.readTime)}}(n)),E.resolve()}};var U_=class{constructor(){this.overlays=new je(U.comparator),this.hr=new Map}getOverlay(e,n){return E.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Vi();return E.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),E.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),E.resolve()}getOverlaysForCollection(e,n,r){let i=Vi(),s=n.length+1,o=new U(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return E.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new je((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Vi(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Vi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return E.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new C_(n,r));let s=this.hr.get(n);s===void 0&&(s=ce(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Vc=class{constructor(){this.Pr=new pt(Ke.Ir),this.Tr=new pt(Ke.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Ke(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ke(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new U(new ke([])),r=new Ke(n,e),i=new Ke(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new U(new ke([])),r=new Ke(n,e),i=new Ke(n,e+1),s=ce();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ke(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ke=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return U.comparator(e.key,n.key)||pe(e.pr,n.pr)}static Er(e,n){return pe(e.pr,n.pr)||U.comparator(e.key,n.key)}};var j_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new pt(Ke.Ir)}checkEmpty(e){return E.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new I_(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Ke(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,n){return E.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return E.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(pe);return n.forEach(i=>{let s=new Ke(i,0),o=new Ke(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),E.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;U.isDocumentKey(s)||(s=s.child(""));let o=new Ke(new U(s),0),a=new pt(pe);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),E.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return E.forEach(n.mutations,i=>{let s=new Ke(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Ke(n,0),i=this.wr.firstAfterOrEqual(r);return E.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,E.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var B_=class{constructor(e){this.vr=e,this.docs=function(){return new je(U.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return E.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let r=yr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_n.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=yr(),o=n.path,a=new U(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||KB(WB(l),r)<=0||(i.has(l.key)||Yh(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return E.resolve(s)}getAllFromCollectionGroup(e,n,r,i){B()}Fr(e,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $_(this)}getSize(e){return E.resolve(this.size)}},$_=class extends O_{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),E.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var H_=class{constructor(e){this.persistence=e,this.Mr=new Xr(n=>kw(n),Ow),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Vc,this.targetCount=0,this.Br=Lc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),E.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new Lc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,E.resolve()}updateTargetData(e,n){return this.qn(n),E.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return E.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),E.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),E.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return E.resolve(r)}containsKey(e,n){return E.resolve(this.Nr.containsKey(n))}};var q_=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new tR(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new H_(this),this.indexManager=new N_,this.remoteDocumentCache=function(i){return new B_(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new P_(n),this.$r=new V_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new U_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new j_(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){R("MemoryPersistence","Starting transaction:",e);let i=new z_(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return E.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},z_=class extends e_{constructor(e){super(),this.currentSequenceNumber=e}},G_=class t{constructor(e){this.persistence=e,this.zr=new Vc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw B()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),E.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),E.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Jr,r=>{let i=U.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,G.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return E.or([()=>E.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var W_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ce(),i=ce();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var K_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Q_=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return LD()?8:wh.v(ut())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new K_;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Dc()<=ie.DEBUG&&R("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),E.resolve()):(Dc()<=ie.DEBUG&&R("QueryEngine","Query:",co(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Dc()<=ie.DEBUG&&R("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(n))):E.resolve())}ji(e,n){if(NS(n))return E.resolve(null);let r=zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=v_(n,null,"F"),r=zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ce(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,v_(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return NS(n)||i.isEqual(G.min())?E.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?E.resolve(null):(Dc()<=ie.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),co(n)),this.es(e,o,n,GB(i,-1)).next(a=>a))})}Zi(e,n){let r=new pt(fR(e));return n.forEach((i,s)=>{Yh(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Dc()<=ie.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",co(n)),this.zi.getDocumentsMatchingQuery(e,n,Hi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Y_=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new je(pe),this.rs=new Xr(s=>kw(s),Ow),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function V$(t,e,n,r){return new Y_(t,e,n,r)}function NR(t,e){return p(this,null,function*(){let n=W(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=ce();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function U$(t,e){let n=W(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),f=E.resolve();return h.forEach(g=>{f=f.next(()=>l.getEntry(c,g)).next(w=>{let m=u.docVersions.get(g);Te(m!==null),w.version.compareTo(m)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),l.addEntry(w)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kR(t){let e=W(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function j$(t,e){let n=W(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Ct.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),function(w,m,I){return w.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(h,f,l)&&a.push(n.Qr.updateTargetData(s,f))});let c=yr(),u=ce();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(B$(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(G.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return E.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function B$(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=yr();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(G.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):R("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function $$(t,e){let n=W(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function H$(t,e){let n=W(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,E.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Fc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function J_(t,e,n){return p(this,null,function*(){let r=W(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Gc(o))throw o;R("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function qS(t,e,n){let r=W(t),i=G.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=W(c),h=d.rs.get(l);return h!==void 0?E.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:G.min(),n?s:ce())).next(a=>(q$(r,s$(e),a),{documents:a,hs:s})))}function q$(t,e,n){let r=t.ss.get(e)||G.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var Ph=class{constructor(){this.activeTargetIds=d$()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var X_=class{constructor(){this.no=new Ph,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ph,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Z_=class{io(e){}shutdown(){}};var Nh=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ph=null;function Hv(){return ph===null?ph=function(){return 268435456+Math.round(2147483648*Math.random())}():ph++,"0x"+ph.toString(16)}var z$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var ew=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var ft="WebChannelConnection",tw=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=Hv(),c=this.bo(n,r.toUriEncodedString());R("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(R("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw mo("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=z$[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=Hv();return new Promise((o,a)=>{let c=new IS;c.setWithCredentials(!0),c.listenOnce(_S.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case hh.NO_ERROR:let l=c.getResponseJson();R(ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case hh.TIMEOUT:R(ft,`RPC '${e}' ${s} timed out`),a(new N(_.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:let d=c.getStatus();if(R(ft,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let g=function(m){let I=m.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(I)>=0?I:_.UNKNOWN}(f.status);a(new N(g,f.message))}else a(new N(_.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new N(_.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{R(ft,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);R(ft,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=Hv(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yS(),a=vS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");R(ft,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,f=!1,g=new ew({lo:m=>{f?R(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(R(ft,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),R(ft,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},ho:()=>d.close()}),w=(m,I,F)=>{m.listen(I,j=>{try{F(j)}catch(k){setTimeout(()=>{throw k},0)}})};return w(d,Tc.EventType.OPEN,()=>{f||R(ft,`RPC '${e}' stream ${i} transport opened.`)}),w(d,Tc.EventType.CLOSE,()=>{f||(f=!0,R(ft,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),w(d,Tc.EventType.ERROR,m=>{f||(f=!0,mo(ft,`RPC '${e}' stream ${i} transport errored:`,m),g.Vo(new N(_.UNAVAILABLE,"The operation could not be completed")))}),w(d,Tc.EventType.MESSAGE,m=>{var I;if(!f){let F=m.data[0];Te(!!F);let j=F,k=j.error||((I=j[0])===null||I===void 0?void 0:I.error);if(k){R(ft,`RPC '${e}' stream ${i} received error:`,k);let de=k.status,ne=function(nn){let mu=We[nn];if(mu!==void 0)return TR(mu)}(de),Ye=k.message;ne===void 0&&(ne=_.INTERNAL,Ye="Unknown error status: "+de+" with message "+k.message),f=!0,g.Vo(new N(ne,Ye)),d.close()}else R(ft,`RPC '${e}' stream ${i} received:`,F),g.mo(F)}}),w(a,wS.STAT_EVENT,m=>{m.stat===Bv.PROXY?R(ft,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===Bv.NOPROXY&&R(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}};function qv(){return typeof document<"u"?document:null}function Jh(t){return new A_(t,!0)}var kh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&R("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var Oh=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new kh(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return p(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return p(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return p(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new N(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>p(this,null,function*(){this.state=0,this.start()}))}__(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},nw=class extends Oh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=D$(this.serializer,e),r=function(s){if(!("targetChange"in s))return G.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?G.min():o.readTime?Gn(o.readTime):G.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=M_(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=m_(c)?{documents:R$(s,c)}:{query:x$(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=DR(s,o.resumeToken);let u=S_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(G.min())>0){a.readTime=xh(s,o.snapshotVersion.toTimestamp());let u=S_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=P$(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=M_(this.serializer),n.removeTarget=e,this.t_(n)}},rw=class extends Oh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=S$(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.T_(r,n)}return Te(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=M_(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>A$(this.serializer,r))};this.t_(n)}};var iw=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new N(_.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,R_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new N(_.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,R_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new N(_.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var sw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Wn(n),this.g_=!1):R("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var ow=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>p(this,null,function*(){Qi(this)&&(R("RemoteStore","Restarting streams for network reachability change."),yield function(c){return p(this,null,function*(){let u=W(c);u.v_.add(4),yield Wc(u),u.x_.set("Unknown"),u.v_.delete(4),yield Xh(u)})}(this))}))}),this.x_=new sw(r,i)}};function Xh(t){return p(this,null,function*(){if(Qi(t))for(let e of t.F_)yield e(!0)})}function Wc(t){return p(this,null,function*(){for(let e of t.F_)yield e(!1)})}function OR(t,e){let n=W(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Uw(n)?Vw(n):Po(n).Jo()&&Lw(n,e))}function FR(t,e){let n=W(t),r=Po(n);n.C_.delete(e),r.Jo()&&LR(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Qi(n)&&n.x_.set("Unknown"))}function Lw(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(G.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Po(t).c_(e)}function LR(t,e){t.O_.Oe(e),Po(t).l_(e)}function Vw(t){t.O_=new D_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Po(t).start(),t.x_.p_()}function Uw(t){return Qi(t)&&!Po(t).Ho()&&t.C_.size>0}function Qi(t){return W(t).v_.size===0}function VR(t){t.O_=void 0}function G$(t){return p(this,null,function*(){t.C_.forEach((e,n)=>{Lw(t,e)})})}function W$(t,e){return p(this,null,function*(){VR(t),Uw(t)?(t.x_.S_(e),Vw(t)):t.x_.set("Unknown")})}function K$(t,e,n){return p(this,null,function*(){if(t.x_.set("Online"),e instanceof Sh&&e.state===2&&e.cause)try{yield function(i,s){return p(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){R("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Fh(t,r)}else if(e instanceof po?t.O_.$e(e):e instanceof Ah?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(G.min()))try{let r=yield kR(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(Ct.EMPTY_BYTE_STRING,l.snapshotVersion)),LR(s,c);let d=new Fc(l.target,c,u,l.sequenceNumber);Lw(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){R("RemoteStore","Failed to raise snapshot:",r),yield Fh(t,r)}})}function Fh(t,e,n){return p(this,null,function*(){if(!Gc(e))throw e;t.v_.add(1),yield Wc(t),t.x_.set("Offline"),n||(n=()=>kR(t.localStore)),t.asyncQueue.enqueueRetryable(()=>p(this,null,function*(){R("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Xh(t)}))})}function UR(t,e){return e().catch(n=>Fh(t,n,e))}function Zh(t){return p(this,null,function*(){let e=W(t),n=Zr(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Q$(e);)try{let i=yield $$(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,Y$(e,i)}catch(i){yield Fh(e,i)}jR(e)&&BR(e)})}function Q$(t){return Qi(t)&&t.D_.length<10}function Y$(t,e){t.D_.push(e);let n=Zr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function jR(t){return Qi(t)&&!Zr(t).Ho()&&t.D_.length>0}function BR(t){Zr(t).start()}function J$(t){return p(this,null,function*(){Zr(t).d_()})}function X$(t){return p(this,null,function*(){let e=Zr(t);for(let n of t.D_)e.I_(n.mutations)})}function Z$(t,e,n){return p(this,null,function*(){let r=t.D_.shift(),i=E_.from(r,e,n);yield UR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Zh(t)})}function eH(t,e){return p(this,null,function*(){e&&Zr(t).P_&&(yield function(r,i){return p(this,null,function*(){if(function(o){return v$(o)&&o!==_.ABORTED}(i.code)){let s=r.D_.shift();Zr(r).Zo(),yield UR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Zh(r)}})}(t,e)),jR(t)&&BR(t)})}function zS(t,e){return p(this,null,function*(){let n=W(t);n.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");let r=Qi(n);n.v_.add(3),yield Wc(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Xh(n)})}function tH(t,e){return p(this,null,function*(){let n=W(t);e?(n.v_.delete(2),yield Xh(n)):e||(n.v_.add(2),yield Wc(n),n.x_.set("Unknown"))})}function Po(t){return t.N_||(t.N_=function(n,r,i){let s=W(n);return s.R_(),new nw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:G$.bind(null,t),To:W$.bind(null,t),u_:K$.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.N_.Zo(),Uw(t)?Vw(t):t.x_.set("Unknown")):(yield t.N_.stop(),VR(t))}))),t.N_}function Zr(t){return t.B_||(t.B_=function(n,r,i){let s=W(n);return s.R_(),new rw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:J$.bind(null,t),To:eH.bind(null,t),E_:X$.bind(null,t),T_:Z$.bind(null,t)}),t.F_.push(e=>p(this,null,function*(){e?(t.B_.Zo(),yield Zh(t)):(yield t.B_.stop(),t.D_.length>0&&(R("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var aw=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new N(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function jw(t,e){if(Wn("AsyncQueue",`${e}: ${t}`),Gc(t))return new N(_.UNAVAILABLE,`${e}: ${t}`);throw t}var Lh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=Ac(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Vh=class{constructor(){this.L_=new je(U.comparator)}track(e){let n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):B():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ao=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Lh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var cw=class{constructor(){this.q_=void 0,this.Q_=[]}},uw=class{constructor(){this.queries=new Xr(e=>hR(e),Qh),this.onlineState="Unknown",this.K_=new Set}};function nH(t,e){return p(this,null,function*(){let n=W(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new cw),i)try{s.q_=yield n.onListen(r)}catch(o){let a=jw(o,`Initialization of query '${co(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&Bw(n)})}function rH(t,e){return p(this,null,function*(){let n=W(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function iH(t,e){let n=W(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&Bw(n)}function sH(t,e,n){let r=W(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function Bw(t){t.K_.forEach(e=>{e.next()})}var lw=class{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var Uh=class{constructor(e){this.key=e}},jh=class{constructor(e){this.key=e}},dw=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ce(),this.mutatedKeys=ce(),this.ua=fR(e),this.ca=new Lh(this.ua)}get la(){return this.oa}ha(e,n){let r=n?n.Pa:new Vh,i=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),f=Yh(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),w=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),m=!1;h&&f?h.data.isEqual(f.data)?g!==w&&(r.track({type:3,doc:f}),m=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),m=!0,(c&&this.ua(f,c)>0||u&&this.ua(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(c||u)&&(a=!0)),m&&(f?(o=o.add(f),s=w?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((l,d)=>function(f,g){let w=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return w(f)-w(g)}(l.type,d.type)||this.ua(l.doc,d.doc)),this.Ta(r),i=i!=null&&i;let a=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,u=c!==this._a;return this._a=c,o.length!==0||u?{snapshot:new Ao(this.query,e.ca,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Vh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=ce(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});let n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new jh(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new Uh(r))}),n}Ra(e){this.oa=e.hs,this.aa=ce();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Ao.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},hw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},fw=class{constructor(e){this.key=e,this.ma=!1}},pw=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Xr(a=>hR(a),Qh),this.pa=new Map,this.ya=new Set,this.wa=new je(U.comparator),this.Sa=new Map,this.ba=new Vc,this.Da={},this.Ca=new Map,this.va=Lc.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function oH(t,e){return p(this,null,function*(){let n=mH(t),r,i,s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{let o=yield H$(n.localStore,zn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield aH(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&OR(n.remoteStore,o)}return i})}function aH(t,e,n,r,i){return p(this,null,function*(){t.Ma=(d,h,f)=>function(w,m,I,F){return p(this,null,function*(){let j=m.view.ha(I);j.Xi&&(j=yield qS(w.localStore,m.query,!1).then(({documents:Ye})=>m.view.ha(Ye,j)));let k=F&&F.targetChanges.get(m.targetId),de=F&&F.targetMismatches.get(m.targetId)!=null,ne=m.view.applyChanges(j,w.isPrimaryClient,k,de);return WS(w,m.targetId,ne.da),ne.snapshot})}(t,d,h,f);let s=yield qS(t.localStore,e,!0),o=new dw(e,s.hs),a=o.ha(s.documents),c=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);WS(t,n,u.da);let l=new hw(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot})}function cH(t,e){return p(this,null,function*(){let n=W(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Qh(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield J_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),FR(n.remoteStore,r.targetId),gw(n,r.targetId)}).catch(zc))):(gw(n,r.targetId),yield J_(n.localStore,r.targetId,!0))})}function uH(t,e,n){return p(this,null,function*(){let r=yH(t);try{let i=yield function(o,a){let c=W(o),u=at.now(),l=a.reduce((f,g)=>f.add(g.key),ce()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=yr(),w=ce();return c.os.getEntries(f,l).next(m=>{g=m,g.forEach((I,F)=>{F.isValidDocument()||(w=w.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(m=>{d=m;let I=[];for(let F of a){let j=y$(F,d.get(F.key).overlayedDocument);j!=null&&I.push(new vr(F.key,j,iR(j.value.mapValue),Bi.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,I,a)}).next(m=>{h=m;let I=m.applyToLocalDocumentSet(d,w);return c.documentOverlayCache.saveOverlays(f,m.batchId,I)})}).then(()=>({batchId:h.batchId,changes:gR(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Da[o.currentUser.toKey()];u||(u=new je(pe)),u=u.insert(a,c),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Kc(r,i.changes),yield Zh(r.remoteStore)}catch(i){let s=jw(i,"Failed to persist write");n.reject(s)}})}function $R(t,e){return p(this,null,function*(){let n=W(t);try{let r=yield j$(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Sa.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Te(o.ma):i.removedDocuments.size>0&&(Te(o.ma),o.ma=!1))}),yield Kc(n,r,e)}catch(r){yield zc(r)}})}function GS(t,e,n){let r=W(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=W(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.U_(a)&&(u=!0)}),u&&Bw(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function lH(t,e,n){return p(this,null,function*(){let r=W(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Sa.get(e),s=i&&i.key;if(s){let o=new je(U.comparator);o=o.insert(s,_n.newNoDocument(s,G.min()));let a=ce().add(s),c=new Dh(G.min(),new Map,new je(pe),o,a);yield $R(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),$w(r)}else yield J_(r.localStore,e,!1).then(()=>gw(r,e,n)).catch(zc)})}function dH(t,e){return p(this,null,function*(){let n=W(t),r=e.batch.batchId;try{let i=yield U$(n.localStore,e);qR(n,r,null),HR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Kc(n,i)}catch(i){yield zc(i)}})}function hH(t,e,n){return p(this,null,function*(){let r=W(t);try{let i=yield function(o,a){let c=W(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(Te(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);qR(r,e,n),HR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Kc(r,i)}catch(i){yield zc(i)}})}function HR(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function qR(t,e,n){let r=W(t),i=r.Da[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function gw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||zR(t,r)})}function zR(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(FR(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),$w(t))}function WS(t,e,n){for(let r of n)r instanceof Uh?(t.ba.addReference(r.key,e),fH(t,r)):r instanceof jh?(R("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||zR(t,r.key)):B()}function fH(t,e){let n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(R("SyncEngine","New document in limbo: "+n),t.ya.add(r),$w(t))}function $w(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new U(ke.fromString(e)),r=t.va.next();t.Sa.set(r,new fw(n)),t.wa=t.wa.insert(n,r),OR(t.remoteStore,new Fc(zn(lR(n.path)),r,"TargetPurposeLimboResolution",tR._e))}}function Kc(t,e,n){return p(this,null,function*(){let r=W(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=W_.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.fa.u_(i),yield function(c,u){return p(this,null,function*(){let l=W(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>E.forEach(u,h=>E.forEach(h.qi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>E.forEach(h.Qi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Gc(d))throw d;R("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let f=l.ns.get(h),g=f.snapshotVersion,w=f.withLastLimboFreeSnapshotVersion(g);l.ns=l.ns.insert(h,w)}}})}(r.localStore,s))})}function pH(t,e){return p(this,null,function*(){let n=W(t);if(!n.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());let r=yield NR(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new N(_.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Kc(n,r.us)}})}function gH(t,e){let n=W(t),r=n.Sa.get(e);if(r&&r.ma)return ce().add(r.key);{let i=ce(),s=n.pa.get(e);if(!s)return i;for(let o of s){let a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function mH(t){let e=W(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$R.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lH.bind(null,e),e.fa.u_=iH.bind(null,e.eventManager),e.fa.xa=sH.bind(null,e.eventManager),e}function yH(t){let e=W(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hH.bind(null,e),e}var Bh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return p(this,null,function*(){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return V$(this.persistence,new Q_,e.initialUser,this.serializer)}createPersistence(e){return new q_(G_.Hr,this.serializer)}createSharedClientState(e){return new X_}terminate(){return p(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var mw=class{initialize(e,n){return p(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pH.bind(null,this.syncEngine),yield tH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new uw}()}createDatastore(e){let n=Jh(e.databaseInfo.databaseId),r=function(s){return new tw(s)}(e.databaseInfo);return function(s,o,a,c){return new iw(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new ow(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>GS(this.syncEngine,n,0),function(){return Nh.D()?new Nh:new Z_}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new pw(i,s,o,a,c,u);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return p(this,null,function*(){var e;yield function(r){return p(this,null,function*(){let i=W(r);R("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield Wc(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var yw=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var vw=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=et.UNAUTHENTICATED,this.clientId=vh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>p(this,null,function*(){R("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(R("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new N(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>p(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=jw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function zv(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>p(this,null,function*(){r.isEqual(i)||(yield NR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function KS(t,e){return p(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield _H(t);R("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>zS(e.remoteStore,i)),t._onlineComponents=e})}function vH(t){return t.name==="FirebaseError"?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function _H(t){return p(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){R("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!vH(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),yield zv(t,new Bh)}}else R("FirestoreClient","Using default OfflineComponentProvider"),yield zv(t,new Bh);return t._offlineComponents})}function GR(t){return p(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(R("FirestoreClient","Using user provided OnlineComponentProvider"),yield KS(t,t._uninitializedComponentsProvider._online)):(R("FirestoreClient","Using default OnlineComponentProvider"),yield KS(t,new mw))),t._onlineComponents})}function wH(t){return GR(t).then(e=>e.syncEngine)}function IH(t){return p(this,null,function*(){let e=yield GR(t),n=e.eventManager;return n.onListen=oH.bind(null,e.syncEngine),n.onUnlisten=cH.bind(null,e.syncEngine),n})}function EH(t,e,n={}){let r=new vn;return t.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return function(s,o,a,c,u){let l=new yw({next:h=>{o.enqueueAndForget(()=>rH(s,d)),h.fromCache&&c.source==="server"?u.reject(new N(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new lw(a,l,{includeMetadataChanges:!0,Z_:!0});return nH(s,d)}(yield IH(t),t.asyncQueue,e,n,r)})),r.promise}function WR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var QS=new Map;function KR(t,e,n){if(!n)throw new N(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function CH(t,e,n,r){if(e===!0&&r===!0)throw new N(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YS(t){if(!U.isDocumentKey(t))throw new N(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JS(t){if(U.isDocumentKey(t))throw new N(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ef(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":B()}function Uc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new N(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ef(t);throw new N(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var $h=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new N(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new N(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new N(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new N(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new N(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},So=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $h({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new N(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new N(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $h(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Gv;switch(r.type){case"firstParty":return new Yv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new N(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=QS.get(n);r&&(R("ComponentProvider","Removing Datastore"),QS.delete(n),r.terminate())}(this),Promise.resolve()}};function QR(t,e,n,r={}){var i;let s=(t=Uc(t,So))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=et.MOCK_USER;else{a=Md(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new N(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new et(u)}t._authCredentials=new Wv(new yh(a,c))}}var Ro=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},qt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Qr=class t extends Ro{constructor(e,n,r){super(e,n,lR(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new U(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function No(t,e,...n){if(t=Re(t),KR("collection","path",e),t instanceof So){let r=ke.fromString(e,...n);return JS(r),new Qr(t,null,r)}{if(!(t instanceof qt||t instanceof Qr))throw new N(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return JS(r),new Qr(t.firestore,null,r)}}function Hw(t,e,...n){if(t=Re(t),arguments.length===1&&(e=vh.newId()),KR("doc","path",e),t instanceof So){let r=ke.fromString(e,...n);return YS(r),new qt(t,null,new U(r))}{if(!(t instanceof qt||t instanceof Qr))throw new N(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return YS(r),new qt(t.firestore,t instanceof Qr?t.converter:null,new U(r))}}var _w=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new kh(this,"async_queue_retry"),this._u=()=>{let n=qv();n&&R("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=qv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=qv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new vn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return p(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Gc(e))throw e;R("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Wn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=aw.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&B()}verifyOperationInProgress(){}hu(){return p(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};var jc=class extends So{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new _w}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||XR(this),this._firestoreClient.terminate()}};function YR(t,e){let n=typeof t=="object"?t:Gr(),r=typeof t=="string"?t:e||"(default)",i=Mi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Ny("firestore");s&&QR(i,...s)}return i}function JR(t){return t._firestoreClient||XR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function XR(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new i_(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,WR(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new vw(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Bc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ct.fromBase64String(e))}catch(n){throw new N(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var xo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new N(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var $c=class{constructor(e){this._methodName=e}};var Hc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new N(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new N(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}};var bH=/^__.*__$/;var Hh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function ZR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}var ww=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return zh(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(ZR(this.du)&&bH.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},Iw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jh(e)}Su(e,n,r,i=!1){return new ww({du:e,methodName:n,wu:r,path:Ht.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ex(t){let e=t._freezeSettings(),n=Jh(t._databaseId);return new Iw(t._databaseId,!!e.ignoreUndefinedProperties,n)}var qh=class t extends $c{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function TH(t,e,n,r){let i=t.Su(1,e,n);nx("Data must be an object, but it was:",i,r);let s=[],o=tn.empty();Ki(r,(c,u)=>{let l=qw(e,c,n);u=Re(u);let d=i.fu(l);if(u instanceof qh)s.push(l);else{let h=Qc(u,d);h!=null&&(s.push(l),o.set(l,h))}});let a=new Hn(s);return new Hh(o,a,i.fieldTransforms)}function DH(t,e,n,r,i,s){let o=t.Su(1,e,n),a=[XS(e,r,n)],c=[i];if(s.length%2!=0)throw new N(_.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(XS(e,s[h])),c.push(s[h+1]);let u=[],l=tn.empty();for(let h=a.length-1;h>=0;--h)if(!xH(u,a[h])){let f=a[h],g=c[h];g=Re(g);let w=o.fu(f);if(g instanceof qh)u.push(f);else{let m=Qc(g,w);m!=null&&(u.push(f),l.set(f,m))}}let d=new Hn(u);return new Hh(l,d,o.fieldTransforms)}function AH(t,e,n,r=!1){return Qc(n,t.Su(r?4:3,e))}function Qc(t,e){if(tx(t=Re(t)))return nx("Unsupported field value:",e,t),SH(t,e);if(t instanceof $c)return function(r,i){if(!ZR(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Qc(a,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Re(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=at.fromDate(r);return{timestampValue:xh(i.serializer,s)}}if(r instanceof at){let s=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xh(i.serializer,s)}}if(r instanceof Hc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bc)return{bytesValue:DR(i.serializer,r._byteString)};if(r instanceof qt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Fw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${ef(r)}`)}(t,e)}function SH(t,e){let n={};return nR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(t,(r,i)=>{let s=Qc(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function tx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Hc||t instanceof Bc||t instanceof qt||t instanceof $c)}function nx(t,e,n){if(!tx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=ef(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function XS(t,e,n){if((e=Re(e))instanceof xo)return e._internalPath;if(typeof e=="string")return qw(t,e);throw zh("Field path arguments must be of type string or ",t,!1,void 0,n)}var RH=new RegExp("[~\\*/\\[\\]]");function qw(t,e,n){if(e.search(RH)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xo(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new N(_.INVALID_ARGUMENT,a+t+c)}function xH(t,e){return t.some(n=>n.isEqual(e))}var Gh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ew(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(zw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Ew=class extends Gh{data(){return super.data()}};function zw(t,e){return typeof e=="string"?qw(t,e):e instanceof xo?e._internalPath:e._delegate._internalPath}function MH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new N(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qc=class{},Cw=class extends qc{};function tf(t,e,...n){let r=[];e instanceof qc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof bw).length,a=s.filter(c=>c instanceof Wh).length;if(o>1||o>0&&a>0)throw new N(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Wh=class t extends Cw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return rx(e._query,n),new Ro(e.firestore,e.converter,y_(e._query,n))}_parse(e){let n=ex(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new N(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){eR(d,l);let f=[];for(let g of d)f.push(ZS(c,s,g));h={arrayValue:{values:f}}}else h=ZS(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||eR(d,l),h=AH(a,o,d,l==="in"||l==="not-in");return Qe.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function nf(t,e,n){let r=e,i=zw("where",t);return Wh._create(i,r,n)}var bw=class t extends qc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:wn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)rx(o,c),o=y_(o,c)}(e._query,n),new Ro(e.firestore,e.converter,y_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function ZS(t,e,n){if(typeof(n=Re(n))=="string"){if(n==="")throw new N(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dR(e)&&n.indexOf("/")!==-1)throw new N(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ke.fromString(n));if(!U.isDocumentKey(r))throw new N(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AS(t,new U(r))}if(n instanceof qt)return AS(t,n._key);throw new N(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function eR(t,e){if(!Array.isArray(t)||t.length===0)throw new N(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rx(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new N(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new N(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Tw=class{convertValue(e,n="none"){switch(qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw B()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ki(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Hc(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Pw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nc(e));default:return null}}convertTimestamp(e){let n=Yr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ke.fromString(e);Te(PR(r));let i=new Ch(r.get(1),r.get(3)),s=new U(r.popFirst(5));return i.isEqual(n)||Wn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};var fo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Dw=class extends Gh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new go(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(zw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},go=class extends Dw{data(e={}){return super.data(e)}},Aw=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new go(this._firestore,this._userDataWriter,r.key,r,new fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new N(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new go(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new go(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:PH(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function PH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B()}}var Sw=class extends Tw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}};function ko(t){t=Uc(t,Ro);let e=Uc(t.firestore,jc),n=JR(e),r=new Sw(e);return MH(t._query),EH(n,t._query).then(i=>new Aw(e,r,t,i))}function Gw(t,e,n,...r){t=Uc(t,qt);let i=Uc(t.firestore,jc),s=ex(i),o;return o=typeof(e=Re(e))=="string"||e instanceof xo?DH(s,"updateDoc",t._key,e,n,r):TH(s,"updateDoc",t._key,e),NH(i,[o.toMutation(t._key,Bi.exists(!0))])}function NH(t,e){return function(r,i){let s=new vn;return r.asyncQueue.enqueueAndForget(()=>p(this,null,function*(){return uH(yield wH(r),i,s)})),s.promise}(JR(t),e)}(function(e,n=!0){(function(i){Mo=i})(gn),lt(new He("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new jc(new Kv(r.getProvider("auth-internal")),new Xv(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new N(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ch(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ye(CS,"4.4.1",e),ye(CS,"4.4.1","esm2017")})();var kH="firebase",OH="10.7.2";ye(kH,OH,"app");var In=new or("ANGULARFIRE2_VERSION");function Kw(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Yc=(t,e)=>{let n=e?[e]:nc(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ei=class{constructor(){return Yc(FH)}},FH="app-check";function Oo(){}var rf=class{zone;delegate;constructor(e,n=cp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Ww=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oo,{},Oo,Oo)),n.pipe(Ne({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ji=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new rf(Zone.current)),this.insideAngular=n.run(()=>new rf(Zone.current,Qo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(b(ee))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Jc(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function LH(t){return Jc().ngZone.runOutsideAngular(()=>t())}function Yi(t){return Jc().ngZone.run(()=>t())}function Qw(t){return t.pipe(Xn(Jc().outsideAngular))}function sf(t){return VH(Jc())(t)}function VH(t){return function(n){return n=n.lift(new Ww(t.ngZone)),n.pipe(Er(t.outsideAngular),Xn(t.insideAngular))}}var UH=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Yi(()=>t.apply(void 0,r))},Xc=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Yi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oo,{},Oo,Oo))),r[s]=UH(r[s],n));let i=LH(()=>t.apply(this,r));if(!e)if(i instanceof J){let s=Jc();return i.pipe(Er(s.outsideAngular),Xn(s.insideAngular))}else return Yi(()=>i);return i instanceof J?i.pipe(sf):i instanceof Promise?Yi(()=>new Promise((s,o)=>i.then(a=>Yi(()=>s(a)),a=>Yi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Yi(()=>i)};var Xi=class{constructor(e){return e}},Zc=class{constructor(){return nc()}};function BH(t){return t&&t.length===1?t[0]:new Xi(Gr())}var Yw=new x("angularfire2._apps"),$H={provide:Xi,useFactory:BH,deps:[[new Pt,Yw]]},HH={provide:Zc,deps:[[new Pt,Yw]]};function qH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Xi(r)}}var zH=(()=>{class t{constructor(n){ye("angularfire",In.full,"core"),ye("angularfire",In.full,"app"),ye("angular",Ql.full,n.toString())}static \u0275fac=function(r){return new(r||t)(b(rt))};static \u0275mod=Ce({type:t});static \u0275inj=Ee({providers:[$H,HH]})}return t})();function ix(t,...e){return{ngModule:zH,providers:[{provide:Yw,useFactory:qH(t),multi:!0,deps:[ee,nt,Ji,...e]}]}}var sx=Xc(to,!0);function hx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var fx=hx,px=new Ot("auth","Firebase",hx());var cf=new Zt("@firebase/auth");function GH(t,...e){cf.logLevel<=ie.WARN&&cf.warn(`Auth (${gn}): ${t}`,...e)}function af(t,...e){cf.logLevel<=ie.ERROR&&cf.error(`Auth (${gn}): ${t}`,...e)}function ox(t,...e){throw aI(t,...e)}function gx(t,...e){return aI(t,...e)}function WH(t,e,n){let r=Object.assign(Object.assign({},fx()),{[e]:n});return new Ot("auth","Firebase",r).create(e,{appName:t.name})}function aI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return px.create(t,...e)}function _e(t,e,...n){if(!t)throw aI(e,...n)}function eu(t){let e="INTERNAL ASSERTION FAILED: "+t;throw af(e),new Error(e)}function uf(t,e){t||eu(e)}function KH(){return ax()==="http:"||ax()==="https:"}function ax(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function QH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KH()||OD()||"connection"in navigator)?navigator.onLine:!0}function YH(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var es=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,uf(n>e,"Short delay should be less than long delay!"),this.isMobile=ND()||FD()}get(){return QH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function JH(t,e){uf(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var lf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;eu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;eu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;eu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var XH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var ZH=new es(3e4,6e4);function mx(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function yf(s,o,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return yx(t,i,()=>p(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Fy(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),lf.fetch()(vx(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function yx(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},XH),e);try{let i=new Zw(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw of(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw of(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw of(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw of(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw WH(t,l,u);ox(t,l)}}catch(i){if(i instanceof It)throw i;ox(t,"network-request-failed",{message:String(i)})}})}function vx(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?JH(t.config,i):`${t.config.apiScheme}://${i}`}var Zw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gx(this.auth,"network-request-failed")),ZH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function of(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=gx(t,e,r);return i.customData._tokenResponse=n,i}function e4(t,e){return p(this,null,function*(){return yf(t,"POST","/v1/accounts:delete",e)})}function t4(t,e){return p(this,null,function*(){return yf(t,"POST","/v1/accounts:lookup",e)})}function tu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function cI(t,e=!1){return p(this,null,function*(){let n=Re(t),r=yield n.getIdToken(e),i=_x(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:tu(Jw(i.auth_time)),issuedAtTime:tu(Jw(i.iat)),expirationTime:tu(Jw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Jw(t){return Number(t)*1e3}function _x(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return af("JWT malformed, contained fewer than 3 sections"),null;try{let i=Py(n);return i?JSON.parse(i):(af("Failed to decode base64 JWT payload"),null)}catch(i){return af("Caught error parsing JWT payload as JSON",i?.toString()),null}}function n4(t){let e=_x(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function eI(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof It&&r4(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function r4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var tI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var df=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function hf(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield eI(t,t4(n,{idToken:r}));_e(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?s4(s.providerUserInfo):[],a=i4(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new df(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function uI(t){return p(this,null,function*(){let e=Re(t);yield hf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function i4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function s4(t){return t.map(e=>{var{providerId:n}=e,r=up(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function o4(t,e){return p(this,null,function*(){let n=yield yx(t,{},()=>p(this,null,function*(){let r=Fy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=vx(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lf.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function a4(t,e){return p(this,null,function*(){return yf(t,"POST","/v2/accounts:revokeToken",mx(t,e))})}var ff=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return p(this,null,function*(){return _e(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield o4(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(_e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return eu("not implemented")}};function ti(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var pf=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=up(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new df(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield eI(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return cI(this,e)}reload(){return uI(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield hf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){let e=yield this.getIdToken();return yield eI(this,e4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,m=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,I=(u=n.createdAt)!==null&&u!==void 0?u:void 0,F=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:j,emailVerified:k,isAnonymous:de,providerData:ne,stsTokenManager:Ye}=n;_e(j&&Ye,e,"internal-error");let Tt=ff.fromJSON(this.name,Ye);_e(typeof j=="string",e,"internal-error"),ti(d,e.name),ti(h,e.name),_e(typeof k=="boolean",e,"internal-error"),_e(typeof de=="boolean",e,"internal-error"),ti(f,e.name),ti(g,e.name),ti(w,e.name),ti(m,e.name),ti(I,e.name),ti(F,e.name);let nn=new t({uid:j,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:de,photoURL:g,phoneNumber:f,tenantId:w,stsTokenManager:Tt,createdAt:I,lastLoginAt:F});return ne&&Array.isArray(ne)&&(nn.providerData=ne.map(mu=>Object.assign({},mu))),m&&(nn._redirectEventId=m),nn}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new ff;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield hf(s),s})}};var cx=new Map;function Zi(t){uf(t instanceof Function,"Expected a class definition");let e=cx.get(t);return e?(uf(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cx.set(t,e),e)}var c4=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),nI=c4;function Xw(t,e,n){return`firebase:${t}:${e}:${n}`}var gf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Xw(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xw("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?pf._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(Zi(nI),e,r);let i=(yield Promise.all(n.map(u=>p(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Zi(nI),o=Xw(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=pf._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>p(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function ux(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p4(e))return"Blackberry";if(g4(e))return"Webos";if(l4(e))return"Safari";if((e.includes("chrome/")||d4(e))&&!e.includes("edge/"))return"Chrome";if(f4(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function u4(t=ut()){return/firefox\//i.test(t)}function l4(t=ut()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d4(t=ut()){return/crios\//i.test(t)}function h4(t=ut()){return/iemobile/i.test(t)}function f4(t=ut()){return/android/i.test(t)}function p4(t=ut()){return/blackberry/i.test(t)}function g4(t=ut()){return/webos/i.test(t)}function wx(t,e=[]){let n;switch(t){case"Browser":n=ux(ut());break;case"Worker":n=`${ux(ut())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gn}/${r}`}var rI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function m4(n){return p(this,arguments,function*(t,e={}){return yf(t,"GET","/v2/passwordPolicy",mx(t,e))})}var y4=6,iI=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:y4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var sI=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mf(this),this.idTokenSubscription=new mf(this),this.beforeStateQueue=new rI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=px,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield gf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield hf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=YH()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){let n=e?Re(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(Zi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield m4(this),n=new iI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ot("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield a4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Zi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=yield gf.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&GH(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function v4(t){return Re(t)}var mf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Pd(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function _4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function w4(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Zi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var gJ=_4("rcb"),mJ=new es(3e4,6e4);var yJ=new es(2e3,1e4);var vJ=10*60*1e3;var _J=new es(3e4,6e4);var wJ=new es(5e3,15e3);var IJ=encodeURIComponent("fac");var lx="@firebase/auth",dx="1.5.1";var oI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function I4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function E4(t){lt(new He("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wx(t)},u=new sI(r,i,s,c);return w4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lt(new He("auth-internal",e=>{let n=v4(e.getProvider("auth").getImmediate());return(r=>new oI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ye(lx,dx,I4(t)),ye(lx,dx,"esm2017")}var C4=5*60,EJ=PD("authIdTokenMaxAge")||C4;E4("Browser");var Eq="auth";var vf=class{constructor(){return Yc(Eq)}};var _r=class{constructor(e){return e}},Ix="firestore",lI=class{constructor(){return Yc(Ix)}};var dI=new x("angularfire2.firestore-instances");function Cq(t,e){let n=Kw(Ix,t,e);return n&&new _r(n)}function bq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new _r(r)}}var Tq={provide:lI,deps:[[new Pt,dI]]},Dq={provide:_r,useFactory:Cq,deps:[[new Pt,dI],Xi]},Aq=(()=>{class t{constructor(){ye("angularfire",In.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ce({type:t});static \u0275inj=Ee({providers:[Dq,Tq]})}return t})();function Ex(t,...e){return{ngModule:Aq,providers:[{provide:dI,useFactory:bq(t),multi:!0,deps:[ee,nt,Ji,Zc,[new Pt,vf],[new Pt,ei],...e]}]}}var Cx=Xc(YR,!0);var ni=(()=>{let e=class e{constructor(r){this.fb=r,this.courseId="",this.subjectWork=new he(null),this.subjectWorkById=new he(null)}getData(r){return p(this,null,function*(){let i=[],s=tf(No(this.fb,"works"),nf("class","==",r)),o=ko(s);return o.then(a=>{a.forEach(c=>{i.push(c.data()),this.subjectWork=new he(i)})}),yield o})}getDataById(r){return p(this,null,function*(){let i=[],s=tf(No(this.fb,"works"),nf("id","==",+r)),o=ko(s);return o.then(a=>{a.forEach(c=>{i.push(c.data()),this.subjectWorkById=new he(i)})}),o})}backPageDetail(){return p(this,null,function*(){})}};e.\u0275fac=function(i){return new(i||e)(b(_r))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qn=(()=>{let e=class e{constructor(){}disableDownloadImages(){document.querySelectorAll("img").forEach(r=>{r.oncontextmenu=i=>{i.preventDefault()}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Sq=new Map,Rq={activated:!1,tokenObservers:[]},xq={initialized:!1,enabled:!1};function En(t){return Sq.get(t)||Object.assign({},Rq)}function Rx(){return xq}var Mq="https://content-firebaseappcheck.googleapis.com/v1";var Pq="exchangeDebugToken",Tx={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},FZ=24*60*60*1e3;var fI=class{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return p(this,null,function*(){this.stop();try{this.pending=new Si,this.pending.promise.catch(n=>{}),yield Nq(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Si,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Nq(t){return new Promise(e=>{setTimeout(e,t)})}var kq={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ri=new Ot("appCheck","AppCheck",kq);function xx(t){if(!En(t).activated)throw ri.create("use-before-activation",{appName:t.name})}function Mx(r,i){return p(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(e),headers:s},c;try{c=yield fetch(t,a)}catch(f){throw ri.create("fetch-network-error",{originalErrorMessage:f?.message})}if(c.status!==200)throw ri.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(f){throw ri.create("fetch-parse-error",{originalErrorMessage:f?.message})}let l=u.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw ri.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let d=Number(l[1])*1e3,h=Date.now();return{token:u.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function Px(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Mq}/projects/${n}/apps/${r}:${Pq}?key=${i}`,body:{debug_token:e}}}var Oq="firebase-app-check-database",Fq=1,pI="firebase-app-check-store";var wf=null;function Lq(){return wf||(wf=new Promise((t,e)=>{try{let n=indexedDB.open(Oq,Fq);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ri.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(pI,{keyPath:"compositeKey"})}}}catch(n){e(ri.create("storage-open",{originalErrorMessage:n?.message}))}}),wf)}function Vq(t,e){return Uq(jq(t),e)}function Uq(t,e){return p(this,null,function*(){let r=(yield Lq()).transaction(pI,"readwrite"),s=r.objectStore(pI).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(ri.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function jq(t){return`${t.options.appId}-${t.name}`}var gI=new Zt("@firebase/app-check");function hI(t,e){return Zs()?Vq(t,e).catch(n=>{gI.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Nx(){return Rx().enabled}function kx(){return p(this,null,function*(){let t=Rx();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Bq={error:"UNKNOWN_ERROR"};function $q(t){return Rd.encodeString(JSON.stringify(t),!1)}function mI(t,e=!1){return p(this,null,function*(){let n=t.app;xx(n);let r=En(n),i=r.token,s;if(i&&!ru(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(ru(c)?i=c:yield hI(n,void 0))}if(!e&&i&&ru(i))return{token:i.token};let o=!1;if(Nx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Mx(Px(n,yield kx()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let c=yield r.exchangeTokenPromise;return yield hI(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield En(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?gI.warn(c.message):gI.error(c),s=c}let a;return i?s?ru(i)?a={token:i.token,internalError:s}:a=Ax(s):(a={token:i.token},r.token=i,yield hI(n,i)):a=Ax(s),o&&Gq(n,a),a})}function Hq(t){return p(this,null,function*(){let e=t.app;xx(e);let{provider:n}=En(e);if(Nx()){let r=yield kx(),{token:i}=yield Mx(Px(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function qq(t,e,n,r){let{app:i}=t,s=En(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&ru(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Dx(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Dx(t))}function Ox(t,e){let n=En(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Dx(t){let{app:e}=t,n=En(e),r=n.tokenRefresher;r||(r=zq(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function zq(t){let{app:e}=t;return new fI(()=>p(this,null,function*(){let n=En(e),r;if(n.token?r=yield mI(t,!0):r=yield mI(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=En(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Tx.RETRIAL_MIN_WAIT,Tx.RETRIAL_MAX_WAIT)}function Gq(t,e){let n=En(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ru(t){return t.expireTimeMillis-Date.now()>0}function Ax(t){return{token:$q(Bq),error:t}}var yI=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=En(this.app);for(let n of e)Ox(this.app,n.next);return Promise.resolve()}};function Wq(t,e){return new yI(t,e)}function Kq(t){return{getToken:e=>mI(t,e),getLimitedUseToken:()=>Hq(t),addTokenListener:e=>qq(t,"INTERNAL",e),removeTokenListener:e=>Ox(t.app,e)}}var Qq="@firebase/app-check",Yq="0.8.1";var Jq="app-check",Sx="app-check-internal";function Xq(){lt(new He(Jq,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Wq(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Sx).initialize()})),lt(new He(Sx,t=>{let e=t.getProvider("app-check").getImmediate();return Kq(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ye(Qq,Yq)}Xq();var Zq=["localhost","0.0.0.0","127.0.0.1"],KZ=typeof window<"u"&&Zq.includes(window.location.hostname);var vI=class{constructor(e,n){this._delegate=e,this.firebase=n,tc(e,new He("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Od(this._delegate)))}_getService(e,n=Vn){var r;this._delegate.checkDestroyed();let i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Vn){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){tc(this._delegate,e)}_addOrOverwriteComponent(e){Yy(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var tz={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Fx=new Ot("app-compat","Firebase",tz);function nz(t){let e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:ye,setLogLevel:Ld,onLog:Fd,apps:null,SDK_VERSION:gn,INTERNAL:{registerComponent:a,removeApp:r,useAsService:c,modularAPIs:Jy}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||Vn,!Oy(e,u))throw Fx.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,l={}){let d=to(u,l);if(Oy(e,d.name))return e[d.name];let h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){let l=u.name,d=l.replace("-compat","");if(lt(u)&&u.type==="PUBLIC"){let h=(f=i())=>{if(typeof f[d]!="function")throw Fx.create("invalid-app-argument",{appName:l});return f[d]()};u.serviceProps!==void 0&&Xa(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,l).apply(this,u.multipleInstances?f:[])}}return u.type==="PUBLIC"?n[d]:null}function c(u,l){return l==="serverAuth"?null:l}return n}function Vx(){let t=nz(vI);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:Vx,extendNamespace:e,createSubscribe:Pd,ErrorFactory:Ot,deepExtend:Xa});function e(n){Xa(t,n)}return t}var rz=Vx();var Lx=new Zt("@firebase/app-compat"),iz="@firebase/app-compat",sz="0.2.26";function oz(t){ye(iz,sz,t)}if(kD()&&self.firebase!==void 0){Lx.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);let t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&Lx.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var zt=rz;oz();var az="firebase",cz="10.7.2";zt.registerVersion(az,cz,"app-compat");var If=class{constructor(e){return e}},Ef=new x("angularfire2.app.options"),Cf=new x("angularfire2.app.name");function _I(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let o=zt.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>zt.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){let a=!!module.hot;uz("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new If(o)}var uz=(t,...e)=>{_m()&&typeof console<"u"&&console[t](...e)},lz={provide:If,useFactory:_I,deps:[Ef,ee,[new Pt,Cf]]},jx=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Ef,useValue:n},{provide:Cf,useValue:r}]}}constructor(n){zt.registerVersion("angularfire",In.full,"core"),zt.registerVersion("angularfire",In.full,"app-compat"),zt.registerVersion("angular",Ql.full,n.toString())}static \u0275fac=function(r){return new(r||t)(b(rt))};static \u0275mod=Ce({type:t});static \u0275inj=Ee({providers:[lz]})}return t})();function Bx(t,e,n,r,i){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return dz(i,o)||(Ux("error",`${e} was already initialized on the ${n} Firebase App with different settings.${hz?" You may need to reload as Firebase is not HMR aware.":""}`),Ux("warn",{is:i,was:o})),s;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function dz(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var hz=typeof module<"u"&&!!module.hot,Ux=(t,...e)=>{_m()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Yx="firebasestorage.googleapis.com",Jx="storageBucket",fz=2*60*1e3,pz=10*60*1e3,gz=1e3;var Oe=class t extends It{constructor(e,n,r=0){super(wI(e),`Firebase Storage: ${n} (${wI(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Pe=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Pe||{});function wI(t){return"storage/"+t}function SI(){let t="An unknown error occurred, please check the error payload for server response.";return new Oe(Pe.UNKNOWN,t)}function mz(t){return new Oe(Pe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function yz(t){return new Oe(Pe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vz(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Oe(Pe.UNAUTHENTICATED,t)}function _z(){return new Oe(Pe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wz(t){return new Oe(Pe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Xx(){return new Oe(Pe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Zx(){return new Oe(Pe.CANCELED,"User canceled the upload/download.")}function Iz(t){return new Oe(Pe.INVALID_URL,"Invalid URL '"+t+"'.")}function Ez(t){return new Oe(Pe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Cz(){return new Oe(Pe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Jx+"' property when initializing the app?")}function eM(){return new Oe(Pe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bz(){return new Oe(Pe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Tz(){return new Oe(Pe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Dz(t){return new Oe(Pe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ts(t){return new Oe(Pe.INVALID_ARGUMENT,t)}function tM(){return new Oe(Pe.APP_DELETED,"The Firebase app was deleted.")}function RI(t){return new Oe(Pe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function su(t,e){return new Oe(Pe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function iu(t){throw new Oe(Pe.INTERNAL_ERROR,"Internal error: "+t)}var bt=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Ez(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}let l="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${l}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},w=n===Yx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,m="([^?#]*)",I=new RegExp(`^https?://${w}/${i}/${m}`,"i"),j=[{regex:a,indices:c,postModify:s},{regex:f,indices:g,postModify:u},{regex:I,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<j.length;k++){let de=j[k],ne=de.regex.exec(e);if(ne){let Ye=ne[de.indices.bucket],Tt=ne[de.indices.path];Tt||(Tt=""),r=new t(Ye,Tt),de.postModify(r);break}}if(r==null)throw Iz(e);return r}},EI=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Az(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function l(...m){u||(u=!0,e.apply(null,m))}function d(m){i=setTimeout(()=>{i=null,t(f,c())},m)}function h(){s&&clearTimeout(s)}function f(m,...I){if(u){h();return}if(m){h(),l.call(null,m,...I);return}if(c()||o){h(),l.call(null,m,...I);return}r<64&&(r*=2);let j;a===1?(a=2,j=0):j=(r+Math.random())*1e3,d(j)}let g=!1;function w(m){g||(g=!0,h(),!u&&(i!==null?(m||(a=2),clearTimeout(i),d(0)):m||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function Sz(t){t(!1)}function Rz(t){return t!==void 0}function xz(t){return typeof t=="function"}function Mz(t){return typeof t=="object"&&!Array.isArray(t)}function Df(t){return typeof t=="string"||t instanceof String}function $x(t){return xI()&&t instanceof Blob}function xI(){return typeof Blob<"u"}function CI(t,e,n,r){if(r<e)throw ts(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ts(`Invalid value for '${t}'. Expected ${n} or less.`)}function ii(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function nM(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Vo=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Vo||{});function rM(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var bI=class{constructor(e,n,r,i,s,o,a,c,u,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,g)=>{this.resolve_=f,this.reject_=g,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Lo(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Vo.NO_ERROR,c=s.getStatus();if(!a||rM(c,this.additionalRetryCodes_)&&this.retry){let l=s.getErrorCode()===Vo.ABORT;r(!1,new Lo(!1,null,l));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Lo(u,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());Rz(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=SI();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?tM():Zx();o(c)}else{let c=Xx();o(c)}};this.canceled_?n(!1,new Lo(!1,null,!0)):this.backoffId_=Az(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Sz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Lo=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Pz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Nz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function kz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Oz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Fz(t,e,n,r,i,s,o=!0){let a=nM(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return kz(u,e),Pz(u,n),Nz(u,s),Oz(u,r),new bI(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function Lz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Vz(...t){let e=Lz();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(xI())return new Blob(t);throw new Oe(Pe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Uz(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function jz(t){if(typeof atob>"u")throw Dz("base-64");return atob(t)}var Gt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ou=class{constructor(e,n){this.data=e,this.contentType=n||null}};function MI(t,e){switch(t){case Gt.RAW:return new ou(iM(e));case Gt.BASE64:case Gt.BASE64URL:return new ou(sM(t,e));case Gt.DATA_URL:return new ou($z(e),Hz(e))}throw SI()}function iM(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Bz(t){let e;try{e=decodeURIComponent(t)}catch{throw su(Gt.DATA_URL,"Malformed data URL.")}return iM(e)}function sM(t,e){switch(t){case Gt.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw su(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Gt.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw su(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jz(e)}catch(i){throw i.message.includes("polyfill")?i:su(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var Tf=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw su(Gt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=qz(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function $z(t){let e=new Tf(t);return e.base64?sM(Gt.BASE64,e.rest):Bz(e.rest)}function Hz(t){return new Tf(t).contentType}function qz(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Uo=class t{constructor(e,n){let r=0,i="";$x(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if($x(this.data_)){let r=this.data_,i=Uz(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(xI()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(Vz.apply(null,n))}else{let n=e.map(o=>Df(o)?MI(Gt.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new t(i,!0)}}uploadData(){return this.data_}};function PI(t){let e;try{e=JSON.parse(t)}catch{return null}return Mz(e)?e:null}function zz(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Gz(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function oM(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Wz(t,e){return e}var ct=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Wz}},bf=null;function Kz(t){return!Df(t)||t.length<2?t:oM(t)}function Af(){if(bf)return bf;let t=[];t.push(new ct("bucket")),t.push(new ct("generation")),t.push(new ct("metageneration")),t.push(new ct("name","fullPath",!0));function e(s,o){return Kz(o)}let n=new ct("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new ct("size");return i.xform=r,t.push(i),t.push(new ct("timeCreated")),t.push(new ct("updated")),t.push(new ct("md5Hash",null,!0)),t.push(new ct("cacheControl",null,!0)),t.push(new ct("contentDisposition",null,!0)),t.push(new ct("contentEncoding",null,!0)),t.push(new ct("contentLanguage",null,!0)),t.push(new ct("contentType",null,!0)),t.push(new ct("metadata","customMetadata",!0)),bf=t,bf}function Qz(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new bt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Yz(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return Qz(r,t),r}function aM(t,e,n){let r=PI(e);return r===null?null:Yz(t,r,n)}function Jz(t,e,n,r){let i=PI(e);if(i===null||!Df(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(u=>{let l=t.bucket,d=t.fullPath,h="/b/"+o(l)+"/o/"+o(d),f=ii(h,n,r),g=nM({alt:"media",token:u});return f+g})[0]}function NI(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var Hx="prefixes",qx="items";function Xz(t,e,n){let r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Hx])for(let i of n[Hx]){let s=i.replace(/\/$/,""),o=t._makeStorageReference(new bt(e,s));r.prefixes.push(o)}if(n[qx])for(let i of n[qx]){let s=t._makeStorageReference(new bt(e,i.name));r.items.push(s)}return r}function Zz(t,e,n){let r=PI(n);return r===null?null:Xz(t,e,r)}var Cn=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Jn(t){if(!t)throw SI()}function Sf(t,e){function n(r,i){let s=aM(t,i,e);return Jn(s!==null),s}return n}function e3(t,e){function n(r,i){let s=Zz(t,e,i);return Jn(s!==null),s}return n}function t3(t,e){function n(r,i){let s=aM(t,i,e);return Jn(s!==null),Jz(s,i,t.host,t._protocol)}return n}function $o(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=_z():i=vz():n.getStatus()===402?i=yz(t.bucket):n.getStatus()===403?i=wz(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Rf(t){let e=$o(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=mz(t.path)),s.serverResponse=i.serverResponse,s}return n}function cM(t,e,n){let r=e.fullServerUrl(),i=ii(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Cn(i,s,Sf(t,n),o);return a.errorHandler=Rf(e),a}function n3(t,e,n,r,i){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);let o=e.bucketOnlyServerUrl(),a=ii(o,t.host,t._protocol),c="GET",u=t.maxOperationRetryTime,l=new Cn(a,c,e3(t,e.bucket),u);return l.urlParams=s,l.errorHandler=$o(e),l}function r3(t,e,n){let r=e.fullServerUrl(),i=ii(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Cn(i,s,t3(t,n),o);return a.errorHandler=Rf(e),a}function i3(t,e,n,r){let i=e.fullServerUrl(),s=ii(i,t.host,t._protocol),o="PATCH",a=NI(n,r),c={"Content-Type":"application/json; charset=utf-8"},u=t.maxOperationRetryTime,l=new Cn(s,o,Sf(t,r),u);return l.headers=c,l.body=a,l.errorHandler=Rf(e),l}function s3(t,e){let n=e.fullServerUrl(),r=ii(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(c,u){}let a=new Cn(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=Rf(e),a}function o3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function uM(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=o3(null,e)),r}function a3(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let j="";for(let k=0;k<2;k++)j=j+Math.random().toString().slice(2);return j}let c=a();o["Content-Type"]="multipart/related; boundary="+c;let u=uM(e,r,i),l=NI(u,n),d="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+l+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+c+"--",f=Uo.getBlob(d,r,h);if(f===null)throw eM();let g={name:u.fullPath},w=ii(s,t.host,t._protocol),m="POST",I=t.maxUploadRetryTime,F=new Cn(w,m,Sf(t,n),I);return F.urlParams=g,F.headers=o,F.body=f.uploadData(),F.errorHandler=$o(e),F}var jo=class{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}};function kI(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Jn(!1)}return Jn(!!n&&(e||["active"]).indexOf(n)!==-1),n}function c3(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o=uM(e,r,i),a={name:o.fullPath},c=ii(s,t.host,t._protocol),u="POST",l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=NI(o,n),h=t.maxUploadRetryTime;function f(w){kI(w);let m;try{m=w.getResponseHeader("X-Goog-Upload-URL")}catch{Jn(!1)}return Jn(Df(m)),m}let g=new Cn(c,u,f,h);return g.urlParams=a,g.headers=l,g.body=d,g.errorHandler=$o(e),g}function u3(t,e,n,r){let i={"X-Goog-Upload-Command":"query"};function s(u){let l=kI(u,["active","final"]),d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Jn(!1)}d||Jn(!1);let h=Number(d);return Jn(!isNaN(h)),new jo(h,r.size(),l==="final")}let o="POST",a=t.maxUploadRetryTime,c=new Cn(n,o,s,a);return c.headers=i,c.errorHandler=$o(e),c}var zx=256*1024;function l3(t,e,n,r,i,s,o,a){let c=new jo(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw bz();let u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));let d=c.current,h=d+l,f="";l===0?f="finalize":u===l?f="upload, finalize":f="upload";let g={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${c.current}`},w=r.slice(d,h);if(w===null)throw eM();function m(k,de){let ne=kI(k,["active","final"]),Ye=c.current+l,Tt=r.size(),nn;return ne==="final"?nn=Sf(e,s)(k,de):nn=null,new jo(Ye,Tt,ne==="final",nn)}let I="POST",F=e.maxUploadRetryTime,j=new Cn(n,I,m,F);return j.headers=g,j.body=w.uploadData(),j.progressCallback=a||null,j.errorHandler=$o(t),j}var lM={STATE_CHANGED:"state_changed"},gt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function II(t){switch(t){case"running":case"pausing":case"canceling":return gt.RUNNING;case"paused":return gt.PAUSED;case"success":return gt.SUCCESS;case"canceled":return gt.CANCELED;case"error":return gt.ERROR;default:return gt.ERROR}}var TI=class{constructor(e,n,r){if(xz(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function Fo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var Gx=null,DI=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw iu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw iu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},AI=class extends DI{initXhr(){this.xhr_.responseType="text"}};function Yn(){return Gx?Gx():new AI}var au=class{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Af(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Pe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(rM(i.status,[]))if(s)i=Xx();else{this.sleepTime=Math.max(this.sleepTime*2,gz),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Pe.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let r=c3(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Yn,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,r)=>{let i=u3(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Yn,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=zx*this._chunkMultiplier,n=new jo(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=l3(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}let a=this._ref.storage._makeRequest(o,Yn,i,s,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){zx*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let r=cM(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Yn,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let r=a3(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Yn,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Zx(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=II(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){let s=new TI(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(II(this._state)){case gt.SUCCESS:Fo(this._resolve.bind(null,this.snapshot))();break;case gt.CANCELED:case gt.ERROR:let n=this._reject;Fo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(II(this._state)){case gt.RUNNING:case gt.PAUSED:e.next&&Fo(e.next.bind(e,this.snapshot))();break;case gt.SUCCESS:e.complete&&Fo(e.complete.bind(e))();break;case gt.CANCELED:case gt.ERROR:e.error&&Fo(e.error.bind(e,this._error))();break;default:e.error&&Fo(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var Bo=class t{constructor(e,n){this._service=e,n instanceof bt?this._location=n:this._location=bt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new bt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oM(this._location.path)}get storage(){return this._service}get parent(){let e=zz(this._location.path);if(e===null)return null;let n=new bt(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw RI(e)}};function d3(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new au(t,new Uo(e),n)}function h3(t){let e={prefixes:[],items:[]};return dM(t,e).then(()=>e)}function dM(t,e,n){return p(this,null,function*(){let i=yield hM(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&(yield dM(t,e,i.nextPageToken))})}function hM(t,e){e!=null&&typeof e.maxResults=="number"&&CI("options.maxResults",1,1e3,e.maxResults);let n=e||{},r=n3(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Yn)}function f3(t){t._throwIfRoot("getMetadata");let e=cM(t.storage,t._location,Af());return t.storage.makeRequestWithTokens(e,Yn)}function p3(t,e){t._throwIfRoot("updateMetadata");let n=i3(t.storage,t._location,e,Af());return t.storage.makeRequestWithTokens(n,Yn)}function g3(t){t._throwIfRoot("getDownloadURL");let e=r3(t.storage,t._location,Af());return t.storage.makeRequestWithTokens(e,Yn).then(n=>{if(n===null)throw Tz();return n})}function m3(t){t._throwIfRoot("deleteObject");let e=s3(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Yn)}function fM(t,e){let n=Gz(t._location.path,e),r=new bt(t._location.bucket,n);return new Bo(t.storage,r)}function y3(t){return/^[A-Za-z]+:\/\//.test(t)}function v3(t,e){return new Bo(t,e)}function pM(t,e){if(t instanceof cu){let n=t;if(n._bucket==null)throw Cz();let r=new Bo(n,n._bucket);return e!=null?pM(r,e):r}else return e!==void 0?fM(t,e):t}function _3(t,e){if(e&&y3(e)){if(t instanceof cu)return v3(t,e);throw ts("To use ref(service, url), the first argument must be a Storage instance.")}else return pM(t,e)}function Wx(t,e){let n=e?.[Jx];return n==null?null:bt.makeFromBucketSpec(n,t)}function w3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Md(i,t.app.options.projectId))}var cu=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Yx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fz,this._maxUploadRetryTime=pz,this._requests=new Set,i!=null?this._bucket=bt.makeFromBucketSpec(i,this._host):this._bucket=Wx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bt.makeFromBucketSpec(this._url,e):this._bucket=Wx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return p(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return p(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new EI(tM());{let o=Fz(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return p(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},Kx="@firebase/storage",Qx="0.12.0";var I3="storage";function gM(t,e,n){return t=Re(t),d3(t,e,n)}function mM(t){return t=Re(t),f3(t)}function yM(t,e){return t=Re(t),p3(t,e)}function vM(t,e){return t=Re(t),hM(t,e)}function _M(t){return t=Re(t),h3(t)}function wM(t){return t=Re(t),g3(t)}function IM(t){return t=Re(t),m3(t)}function OI(t,e){return t=Re(t),_3(t,e)}function EM(t,e){return fM(t,e)}function CM(t,e,n,r={}){w3(t,e,n,r)}function E3(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new cu(n,r,i,e,gn)}function C3(){lt(new He(I3,E3,"PUBLIC").setMultipleInstances(!0)),ye(Kx,Qx,""),ye(Kx,Qx,"esm2017")}C3();var Ho=class{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var xf=class{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ho(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new Ho(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new Ho(o,this,this._ref)):s={next:n.next?o=>n.next(new Ho(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}},Mf=class{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new ns(e,this._service))}get items(){return this._delegate.items.map(e=>new ns(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var ns=class t{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let n=EM(this._delegate,e);return new t(n,this.storage)}get root(){return new t(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new t(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new xf(gM(this._delegate,e,n),this)}putString(e,n=Gt.RAW,r){this._throwIfRoot("putString");let i=MI(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new xf(new au(this._delegate,new Uo(i.data,!0),s),this)}listAll(){return _M(this._delegate).then(e=>new Mf(e,this.storage))}list(e){return vM(this._delegate,e||void 0).then(n=>new Mf(n,this.storage))}getMetadata(){return mM(this._delegate)}updateMetadata(e){return yM(this._delegate,e)}getDownloadURL(){return wM(this._delegate)}delete(){return this._throwIfRoot("delete"),IM(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw RI(e)}};var Pf=class{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(bM(e))throw ts("ref() expected a child path but got a URL, use refFromURL instead.");return new ns(OI(this._delegate,e),this)}refFromURL(e){if(!bM(e))throw ts("refFromURL() expected a full URL but got a child path, use ref() instead.");try{bt.makeFromUrl(e,this._delegate.host)}catch{throw ts("refFromUrl() expected a valid full URL but got an invalid one.")}return new ns(OI(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){CM(this._delegate,e,n,r)}};function bM(t){return/^[A-Za-z]+:\/\//.test(t)}var b3="@firebase/storage-compat",T3="0.3.3";var D3="storage-compat";function A3(t,{instanceIdentifier:e}){let n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new Pf(n,r)}function S3(t){let e={TaskState:gt,TaskEvent:lM,StringFormat:Gt,Storage:Pf,Reference:ns};t.INTERNAL.registerComponent(new He(D3,A3,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(b3,T3)}S3(zt);function R3(t){return new J(e=>{let n=o=>e.next(o),r=o=>e.error(o),i=()=>e.complete();n(t.snapshot);let s=t.on("state_changed",n);return t.then(o=>{n(o),i()},o=>{n(t.snapshot),r(o)}),function(){s()}}).pipe(hp(0))}function TM(t){let e=R3(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe($(n=>n.bytesTransferred/n.totalBytes*100))}}function Nf(t){return{getDownloadURL:()=>V(void 0).pipe(Qw,tt(()=>t.getDownloadURL()),sf),getMetadata:()=>V(void 0).pipe(Qw,tt(()=>t.getMetadata()),sf),delete:()=>fe(t.delete()),child:e=>Nf(t.child(e)),updateMetadata:e=>fe(t.updateMetadata(e)),put:(e,n)=>{let r=t.put(e,n);return TM(r)},putString:(e,n,r)=>{let i=t.putString(e,n,r);return TM(i)},list:e=>fe(t.list(e)),listAll:()=>fe(t.listAll())}}var x3=new x("angularfire2.storageBucket"),M3=new x("angularfire2.storage.maxUploadRetryTime"),P3=new x("angularfire2.storage.maxOperationRetryTime"),N3=new x("angularfire2.storage.use-emulator"),FI=(()=>{class t{storage;constructor(n,r,i,s,o,a,c,u,l,d){let h=_I(n,o,r);this.storage=Bx(`${h.name}.storage.${i}`,"AngularFireStorage",h.name,()=>{let f=o.runOutsideAngular(()=>h.storage(i||void 0)),g=l;return g&&f.useEmulator(...g),c&&f.setMaxUploadRetryTime(c),u&&f.setMaxOperationRetryTime(u),f},[c,u])}ref(n){return Nf(this.storage.ref(n))}refFromURL(n){return Nf(this.storage.refFromURL(n))}upload(n,r,i){let s=this.storage.ref(n);return Nf(s).put(r,i)}static \u0275fac=function(r){return new(r||t)(b(Ef),b(Cf,8),b(x3,8),b(rt),b(ee),b(Ji),b(M3,8),b(P3,8),b(N3,8),b(ei,8))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var k3=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ce({type:t});static \u0275inj=Ee({})}return t})(),DM=(()=>{class t{constructor(){zt.registerVersion("angularfire",In.full,"gcs-compat")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ce({type:t});static \u0275inj=Ee({providers:[FI],imports:[k3]})}return t})();var AM=(()=>{let e=class e{constructor(r,i,s){this.fs=r,this.http=i,this.fbs=s,this.subjectData=new he(null),this.subjectHomePersonal=new he(null),this.subjectImage=new he(null),this.subjectContent=new he(null)}getdata(){return p(this,null,function*(){let r=[],i=yield ko(No(this.fs,"home")).then(s=>{s.forEach(o=>r.push(o.data())),this.subjectData.next(r)});return r})}update_home_personal(){this.subjectHomePersonal.subscribe(r=>{r===null?alert("No data exist!"):this.subjectHomePersonal.subscribe(i=>{let s="jasim_image_home.jpg";this.fbs.upload(s,i)})})}update_home_img(){this.subjectImage.subscribe(r=>{r===null?alert("No data exist!"):this.subjectImage.subscribe(i=>{let s="work1_image_home.jpg";this.fbs.upload(s,i)})})}updateHomeContent(){return p(this,null,function*(){let r=Hw(this.fs,"home","/XBdVN36oQN1Soahqkyum");this.subjectContent.subscribe(i=>{Gw(r,{id:1,content_ar:i.ar,content_en:i.en})})})}};e.\u0275fac=function(i){return new(i||e)(b(_r),b(Ta),b(FI))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var FM=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(T(Or),T(Jt))},e.\u0275dir=Ge({type:e});let t=e;return t})(),L3=(()=>{let e=class e extends FM{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=kr(e)))(s||e)}})(),e.\u0275dir=Ge({type:e,features:[dn]});let t=e;return t})(),LM=new x("NgValueAccessor");var V3={provide:LM,useExisting:ar(()=>Go),multi:!0};function U3(){let t=kn()?kn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var j3=new x("CompositionEventMode"),Go=(()=>{let e=class e extends FM{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!U3())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(T(Or),T(Jt),T(j3,8))},e.\u0275dir=Ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&re("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Ci([V3]),dn]});let t=e;return t})();function VI(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function B3(t){return t!=null&&typeof t.length=="number"}var fu=new x("NgValidators"),VM=new x("NgAsyncValidators"),$3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function H3(t){return VI(t.value)?{required:!0}:null}function q3(t){return VI(t.value)||$3.test(t.value)?null:{email:!0}}function z3(t){return e=>VI(e.value)||!B3(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function SM(t){return null}function UM(t){return t!=null}function jM(t){return Ei(t)?fe(t):t}function BM(t){let e={};return t.forEach(n=>{e=n!=null?P(P({},e),n):e}),Object.keys(e).length===0?null:e}function $M(t,e){return e.map(n=>n(t))}function G3(t){return!t.validate}function HM(t){return t.map(e=>G3(e)?e:n=>e.validate(n))}function W3(t){if(!t)return null;let e=t.filter(UM);return e.length==0?null:function(n){return BM($M(n,e))}}function UI(t){return t!=null?W3(HM(t)):null}function K3(t){if(!t)return null;let e=t.filter(UM);return e.length==0?null:function(n){let r=$M(n,e).map(jM);return dp(r).pipe($(BM))}}function jI(t){return t!=null?K3(HM(t)):null}function RM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Q3(t){return t._rawValidators}function Y3(t){return t._rawAsyncValidators}function LI(t){return t?Array.isArray(t)?t:[t]:[]}function Of(t,e){return Array.isArray(t)?t.includes(e):t===e}function xM(t,e){let n=LI(e);return LI(t).forEach(i=>{Of(n,i)||n.push(i)}),n}function MM(t,e){return LI(e).filter(n=>!Of(t,n))}var Ff=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=UI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=jI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},zo=class extends Ff{get formDirective(){return null}get path(){return null}},hu=class extends Ff{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Lf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},J3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Jee=we(P({},J3),{"[class.ng-submitted]":"isSubmitted"}),jf=(()=>{let e=class e extends Lf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(T(hu,2))},e.\u0275dir=Ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Hl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[dn]});let t=e;return t})(),Bf=(()=>{let e=class e extends Lf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(T(zo,10))},e.\u0275dir=Ge({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Hl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[dn]});let t=e;return t})();var uu="VALID",kf="INVALID",qo="PENDING",lu="DISABLED";function qM(t){return($f(t)?t.validators:t)||null}function X3(t){return Array.isArray(t)?UI(t):t||null}function zM(t,e){return($f(e)?e.asyncValidators:t)||null}function Z3(t){return Array.isArray(t)?jI(t):t||null}function $f(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function e6(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new O(1e3,"");if(!r[n])throw new O(1001,"")}function t6(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new O(1002,"")})}var Vf=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===uu}get invalid(){return this.status===kf}get pending(){return this.status==qo}get disabled(){return this.status===lu}get enabled(){return this.status!==lu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(xM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MM(e,this._rawAsyncValidators))}hasValidator(e){return Of(this._rawValidators,e)}hasAsyncValidator(e){return Of(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=qo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=lu,this.errors=null,this._forEachChild(r=>{r.disable(we(P({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(we(P({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=uu,this._forEachChild(r=>{r.enable(we(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(we(P({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uu||this.status===qo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lu:uu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=qo,this._hasOwnPendingAsyncValidator=!0;let n=jM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?lu:this.errors?kf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qo)?qo:this._anyControlsHaveStatus(kf)?kf:uu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$f(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=X3(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Z3(this._rawAsyncValidators)}},Uf=class extends Vf{constructor(e,n,r){super(qM(n),zM(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){t6(this,!0,e),Object.keys(e).forEach(r=>{e6(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var BI=new x("CallSetDisabledState",{providedIn:"root",factory:()=>$I}),$I="always";function n6(t,e){return[...e.path,t]}function GM(t,e,n=$I){WM(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),i6(t,e),o6(t,e),s6(t,e),r6(t,e)}function PM(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function r6(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function WM(t,e){let n=Q3(t);e.validator!==null?t.setValidators(RM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Y3(t);e.asyncValidator!==null?t.setAsyncValidators(RM(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();PM(e._rawValidators,i),PM(e._rawAsyncValidators,i)}function i6(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&KM(t,e)})}function s6(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&KM(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function KM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function o6(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function a6(t,e){t==null,WM(t,e)}function c6(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function u6(t){return Object.getPrototypeOf(t.constructor)===L3}function l6(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function d6(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Go?n=s:u6(s)?r=s:i=s}),i||r||n||null}var h6={provide:zo,useExisting:ar(()=>pu)},du=(()=>Promise.resolve())(),pu=(()=>{let e=class e extends zo{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Fe,this.form=new Uf({},UI(r),jI(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){du.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),GM(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){du.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){du.then(()=>{let i=this._findContainer(r.path),s=new Uf({});a6(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){du.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){du.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,l6(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(T(fu,10),T(VM,10),T(BI,8))},e.\u0275dir=Ge({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&re("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ci([h6]),dn]});let t=e;return t})();function NM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var f6=class extends Vf{constructor(e=null,n,r){super(qM(n),zM(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$f(n)&&(n.nonNullable||n.initialValueIsDefault)&&(kM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){NM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){NM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){kM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var p6={provide:hu,useExisting:ar(()=>gu)},OM=(()=>Promise.resolve())(),gu=(()=>{let e=class e extends hu{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new f6,this._registered=!1,this.name="",this.update=new Fe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=d6(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),c6(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){GM(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){OM.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&lr(i);OM.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?n6(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(T(zo,9),T(fu,10),T(VM,10),T(LM,10),T(Fr,8),T(BI,8))},e.\u0275dir=Ge({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ci([p6]),dn,cr]});let t=e;return t})(),Hf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ge({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var g6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ce({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function m6(t){return typeof t=="number"?t:parseInt(t,10)}var HI=(()=>{let e=class e{constructor(){this._validator=SM}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):SM,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ge({type:e,features:[cr]});let t=e;return t})();var y6={provide:fu,useExisting:ar(()=>qI),multi:!0};var qI=(()=>{let e=class e extends HI{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=lr,this.createValidator=r=>H3}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=kr(e)))(s||e)}})(),e.\u0275dir=Ge({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&ks("required",s._enabled?"":null)},inputs:{required:"required"},features:[Ci([y6]),dn]});let t=e;return t})();var v6={provide:fu,useExisting:ar(()=>zI),multi:!0},zI=(()=>{let e=class e extends HI{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=lr,this.createValidator=r=>q3}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=kr(e)))(s||e)}})(),e.\u0275dir=Ge({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[Ci([v6]),dn]});let t=e;return t})(),_6={provide:fu,useExisting:ar(()=>GI),multi:!0},GI=(()=>{let e=class e extends HI{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=r=>m6(r),this.createValidator=r=>z3(r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=kr(e)))(s||e)}})(),e.\u0275dir=Ge({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,s){i&2&&ks("minlength",s._enabled?s.minlength:null)},inputs:{minlength:"minlength"},features:[Ci([_6]),dn]});let t=e;return t})();var w6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ce({type:e}),e.\u0275inj=Ee({imports:[g6]});let t=e;return t})();var QM=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:BI,useValue:r.callSetDisabledState??$I}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ce({type:e}),e.\u0275inj=Ee({imports:[w6]});let t=e;return t})();var I6=["uploadPersonRef"];function E6(t,e){if(t&1){let n=Me();y(0,"button",23),re("click",function(){De(n);let i=oe();return Ae(i.updateImage())}),M(1,"\u062A\u062D\u062F\u064A\u062B"),v()}}function C6(t,e){if(t&1){let n=Me();y(0,"button",23),re("click",function(){De(n);let i=oe();return Ae(i.updateImage())}),M(1,"Update"),v()}}function b6(t,e){t&1&&(y(0,"h4"),M(1,"\u062C\u0627\u0633\u0645 \u0627\u0644\u0641\u0636\u0644"),v())}function T6(t,e){t&1&&(y(0,"h4"),M(1,"Jasim Alfadhel"),v())}function D6(t,e){if(t&1&&(y(0,"p"),M(1),v()),t&2){let n=oe();D(),wa(" ",n.content_ar," ")}}function A6(t,e){if(t&1&&(y(0,"p",24),M(1),v()),t&2){let n=oe();D(),wa(" ",n.content_en," ")}}function S6(t,e){t&1&&(y(0,"button",25),M(1,"\u062A\u062D\u062F\u064A\u062B"),v())}function R6(t,e){t&1&&(y(0,"button",25),M(1,"Update"),v())}function x6(t,e){if(t&1){let n=Me();y(0,"button",23),re("click",function(){De(n);let i=oe();return Ae(i.updatePsersonalImage())}),M(1,"\u062A\u062D\u062F\u064A\u062B"),v()}}function M6(t,e){t&1&&(y(0,"button",26),M(1,"Update"),v())}var JM=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.serviceLanguage=i,this.apiService=s,this.disabledownloadimage=o,this.homeApi=a,this.language="",this.urlHomeImage="",this.personalImageUrl="",this.homeImageUrl="",this.content_ar="",this.content_en="",this.serviceLanguage.behaviourSubject.subscribe(c=>{this.language=c})}ngOnInit(){this.serviceLanguage.behaviourSubject.subscribe(r=>{this.language=r}),this.disabledownloadimage.disableDownloadImages(),this.homeApi.getdata(),this.getDataFromService(),console.log(this.personalImageUrl)}workBtnHome(){this.router.navigate(["/","works"])}getDataFromService(){return p(this,null,function*(){yield this.homeApi.subjectData.subscribe(r=>{let i=r[0];this.personalImageUrl=i.url;let s=r[1];this.homeImageUrl=s.url;let o=r[2];this.content_ar=o.content_ar;let a=r[2];this.content_en=a.content_en})})}uploadPersonalImage(r=null){let i=r.target.files[0];this.homeApi.subjectHomePersonal.next(i)}updatePsersonalImage(){this.homeApi.update_home_personal()}uploadImage(r){let i=r.target.files[0];this.homeApi.subjectImage.next(i)}updateImage(){this.homeApi.update_home_img()}onSubmit(r){this.homeApi.subjectContent.next(r.value),this.homeApi.updateHomeContent()}};e.\u0275fac=function(i){return new(i||e)(T(Se),T(kt),T(ni),T(Qn),T(AM))},e.\u0275cmp=ue({type:e,selectors:[["app-home"]],viewQuery:function(i,s){if(i&1&&Kl(I6,5),i&2){let o;Os(o=Fs())&&(s.uploadPersonChild=o.first)}},decls:32,vars:12,consts:[[1,"container1"],[1,"t1"],["alt","home-image",3,"src"],[1,"btnshomeimg"],["type","file",1,"uploadImage",3,"change"],["uploadImageRef",""],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"t2"],[4,"ngIf"],[1,"t3"],[3,"ngSubmit"],["f","ngForm"],["style","direction: ltr;",4,"ngIf"],["type","text","ngModel","","name","ar","id","text_ar",1,"form-control"],["type","text","ngModel","","name","en","id","text_en",1,"form-control"],[1,"btnhomecontent"],["class","btn btn-secondary","type","submit",4,"ngIf"],[1,"t4"],["alt","jasim-img-home",3,"src"],[1,"btnshomepersonal"],["type","file",1,"uploadPersonal",3,"change"],["uploadPersonRef",""],["class","btn btn-secondary",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[2,"direction","ltr"],["type","submit",1,"btn","btn-secondary"],[1,"btn","btn-secondary"]],template:function(i,s){if(i&1){let o=Me();y(0,"div",0)(1,"div",1),ge(2,"img",2),y(3,"div",3)(4,"input",4,5),re("change",function(c){return s.uploadImage(c)}),v(),te(6,E6,2,0,"button",6)(7,C6,2,0,"button",6),v()(),y(8,"div",7),te(9,b6,2,0,"h4",8)(10,T6,2,0,"h4",8),v(),y(11,"div",9)(12,"form",10,11),re("ngSubmit",function(){De(o);let c=_a(13);return Ae(s.onSubmit(c))}),te(14,D6,2,1,"p",8)(15,A6,2,1,"p",12),y(16,"p"),M(17,"\u0639\u0631\u0628\u064A"),v(),ge(18,"textarea",13),y(19,"p"),M(20,"English"),v(),ge(21,"textarea",14),y(22,"div",15),te(23,S6,2,0,"button",16)(24,R6,2,0,"button",16),v()()(),y(25,"div",17),ge(26,"img",18),y(27,"div",19)(28,"input",20,21),re("change",function(c){return s.uploadPersonalImage(c)}),v(),te(30,x6,2,0,"button",6)(31,M6,2,0,"button",22),v()()()}i&2&&(D(2),Nn("src",s.homeImageUrl,Pn),D(4),L("ngIf",s.language==="English"),D(),L("ngIf",s.language==="Arabic"),D(2),L("ngIf",s.language==="English"),D(),L("ngIf",s.language==="Arabic"),D(4),L("ngIf",s.language==="English"),D(),L("ngIf",s.language==="Arabic"),D(8),L("ngIf",s.language==="English"),D(),L("ngIf",s.language==="Arabic"),D(2),Nn("src",s.personalImageUrl,Pn),D(4),L("ngIf",s.language==="English"),D(),L("ngIf",s.language==="Arabic"))},dependencies:[Nt,Hf,Go,jf,Bf,gu,pu],styles:[".container1[_ngcontent-%COMP%]{background-color:transparent;width:100%;display:grid;grid-template-columns:1fr .5fr .5fr;grid-template-rows:150px 400px 150px;grid-gap:15px}.t1[_ngcontent-%COMP%]{background-color:transparent;grid-row:1/5;overflow:hidden}.t1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:fit-content;object-fit:cover}.t2[_ngcontent-%COMP%]{margin-top:5rem;direction:rtl;grid-row:1/2;grid-column:3/4;place-content:center}.t2[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;font-weight:700;color:#929292}.t3[_ngcontent-%COMP%]{background-color:transparent;grid-row:2/3;grid-column:2/3;direction:rtl;place-self:center}.t3[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#929292}.t4[_ngcontent-%COMP%]{background-color:transparent;grid-row:2/3;grid-column:3/4;overflow:hidden;place-self:center}.t4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90%;max-width:fit-content;object-fit:cover}.t5[_ngcontent-%COMP%]{background-color:transparent;grid-row:3/4;grid-column:2/4;text-align:center}.t5[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%;margin-top:30px;border-radius:9px;border:0px solid transparent;padding:10px}.t5[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 3px 5px #b8b8b8}.btnshomepersonal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0;width:90%}.btnshomeimg[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .btnhomecontent[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0;width:100%}@media (max-width:900px){.container1[_ngcontent-%COMP%]{grid-template-rows:150px 50px 400px 150px}.t1[_ngcontent-%COMP%]{grid-column:1/4;grid-row:1/2}.t2[_ngcontent-%COMP%]{grid-column:1/4;grid-row:2/3;margin-top:0}.t3[_ngcontent-%COMP%]{grid-column:1/2;grid-row:3/4}.t4[_ngcontent-%COMP%]{grid-column:2/4;grid-row:3/4;place-self:center}.t4[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{text-align:center;width:15rem;max-width:fit-content;object-fit:cover}.t5[_ngcontent-%COMP%]{grid-column:1/4;grid-row:4/5}.t5[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:50px}.btnshomepersonal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}@media (max-width:600px){.container1[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:150px 50px 450px 150px 150px}.t1[_ngcontent-%COMP%]{grid-column:1/2;grid-row:1/2}.t2[_ngcontent-%COMP%]{grid-column:1/2;grid-row:2/3;margin-top:0}.t3[_ngcontent-%COMP%]{grid-column:1/2;grid-row:3/4}.t4[_ngcontent-%COMP%]{grid-column:1/2;grid-row:4/5;place-self:center;margin-top:150px}.t5[_ngcontent-%COMP%]{grid-column:1/2;grid-row:5/6;margin-top:100px}}"]});let t=e;return t})();function P6(t,e){t&1&&(y(0,"h4"),M(1,"Oil Color Works"),v())}function N6(t,e){t&1&&(y(0,"h4"),M(1,"\u0627\u0644\u0627\u0639\u0645\u0627\u0644 \u0627\u0644\u0632\u064A\u062A\u064A\u0629"),v())}function k6(t,e){t&1&&(y(0,"h4"),M(1,"Water Color Works"),v())}function O6(t,e){t&1&&(y(0,"h4"),M(1,"\u0627\u0644\u0627\u0639\u0645\u0627\u0644 \u0627\u0644\u0645\u0627\u0626\u064A\u0629"),v())}function F6(t,e){t&1&&(y(0,"h4"),M(1,"Outline Works"),v())}function L6(t,e){t&1&&(y(0,"h4"),M(1,"\u0627\u0639\u0645\u0627\u0644 \u0627\u0644\u062A\u062E\u0637\u064A\u0637"),v())}function V6(t,e){t&1&&(y(0,"h4"),M(1,"Other Works"),v())}function U6(t,e){t&1&&(y(0,"h4"),M(1,"\u0627\u0644\u0627\u0639\u0645\u0627\u0644 \u0627\u0644\u0627\u062E\u0631\u0649"),v())}var XM=(()=>{let e=class e{constructor(r,i,s){this.serviceLanguage=r,this.apiService=i,this.disabledownloadimage=s,this.language="",this.serviceLanguage.behaviourSubject.subscribe(o=>{this.language=o})}ngOnInit(){this.serviceLanguage.behaviourSubject.subscribe(r=>{this.language=r}),this.disabledownloadimage.disableDownloadImages()}};e.\u0275fac=function(i){return new(i||e)(T(kt),T(ni),T(Qn))},e.\u0275cmp=ue({type:e,selectors:[["app-works"]],decls:33,vars:8,consts:[[1,"container1"],[1,"t1"],["routerLink","/works/oilworks","routerLinkActive","Active"],[4,"ngIf"],[1,"t2"],[1,"imgListWork"],["src","../../assets/images/oil_works.JPG","alt","image1"],[1,"t3"],["routerLink","/works/waterworks","routerLinkActive","Active"],[1,"t4"],["src","../../assets/images/wc_works.JPG","alt","image1"],[1,"t5"],["routerLink","/works/outlineworks","routerLinkActive","Active"],[1,"t6"],["src","../../assets/images/outline_works.JPG","alt","image1"],[1,"t7"],["routerLink","/works/otherworks","routerLinkActive","Active"],[1,"t8"],["src","../../assets/images/other_works.JPG","alt","image1"]],template:function(i,s){i&1&&(y(0,"div",0)(1,"div",1)(2,"div")(3,"a",2),te(4,P6,2,0,"h4",3)(5,N6,2,0,"h4",3),v()()(),y(6,"div",4)(7,"div",5),ge(8,"img",6),v()(),y(9,"div",7)(10,"div")(11,"a",8),te(12,k6,2,0,"h4",3)(13,O6,2,0,"h4",3),v()()(),y(14,"div",9)(15,"div",5),ge(16,"img",10),v()(),y(17,"div",11)(18,"div")(19,"a",12),te(20,F6,2,0,"h4",3)(21,L6,2,0,"h4",3),v()()(),y(22,"div",13)(23,"div",5),ge(24,"img",14),v()(),y(25,"div",15)(26,"div")(27,"a",16),te(28,V6,2,0,"h4",3)(29,U6,2,0,"h4",3),v()()(),y(30,"div",17)(31,"div",5),ge(32,"img",18),v()()()),i&2&&(D(4),L("ngIf",s.language==="Arabic"),D(),L("ngIf",s.language==="English"),D(7),L("ngIf",s.language==="Arabic"),D(),L("ngIf",s.language==="English"),D(7),L("ngIf",s.language==="Arabic"),D(),L("ngIf",s.language==="English"),D(7),L("ngIf",s.language==="Arabic"),D(),L("ngIf",s.language==="English"))},dependencies:[Nt,Hr,Xs],styles:[".container1[_ngcontent-%COMP%]{background-color:transparent;width:100%;display:grid;margin-top:5rem;grid-template-columns:.5fr 1fr;grid-template-rows:150px 150px 150px 150px;grid-gap:5px}.t1[_ngcontent-%COMP%]{background-color:transparent;grid-row:1/2;grid-column:1/2;text-align:center}.t1[_ngcontent-%COMP%]:hover{background-color:#e2e2e2;color:#000;opacity:.9}.t1[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:3rem}.t1[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#868686}.t2[_ngcontent-%COMP%]{background-color:transparent;grid-row:1/2;grid-column:2/3;overflow:hidden}.t2[_ngcontent-%COMP%]   .imgListWork[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;overflow:hidden}.t2[_ngcontent-%COMP%]   .imgListWork[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin:-75px 10px 0;opacity:.8}.t3[_ngcontent-%COMP%]{background-color:transparent;grid-row:2/3;grid-column:1/2;text-align:center}.t3[_ngcontent-%COMP%]:hover{background-color:#e2e2e2;color:#000;opacity:.9}.t3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:3rem}.t3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#868686}.t4[_ngcontent-%COMP%]{background-color:transparent;grid-row:2/3;grid-column:2/3;overflow:hidden}.t4[_ngcontent-%COMP%]   .imgListWork[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;overflow:hidden}.t4[_ngcontent-%COMP%]   .imgListWork[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin:-150px 10px 0;opacity:.8}.t5[_ngcontent-%COMP%]{background-color:transparent;grid-row:3/4;grid-column:1/2;text-align:center}.t5[_ngcontent-%COMP%]:hover{background-color:#e2e2e2;color:#000;opacity:.9}.t5[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:3rem}.t5[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#868686}.t6[_ngcontent-%COMP%]{background-color:transparent;grid-row:3/4;grid-column:2/3;overflow:hidden}.t6[_ngcontent-%COMP%]   .imgListWork[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;overflow:hidden}.t6[_ngcontent-%COMP%]   .imgListWork[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin:-200px 10px 0;opacity:.8}.t7[_ngcontent-%COMP%]{background-color:transparent;grid-row:4/5;grid-column:1/2;text-align:center}.t7[_ngcontent-%COMP%]:hover{background-color:#e2e2e2;color:#000;opacity:.9}.t7[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:3rem}.t7[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#868686}.t8[_ngcontent-%COMP%]{background-color:transparent;grid-row:4/5;grid-column:2/3;overflow:hidden}.t8[_ngcontent-%COMP%]   .imgListWork[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;overflow:hidden}.t8[_ngcontent-%COMP%]   .imgListWork[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin:-60px 10px 0;opacity:.8}@media (max-width:900px){.container1[_ngcontent-%COMP%]{grid-template-rows:150px 150px 150px 150px 150px 150px 150px 150px;grid-template-columns:1fr}.t1[_ngcontent-%COMP%]{grid-row:1/2;grid-column:1/2}.t2[_ngcontent-%COMP%]{grid-row:2/3;grid-column:1/2}.t3[_ngcontent-%COMP%]{grid-row:3/4;grid-column:1/2}.t4[_ngcontent-%COMP%]{grid-row:4/5;grid-column:1/2}.t5[_ngcontent-%COMP%]{grid-row:5/6;grid-column:1/2}.t6[_ngcontent-%COMP%]{grid-row:6/7;grid-column:1/2}.t7[_ngcontent-%COMP%]{grid-row:7/8;grid-column:1/2}.t8[_ngcontent-%COMP%]{grid-row:8/9;grid-column:1/2}}@media (min-width:1100px){.t2[_ngcontent-%COMP%]   .imgListWork[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin:-300px 10px 0}.t4[_ngcontent-%COMP%]   .imgListWork[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:-250px}.t6[_ngcontent-%COMP%]   .imgListWork[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:-500px}.t8[_ngcontent-%COMP%]   .imgListWork[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin:-300px 10px 0}}"]});let t=e;return t})();var ZM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ue({type:e,selectors:[["app-blog"]],decls:2,vars:0,template:function(i,s){i&1&&(y(0,"p"),M(1,"blog works!"),v())}});let t=e;return t})();var eP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ue({type:e,selectors:[["app-about"]],decls:2,vars:0,template:function(i,s){i&1&&(y(0,"p"),M(1,"about works!"),v())}});let t=e;return t})();var si=(()=>{let e=class e{constructor(){}itemList(){return[{id:0,url:"../../../assets/images/oil_works.JPG",name:"imgae 1",size:"20",class:"oil"},{id:1,url:"../../../assets/images/other_works.JPG",name:"image 2",size:"20",class:"oil"},{id:2,url:"../../../assets/images/IMG_6916.JPG",name:"image 3",size:"20",class:"oil"},{id:3,url:"../../../assets/images/wc_works.JPG",name:"image 4",size:"20",class:"oil"}]}getItem(r){let i;for(let s of this.itemList())if(s.id===+r){i=s;break}return i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zf=(()=>{let e=class e{constructor(r,i){this.router=r,this.disabledownloadimage=i}ngOnInit(){this.disabledownloadimage.disableDownloadImages()}goToView(){this.router.navigate(["/works/oilworks/",this.workItem])}};e.\u0275fac=function(i){return new(i||e)(T(Se),T(Qn))},e.\u0275cmp=ue({type:e,selectors:[["app-image-item"]],inputs:{workItem:"workItem"},decls:5,vars:2,consts:[[1,"container"],[1,"col"],[1,"row"],["routerLinkActive","active",3,"routerLink"],["alt","oil image",1,"card-img-top",3,"src"]],template:function(i,s){i&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),ge(4,"img",4),v()()()()),i&2&&(D(3),Gl("routerLink","/works/oilworks/",s.workItem.id,""),D(),Nn("src",s.workItem==null?null:s.workItem.url,Pn))},dependencies:[Hr,Xs],styles:[".card-img-top[_ngcontent-%COMP%]{width:20rem}.col[_ngcontent-%COMP%]{background-color:transparent}.row[_ngcontent-%COMP%]{display:flex;align-content:center;text-align:center}"]});let t=e;return t})();function j6(t,e){t&1&&(y(0,"span"),M(1,"Back"),v())}function B6(t,e){t&1&&(y(0,"span"),M(1,"\u0627\u0644\u0639\u0648\u062F\u0629"),v())}function $6(t,e){t&1&&(y(0,"span"),M(1,"Add"),v())}function H6(t,e){t&1&&(y(0,"span"),M(1,"\u0627\u0636\u0627\u0641\u0629"),v())}function q6(t,e){t&1&&(y(0,"div")(1,"div",5)(2,"div",6)(3,"span",7),M(4,"Loading..."),v()()()())}function z6(t,e){if(t&1&&(y(0,"div",8),ge(1,"app-image-item",9),v()),t&2){let n=e.$implicit;D(),L("workItem",n)}}var nP=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.serivceLanguage=i,this.seedsService=s,this.apiService=o,this.disabledownloadimage=a,this.language="",this.items=[],this.spinnerEle=!1,this.serivceLanguage.behaviourSubject.subscribe(c=>{this.language=c})}ngOnInit(){this.serivceLanguage.behaviourSubject.subscribe(r=>{this.language=r}),this.loadOilImages(),this.disabledownloadimage.disableDownloadImages()}back(){this.router.navigate(["/","works"])}loadSeedData(){this.items=this.seedsService.itemList()}loadOilImages(){return p(this,null,function*(){this.spinnerEle=!0,yield this.apiService.getData("water"),yield this.apiService.subjectWork.subscribe(r=>{this.items=r}),this.spinnerEle=!1})}Add(){}};e.\u0275fac=function(i){return new(i||e)(T(Se),T(kt),T(si),T(ni),T(Qn))},e.\u0275cmp=ue({type:e,selectors:[["app-oil-color"]],decls:10,vars:6,consts:[[1,"backBtn"],[3,"click"],[4,"ngIf"],["id","listImage",1,"row","row-cols-3","g-3"],["class","col",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"col"],[3,"workItem"]],template:function(i,s){i&1&&(y(0,"div",0)(1,"button",1),re("click",function(){return s.back()}),te(2,j6,2,0,"span",2)(3,B6,2,0,"span",2),v(),y(4,"button",1),re("click",function(){return s.Add()}),te(5,$6,2,0,"span",2)(6,H6,2,0,"span",2),v()(),te(7,q6,5,0,"div",2),y(8,"div",3),te(9,z6,2,1,"div",4),v()),i&2&&(D(2),L("ngIf",s.language==="Arabic"),D(),L("ngIf",s.language==="English"),D(2),L("ngIf",s.language==="Arabic"),D(),L("ngIf",s.language==="English"),D(),L("ngIf",s.spinnerEle),D(2),L("ngForOf",s.items))},dependencies:[rd,Nt,zf],styles:[".backBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0px solid transparent;width:10rem;color:gray;margin-top:3rem;margin-bottom:3rem;margin-left:3rem}.backBtn[_ngcontent-%COMP%]{text-align:center;border-bottom:2px solid gray}.col[_ngcontent-%COMP%]{margin-top:30px}@media (max-width:1000px){#listImage[_ngcontent-%COMP%]{display:block}.col[_ngcontent-%COMP%]{margin-top:40px;width:100%}}"]});let t=e;return t})();function G6(t,e){if(t&1){let n=Me();y(0,"button",4),re("click",function(){De(n);let i=oe();return Ae(i.back())}),M(1,"Back"),v()}}function W6(t,e){if(t&1){let n=Me();y(0,"button",4),re("click",function(){De(n);let i=oe();return Ae(i.back())}),M(1,"\u0627\u0644\u0639\u0648\u062F\u0629"),v()}}function K6(t,e){if(t&1&&(y(0,"div",5),ge(1,"app-image-item",6),v()),t&2){let n=e.$implicit;D(),L("workItem",n)}}var rP=(()=>{let e=class e{constructor(r,i,s){this.router=r,this.serivceLanguage=i,this.seedsService=s,this.language="",this.items=[],this.serivceLanguage.behaviourSubject.subscribe(o=>{this.language=o})}ngOnInit(){this.serivceLanguage.behaviourSubject.subscribe(r=>{this.language=r}),this.loadSeedData()}back(){this.router.navigate(["/","works"])}loadSeedData(){this.items=this.seedsService.itemList()}};e.\u0275fac=function(i){return new(i||e)(T(Se),T(kt),T(si))},e.\u0275cmp=ue({type:e,selectors:[["app-water-color"]],decls:5,vars:3,consts:[[1,"backBtn"],[3,"click",4,"ngIf"],["id","listImage",1,"row","row-cols-3","g-3"],["class","col",4,"ngFor","ngForOf"],[3,"click"],[1,"col"],[3,"workItem"]],template:function(i,s){i&1&&(y(0,"div",0),te(1,G6,2,0,"button",1)(2,W6,2,0,"button",1),v(),y(3,"div",2),te(4,K6,2,1,"div",3),v()),i&2&&(D(),L("ngIf",s.language==="Arabic"),D(),L("ngIf",s.language==="English"),D(2),L("ngForOf",s.items))},dependencies:[rd,Nt,zf],styles:[".backBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0px solid transparent;width:10rem;margin-top:3rem;color:gray}.backBtn[_ngcontent-%COMP%]{text-align:center}.col[_ngcontent-%COMP%]{margin-top:30px}@media (max-width:1000px){#listImage[_ngcontent-%COMP%]{display:block}.col[_ngcontent-%COMP%]{margin-top:40px;width:100%}}"]});let t=e;return t})();var iP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ue({type:e,selectors:[["app-outline"]],decls:2,vars:0,template:function(i,s){i&1&&(y(0,"p"),M(1,"outline works!"),v())}});let t=e;return t})();var sP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ue({type:e,selectors:[["app-other-works"]],decls:2,vars:0,template:function(i,s){i&1&&(y(0,"p"),M(1,"other-works works!"),v())}});let t=e;return t})();function Q6(t,e){if(t&1){let n=Me();y(0,"button",8),re("click",function(){De(n);let i=oe();return Ae(i.back())}),M(1,"Back"),v()}}function Y6(t,e){if(t&1){let n=Me();y(0,"button",8),re("click",function(){De(n);let i=oe();return Ae(i.back())}),M(1,"\u0627\u0644\u0639\u0648\u062F\u0629"),v()}}function J6(t,e){t&1&&(y(0,"div")(1,"div",9)(2,"div",10)(3,"span",11),M(4,"Loading..."),v()()()())}var oP=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.seedService=r,this.activeRouter=i,this.languageService=s,this.router=o,this.apiService=a,this.disabledownloadimage=c,this.language="",this.itemShow={id:0,name:"",url:"",size:"20",class:"any"},this.spinnerEle=!1}ngOnInit(){this.loadItem(),this.languageService.behaviourSubject.subscribe(r=>{this.language=r}),this.disabledownloadimage.disableDownloadImages()}loadItem(){return p(this,null,function*(){this.spinnerEle=!0;let r=this.activeRouter.snapshot.paramMap.get("id");yield this.apiService.getDataById(r),this.apiService.subjectWorkById.subscribe(i=>{i!=null&&(this.itemShow=i[0])}),this.spinnerEle=!1})}back(){this.router.navigate(["/works","oilworks"])}};e.\u0275fac=function(i){return new(i||e)(T(si),T(fn),T(kt),T(Se),T(ni),T(Qn))},e.\u0275cmp=ue({type:e,selectors:[["app-image-detail"]],decls:13,vars:6,consts:[[1,"backBtn"],[3,"click",4,"ngIf"],[4,"ngIf"],[1,"container1"],[1,"t1"],["alt","test img",3,"src"],[1,"t2"],[1,"t2div"],[3,"click"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(i,s){i&1&&(y(0,"div",0),te(1,Q6,2,0,"button",1)(2,Y6,2,0,"button",1),v(),te(3,J6,5,0,"div",2),y(4,"div",3)(5,"div",4),ge(6,"img",5),v(),y(7,"div",6)(8,"div",7)(9,"h4"),M(10),v(),y(11,"p"),M(12),v()()()()),i&2&&(D(),L("ngIf",s.language==="Arabic"),D(),L("ngIf",s.language==="English"),D(),L("ngIf",s.spinnerEle),D(3),Nn("src",s.itemShow.url,Pn),D(4),$e(s.itemShow.name),D(2),$e(s.itemShow.name))},dependencies:[Nt],styles:[".backBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0px solid transparent;width:10rem;margin-top:3rem;color:gray}.backBtn[_ngcontent-%COMP%]{text-align:center}.container1[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:30px;grid-template-columns:3fr 1fr;grid-gap:10px;display:grid}.t1[_ngcontent-%COMP%]{grid-column:1/2;background-color:(242,242,242);text-align:center;display:flex;justify-content:center;align-items:center}.t1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%;line-height:1.5;display:inline-block;vertical-align:middle}.t2[_ngcontent-%COMP%]{grid-column:2/3;background-color:#f2f2f2;padding:5rem}@media (max-width:1000px){.container1[_ngcontent-%COMP%]{grid-template-rows:2fr 1fr;grid-template-columns:1fr}.t1[_ngcontent-%COMP%]{grid-column:1/2;grid-row:1/2}.t2[_ngcontent-%COMP%]{grid-column:1/2;grid-row:2/3;padding:0rem}.t2div[_ngcontent-%COMP%]{padding:0 50px}.t2div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:30px}}"]});let t=e;return t})();function X6(t,e){if(t&1){let n=Me();y(0,"button",7),re("click",function(){De(n);let i=oe();return Ae(i.back())}),M(1,"Back"),v()}}function Z6(t,e){if(t&1){let n=Me();y(0,"button",7),re("click",function(){De(n);let i=oe();return Ae(i.back())}),M(1,"\u0627\u0644\u0639\u0648\u062F\u0629"),v()}}var aP=(()=>{let e=class e{constructor(r,i,s,o){this.seedService=r,this.activeRouter=i,this.languageService=s,this.router=o,this.language=""}ngOnInit(){this.loadItem(),this.languageService.behaviourSubject.subscribe(r=>{this.language=r})}loadItem(){let r=this.activeRouter.snapshot.paramMap.get("id");r&&(this.itemShow=this.seedService.getItem(+r))}back(){this.router.navigate(["/works","waterworks"])}};e.\u0275fac=function(i){return new(i||e)(T(si),T(fn),T(kt),T(Se))},e.\u0275cmp=ue({type:e,selectors:[["app-image-detail-water"]],decls:12,vars:5,consts:[[1,"backBtn"],[3,"click",4,"ngIf"],[1,"container1"],[1,"t1"],["alt","test img",3,"src"],[1,"t2"],[1,"t2div"],[3,"click"]],template:function(i,s){i&1&&(y(0,"div",0),te(1,X6,2,0,"button",1)(2,Z6,2,0,"button",1),v(),y(3,"div",2)(4,"div",3),ge(5,"img",4),v(),y(6,"div",5)(7,"div",6)(8,"h4"),M(9),v(),y(10,"p"),M(11),v()()()()),i&2&&(D(),L("ngIf",s.language==="Arabic"),D(),L("ngIf",s.language==="English"),D(3),Nn("src",s.itemShow.url,Pn),D(4),$e(s.itemShow.name),D(2),$e(s.itemShow.name))},dependencies:[Nt],styles:[".backBtn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0px solid transparent;width:10rem;margin-top:3rem;color:gray}.backBtn[_ngcontent-%COMP%]{text-align:center}.container1[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:30px;grid-template-columns:3fr 1fr;grid-gap:10px;display:grid}.t1[_ngcontent-%COMP%]{grid-column:1/2;background-color:(242,242,242);text-align:center;display:flex;justify-content:center;align-items:center}.t1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%;line-height:1.5;display:inline-block;vertical-align:middle}.t2[_ngcontent-%COMP%]{grid-column:2/3;background-color:#f2f2f2;padding:5rem}@media (max-width:1000px){.container1[_ngcontent-%COMP%]{grid-template-rows:2fr 1fr;grid-template-columns:1fr}.t1[_ngcontent-%COMP%]{grid-column:1/2;grid-row:1/2}.t2[_ngcontent-%COMP%]{grid-column:1/2;grid-row:2/3;padding:0rem}.t2div[_ngcontent-%COMP%]{padding:0 50px}.t2div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:30px}}"]});let t=e;return t})();var cP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ue({type:e,selectors:[["app-image-detail-outline"]],decls:2,vars:0,template:function(i,s){i&1&&(y(0,"p"),M(1,"image-detail-outline works!"),v())}});let t=e;return t})();var uP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ue({type:e,selectors:[["app-image-detail-other"]],decls:2,vars:0,template:function(i,s){i&1&&(y(0,"p"),M(1,"image-detail-other works!"),v())}});let t=e;return t})();var Gf=class{constructor(e,n,r,i){this.email=e,this.id=n,this._token=r,this._tokenExpirationDate=i}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}};var wr=(()=>{let e=class e{constructor(r){this.http=r,this.user=new he(!1),this.UserToken=Gf}LoginData(r,i){return this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAx04gJz_2kmf9wjlzW2uIkNe869Ru6Rgg",{email:r,password:i,returnSecureToken:!0})}LogoutData(){this.user.next(!1),localStorage.removeItem("isLoging")}Autologin(){JSON.parse(localStorage.getItem("isLoging"))&&this.user.next(!0)}};e.\u0275fac=function(i){return new(i||e)(b(Ta))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lP=(()=>{let e=class e{constructor(r,i,s){this.loginService=r,this.router=i,this.loginData=s,this.loading=!0,this.emailSignIn="",this.errorText=null,this.loginAllowanceData=!1}onLogin(r){if(!r.valid)return;let i=r.value.email,s=r.value.passwrod,o=null;o=this.loginService.LoginData(i,s),o.subscribe(a=>{this.loginAllowanceData=!0,this.router.navigate(["/",""]),this.loginData.user.next(!0),localStorage.setItem("isLoging",JSON.stringify(a)),this.loginService.Autologin()},a=>{console.log(a)}),r.reset()}};e.\u0275fac=function(i){return new(i||e)(T(wr),T(Se),T(wr))},e.\u0275cmp=ue({type:e,selectors:[["app-login"]],decls:15,vars:1,consts:[[1,"container"],[1,"row"],["id","cols",1,"col-xs-12","col-md-6","col-md-offset-3"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group","mt-5"],["for","email"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control","mt-3"],[1,"form-group","mt-4"],["for","password"],["type","password","id","password","ngModel","","name","passwrod","required","","password","","minlength","6",1,"form-control","mt-3"],["type","submit",1,"btn","btn-primary","mt-3",3,"disabled"]],template:function(i,s){if(i&1){let o=Me();y(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3,4),re("ngSubmit",function(){De(o);let c=_a(4);return Ae(s.onLogin(c))}),y(5,"div",5)(6,"label",6),M(7,"E-mail"),v(),ge(8,"input",7),v(),y(9,"div",8)(10,"label",9),M(11,"Password"),v(),ge(12,"input",10),v(),y(13,"button",11),M(14,"Login"),v()()()()()}if(i&2){let o=_a(4);D(13),L("disabled",!o.valid)}},dependencies:[Hf,Go,jf,Bf,qI,GI,zI,gu,pu]});let t=e;return t})();var Wt=(()=>{let e=class e{constructor(r,i){this.loginService=r,this.router=i}canActivate(){return this.loginService.user.pipe($(r=>localStorage.getItem("isLoging")?r:this.router.createUrlTree(["/login"])))}};e.\u0275fac=function(i){return new(i||e)(b(wr),b(Se))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var eG=[{path:"",component:JM,canActivate:[Wt]},{path:"works",component:XM,canActivate:[Wt]},{path:"works/oilworks",component:nP,canActivate:[Wt]},{path:"works/oilworks/:id",component:oP,canActivate:[Wt]},{path:"works/waterworks",component:rP,canActivate:[Wt]},{path:"works/waterworks/:id",component:aP,canActivate:[Wt]},{path:"works/outlineworks",component:iP,canActivate:[Wt]},{path:"works/outlineworks/:id",component:cP,canActivate:[Wt]},{path:"works/otherworks",component:sP,canActivate:[Wt]},{path:"works/otherworks/:id",component:uP,canActivate:[Wt]},{path:"blog",component:ZM,canActivate:[Wt]},{path:"about",component:eP,canActivate:[Wt]},{path:"login",component:lP},{path:"**",redirectTo:"",pathMatch:"full"}],dP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ce({type:e}),e.\u0275inj=Ee({imports:[Ya.forRoot(eG),Ya]});let t=e;return t})();var tG=["slideRef"];function nG(t,e){if(t&1&&(y(0,"a",23),M(1),v()),t&2){let n=oe();D(),$e(n.nav[0])}}function rG(t,e){if(t&1&&(y(0,"a",24),M(1),v()),t&2){let n=oe();D(),$e(n.nav[1])}}function iG(t,e){if(t&1&&(y(0,"a",25),M(1),v()),t&2){let n=oe();D(),$e(n.nav[2])}}function sG(t,e){if(t&1&&(y(0,"a",26),M(1),v()),t&2){let n=oe();D(),$e(n.nav[3])}}function oG(t,e){if(t&1&&(y(0,"a",27),M(1),v()),t&2){let n=oe();D(),$e(n.nav[4])}}function aG(t,e){if(t&1){let n=Me();y(0,"a",28),re("click",function(){De(n);let i=oe();return Ae(i.logoutData())}),M(1),v()}if(t&2){let n=oe();D(),$e(n.nav[5])}}function cG(t,e){if(t&1){let n=Me();y(0,"a",29),re("click",function(){De(n);let i=oe();return Ae(i.HideList())}),M(1),v()}if(t&2){let n=oe();D(),$e(n.nav[0])}}function uG(t,e){if(t&1){let n=Me();y(0,"a",30),re("click",function(){De(n);let i=oe();return Ae(i.HideList())}),M(1),v()}if(t&2){let n=oe();D(),$e(n.nav[1])}}function lG(t,e){if(t&1){let n=Me();y(0,"a",31),re("click",function(){De(n);let i=oe();return Ae(i.HideList())}),M(1),v()}if(t&2){let n=oe();D(),$e(n.nav[2])}}function dG(t,e){if(t&1){let n=Me();y(0,"a",32),re("click",function(){De(n);let i=oe();return Ae(i.HideList())}),M(1),v()}if(t&2){let n=oe();D(),$e(n.nav[3])}}function hG(t,e){if(t&1){let n=Me();y(0,"a",33),re("click",function(){De(n);let i=oe();return Ae(i.HideList())}),M(1),v()}if(t&2){let n=oe();D(),$e(n.nav[4])}}function fG(t,e){if(t&1){let n=Me();y(0,"a",33),re("click",function(){De(n);let i=oe();return Ae(i.HideList())})("click",function(){De(n);let i=oe();return Ae(i.logoutData())}),M(1),v()}if(t&2){let n=oe();D(),$e(n.nav[5])}}var hP=(()=>{let e=class e{constructor(r,i){this.serviceLanguage=r,this.loginDataService=i,this.engLanguage=["Home","Works","Blog","About","Login","Logout"],this.arbLanguage=["\u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629","\u0627\u0644\u0627\u0639\u0645\u0627\u0644","\u0645\u062F\u0648\u0646\u0629","\u0639\u0646 \u0627\u0644\u0641\u0646\u0627\u0646","\u062A\u0633\u062C\u064A\u0644","\u062E\u0631\u0648\u062C"],this.nav=[],this.langBtn="English",this.ListClass="slideDivDefault",this.isAuth=!1,this.nav=this.arbLanguage}ngOnDestroy(){this.subscribeAuth.unsubscribe()}ngOnInit(){this.subscribeAuth=this.loginDataService.user.subscribe(r=>{this.isAuth=r},()=>{})}ChangLanguage(){this.langBtn=="English"?(this.langBtn="Arabic",this.nav=[],this.nav=this.engLanguage,this.serviceLanguage.behaviourSubject.next("Arabic")):(this.langBtn="English",this.nav=[],this.nav=this.arbLanguage,this.serviceLanguage.behaviourSubject.next("English"))}SlideList(){let r=this.viewSlide.nativeElement;r.style.visibility="visible"}HideList(){let r=this.viewSlide.nativeElement;r.style.visibility="hidden"}logoutData(){this.loginDataService.LogoutData()}};e.\u0275fac=function(i){return new(i||e)(T(kt),T(wr))},e.\u0275cmp=ue({type:e,selectors:[["app-section-header"]],viewQuery:function(i,s){if(i&1&&Kl(tG,5),i&2){let o;Os(o=Fs())&&(s.viewSlide=o.first)}},decls:36,vars:13,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],[1,"btnLanguage",3,"click"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarText","aria-controls","navbarText","aria-expanded","false","aria-label","Toggle navigation","id","slide-btn",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarText",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0","justify-content-center"],[1,"nav-item","ms-5","me-5"],["class","nav-link active","aria-current","page","id","home_a","routerLink","/","routerLinkActive","active",4,"ngIf"],["class","nav-link","id","work_a","routerLink","/works","routerLinkActive","active",4,"ngIf"],["class","nav-link","id","blog_a","routerLink","/blog","routerLinkActive","active",4,"ngIf"],["class","nav-link","id","about_a","routerLink","/about","routerLinkActive","active",4,"ngIf"],["class","nav-link","id","login_a","routerLink","/login","routerLinkActive","active",4,"ngIf"],["class","nav-link","id","login_a","routerLink","/login","routerLinkActive","active",3,"click",4,"ngIf"],[1,"slideDivDefault",2,"visibility","hidden"],["slideRef",""],[1,"slideNave"],[1,"slideList"],["routerLink","","routerLinkActive","active",3,"click",4,"ngIf"],["routerLink","/works","routerLinkActive","active",3,"click",4,"ngIf"],["routerLink","/blog","routerLinkActive","active",3,"click",4,"ngIf"],["routerLink","/about","routerLinkActive","active",3,"click",4,"ngIf"],["routerLink","/login","routerLinkActive","active",3,"click",4,"ngIf"],["aria-current","page","id","home_a","routerLink","/","routerLinkActive","active",1,"nav-link","active"],["id","work_a","routerLink","/works","routerLinkActive","active",1,"nav-link"],["id","blog_a","routerLink","/blog","routerLinkActive","active",1,"nav-link"],["id","about_a","routerLink","/about","routerLinkActive","active",1,"nav-link"],["id","login_a","routerLink","/login","routerLinkActive","active",1,"nav-link"],["id","login_a","routerLink","/login","routerLinkActive","active",1,"nav-link",3,"click"],["routerLink","","routerLinkActive","active",3,"click"],["routerLink","/works","routerLinkActive","active",3,"click"],["routerLink","/blog","routerLinkActive","active",3,"click"],["routerLink","/about","routerLinkActive","active",3,"click"],["routerLink","/login","routerLinkActive","active",3,"click"]],template:function(i,s){i&1&&(y(0,"nav",0)(1,"div",1)(2,"button",2),re("click",function(){return s.ChangLanguage()}),M(3),v(),y(4,"button",3),re("click",function(){return s.SlideList()}),ge(5,"span",4),v(),y(6,"div",5)(7,"ul",6)(8,"li",7),te(9,nG,2,1,"a",8),v(),y(10,"li",7),te(11,rG,2,1,"a",9),v(),y(12,"li",7),te(13,iG,2,1,"a",10),v(),y(14,"li",7),te(15,sG,2,1,"a",11),v(),y(16,"li",7),te(17,oG,2,1,"a",12),v(),y(18,"li",7),te(19,aG,2,1,"a",13),v()()()()(),y(20,"div",14,15)(22,"nav",16)(23,"ul",17)(24,"li"),te(25,cG,2,1,"a",18),v(),y(26,"li"),te(27,uG,2,1,"a",19),v(),y(28,"li"),te(29,lG,2,1,"a",20),v(),y(30,"li"),te(31,dG,2,1,"a",21),v(),y(32,"li"),te(33,hG,2,1,"a",22),v(),y(34,"li"),te(35,fG,2,1,"a",22),v()()()()),i&2&&(D(3),$e(s.langBtn),D(6),L("ngIf",s.isAuth),D(2),L("ngIf",s.isAuth),D(2),L("ngIf",s.isAuth),D(2),L("ngIf",s.isAuth),D(2),L("ngIf",!s.isAuth),D(2),L("ngIf",s.isAuth),D(6),L("ngIf",s.isAuth),D(2),L("ngIf",s.isAuth),D(2),L("ngIf",s.isAuth),D(2),L("ngIf",s.isAuth),D(2),L("ngIf",!s.isAuth),D(2),L("ngIf",s.isAuth))},dependencies:[Nt,Hr,Xs],styles:["#navUl[_ngcontent-%COMP%]{width:100%;right:0;left:auto}#home_a[_ngcontent-%COMP%]{font-size:18px;margin-left:10rem}#work_a[_ngcontent-%COMP%], #blog_a[_ngcontent-%COMP%], #about_a[_ngcontent-%COMP%]{font-size:18px}.btnLanguage[_ngcontent-%COMP%]{border:0px solid transparent;background-color:transparent}.slideDivDefault[_ngcontent-%COMP%]{background-color:#fff;opacity:.94;width:100%;position:absolute;display:inline-block;justify-content:center;text-align:center;padding:30px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);z-index:100}.slideDiv[_ngcontent-%COMP%]{background-color:#fff;width:100%;position:absolute;display:inline-block;justify-content:center;text-align:center;padding:30px}.slideList[_ngcontent-%COMP%]{list-style-type:none}.slideList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:40px}.slideList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000;font-size:20px}#slide-btn[_ngcontent-%COMP%]{border:0px solid transparent}@media (min-width:992px){.slideDivDefault[_ngcontent-%COMP%]{display:none}}"]});let t=e;return t})();var fP=(()=>{let e=class e{constructor(r){this.loginService=r}ngOnInit(){this.loginService.Autologin()}};e.\u0275fac=function(i){return new(i||e)(T(wr))},e.\u0275cmp=ue({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container","mw-100"],[1,"row"],[1,"col"]],template:function(i,s){i&1&&(y(0,"div",0)(1,"div",1)(2,"div",2),ge(3,"app-section-header")(4,"router-outlet"),v()()())},dependencies:[Ey,hP]});let t=e;return t})();var pP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ce({type:e}),e.\u0275inj=Ee({imports:[js,Ya]});let t=e;return t})();var WI={production:!1,firebase:{apiKey:"AIzaSyAx04gJz_2kmf9wjlzW2uIkNe869Ru6Rgg",authDomain:"artapp-d1c03.firebaseapp.com",projectId:"artapp-d1c03",storageBucket:"artapp-d1c03.appspot.com",messagingSenderId:"617262319181",appId:"1:617262319181:web:7bc19e0539aae6485abe04",measurementId:"G-9FBH88GDZY"},api:{}};var gP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ce({type:e,bootstrap:[fP]}),e.\u0275inj=Ee({providers:[UT()],imports:[js,VT,dP,pP,QM,AT,jx.initializeApp(WI.firebase),DM,ix(()=>sx(WI.firebase)),Ex(()=>Cx())]});let t=e;return t})();LT().bootstrapModule(gP).catch(t=>console.error(t));
